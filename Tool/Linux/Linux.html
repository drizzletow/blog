<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.49" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://www.itdrizzle.cn/blog/Tool/Linux/Linux.html"><meta property="og:site_name" content="Blog"><meta property="og:title" content="Linuxå¸¸ç”¨å‘½ä»¤"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><title>Linuxå¸¸ç”¨å‘½ä»¤ | Blog</title><meta name="description" content="DevelopNote and Blog">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/blog/assets/style.03678e8d.css">
    <link rel="modulepreload" href="/blog/assets/app.9c585e1a.js"><link rel="modulepreload" href="/blog/assets/Linux.html.41954f6a.js"><link rel="modulepreload" href="/blog/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/blog/assets/Linux.html.1ecea965.js"><link rel="prefetch" href="/blog/assets/home.html.d3795a1e.js"><link rel="prefetch" href="/blog/assets/index.html.2c142917.js"><link rel="prefetch" href="/blog/assets/home.html.e27b4130.js"><link rel="prefetch" href="/blog/assets/index.html.8704b022.js"><link rel="prefetch" href="/blog/assets/home.html.c878af3e.js"><link rel="prefetch" href="/blog/assets/index.html.6f5cb701.js"><link rel="prefetch" href="/blog/assets/home.html.8ee2f643.js"><link rel="prefetch" href="/blog/assets/index.html.7d22017f.js"><link rel="prefetch" href="/blog/assets/bigdecimal.html.41d79d0b.js"><link rel="prefetch" href="/blog/assets/corn.html.477aab87.js"><link rel="prefetch" href="/blog/assets/home.html.e717dff8.js"><link rel="prefetch" href="/blog/assets/home.html.c4af73cf.js"><link rel="prefetch" href="/blog/assets/index.html.9ac293f9.js"><link rel="prefetch" href="/blog/assets/home.html.5b6ca4c0.js"><link rel="prefetch" href="/blog/assets/index.html.cb9da6e1.js"><link rel="prefetch" href="/blog/assets/mybatis-generator.html.28df4ffa.js"><link rel="prefetch" href="/blog/assets/mybatis-plus.html.3fa0b517.js"><link rel="prefetch" href="/blog/assets/mybatis-resource.html.cf1d7abc.js"><link rel="prefetch" href="/blog/assets/mybatis.html.5e9dad89.js"><link rel="prefetch" href="/blog/assets/tk-mybatis.html.82ee5630.js"><link rel="prefetch" href="/blog/assets/innodb.html.f54e0c7f.js"><link rel="prefetch" href="/blog/assets/jdbc.html.b1c099cf.js"><link rel="prefetch" href="/blog/assets/mysql-index.html.ce424929.js"><link rel="prefetch" href="/blog/assets/mysql-optimization.html.0dc75b75.js"><link rel="prefetch" href="/blog/assets/mysql.html.0c8aff2c.js"><link rel="prefetch" href="/blog/assets/db2.html.92eaf205.js"><link rel="prefetch" href="/blog/assets/oracle.html.cb589e85.js"><link rel="prefetch" href="/blog/assets/redis-resource.html.11e7e002.js"><link rel="prefetch" href="/blog/assets/Redis.html.7f6721dc.js"><link rel="prefetch" href="/blog/assets/sql.html.ca64df3c.js"><link rel="prefetch" href="/blog/assets/index.html.d42f6808.js"><link rel="prefetch" href="/blog/assets/gc.html.57697c19.js"><link rel="prefetch" href="/blog/assets/Jvmå†…å­˜ç®¡ç†.html.8c6815b8.js"><link rel="prefetch" href="/blog/assets/Jvmç±»åŠ è½½.html.70a9dcdf.js"><link rel="prefetch" href="/blog/assets/Specification.html.5149959a.js"><link rel="prefetch" href="/blog/assets/index.html.55dec906.js"><link rel="prefetch" href="/blog/assets/åŠ å¯†ä¸è§£å¯†.html.1d8db957.js"><link rel="prefetch" href="/blog/assets/correlation.html.5a8dc267.js"><link rel="prefetch" href="/blog/assets/tablespace.html.b2ca5efe.js"><link rel="prefetch" href="/blog/assets/disable.html.df7fe42f.js"><link rel="prefetch" href="/blog/assets/encrypt.html.dfe29285.js"><link rel="prefetch" href="/blog/assets/markdown.html.bd0a35bc.js"><link rel="prefetch" href="/blog/assets/index.html.5346c78d.js"><link rel="prefetch" href="/blog/assets/slide.html.fcf03648.js"><link rel="prefetch" href="/blog/assets/git-revert.html.8495f575.js"><link rel="prefetch" href="/blog/assets/get-post.html.0a6ca016.js"><link rel="prefetch" href="/blog/assets/styled-components.html.0d4d2c18.js"><link rel="prefetch" href="/blog/assets/Docker.html.b04ca486.js"><link rel="prefetch" href="/blog/assets/kubernetes.html.3ac6fbd7.js"><link rel="prefetch" href="/blog/assets/Linux-install.html.e25f57da.js"><link rel="prefetch" href="/blog/assets/shell.html.6dfc6824.js"><link rel="prefetch" href="/blog/assets/vim.html.342a8ea2.js"><link rel="prefetch" href="/blog/assets/Gradle.html.8fd63484.js"><link rel="prefetch" href="/blog/assets/maven.html.efa698b6.js"><link rel="prefetch" href="/blog/assets/idea.html.f12c1077.js"><link rel="prefetch" href="/blog/assets/windows.html.f53e2894.js"><link rel="prefetch" href="/blog/assets/git.html.db1356ab.js"><link rel="prefetch" href="/blog/assets/ajax.html.50903e14.js"><link rel="prefetch" href="/blog/assets/CSS.html.fc2e3a3b.js"><link rel="prefetch" href="/blog/assets/ES6.html.eb7905cf.js"><link rel="prefetch" href="/blog/assets/HTML.html.09a9f344.js"><link rel="prefetch" href="/blog/assets/JavaScript.html.2bfd9836.js"><link rel="prefetch" href="/blog/assets/json.html.5420e894.js"><link rel="prefetch" href="/blog/assets/WebAPI.html.d9c5927d.js"><link rel="prefetch" href="/blog/assets/nodejs.html.d75a8c4d.js"><link rel="prefetch" href="/blog/assets/jQuery.html.48fefbc1.js"><link rel="prefetch" href="/blog/assets/uniapp.html.7314f725.js"><link rel="prefetch" href="/blog/assets/collection.html.6adacdda.js"><link rel="prefetch" href="/blog/assets/generics.html.eacc8603.js"><link rel="prefetch" href="/blog/assets/HashMapæºç åˆ†æ.html.70f3c007.js"><link rel="prefetch" href="/blog/assets/setå’Œmap.html.e40d87b7.js"><link rel="prefetch" href="/blog/assets/JaråŒ…çš„å¯¼å…¥.html.42e18cc4.js"><link rel="prefetch" href="/blog/assets/Java.html.6effb09b.js"><link rel="prefetch" href="/blog/assets/Javaå†å²åŠç®€ä»‹.html.717d3cb8.js"><link rel="prefetch" href="/blog/assets/Javaå¸¸ç”¨ç±»åº“.html.b359beb0.js"><link rel="prefetch" href="/blog/assets/Javaé¢å‘å¯¹è±¡.html.8ba23325.js"><link rel="prefetch" href="/blog/assets/åŸç åç å’Œè¡¥ç .html.0bb15e36.js"><link rel="prefetch" href="/blog/assets/æ•°ç»„å’Œå­—ç¬¦ä¸².html.8dba9f48.js"><link rel="prefetch" href="/blog/assets/Lambda.html.3d1df8c9.js"><link rel="prefetch" href="/blog/assets/Stream.html.1fb1bdc8.js"><link rel="prefetch" href="/blog/assets/Annotation.html.1b439d5e.js"><link rel="prefetch" href="/blog/assets/Enum.html.bbb4d530.js"><link rel="prefetch" href="/blog/assets/Reflection.html.81b8417f.js"><link rel="prefetch" href="/blog/assets/zookeeper.html.c221500b.js"><link rel="prefetch" href="/blog/assets/component.html.8f4cedcc.js"><link rel="prefetch" href="/blog/assets/css.html.05e85d0c.js"><link rel="prefetch" href="/blog/assets/jsx.html.153adead.js"><link rel="prefetch" href="/blog/assets/component.html.8f5d0cb0.js"><link rel="prefetch" href="/blog/assets/hooks.html.fd0d0287.js"><link rel="prefetch" href="/blog/assets/jsx.html.b97fa724.js"><link rel="prefetch" href="/blog/assets/react.html.25b5c601.js"><link rel="prefetch" href="/blog/assets/vue.html.c28d03a5.js"><link rel="prefetch" href="/blog/assets/404.html.0b36b055.js"><link rel="prefetch" href="/blog/assets/index.html.bab2af12.js"><link rel="prefetch" href="/blog/assets/index.html.e41e87d3.js"><link rel="prefetch" href="/blog/assets/index.html.7787152c.js"><link rel="prefetch" href="/blog/assets/index.html.cef3111a.js"><link rel="prefetch" href="/blog/assets/index.html.c90b33f8.js"><link rel="prefetch" href="/blog/assets/index.html.9b9d8436.js"><link rel="prefetch" href="/blog/assets/index.html.f8e39c2d.js"><link rel="prefetch" href="/blog/assets/index.html.0137c8ad.js"><link rel="prefetch" href="/blog/assets/index.html.444ee9dd.js"><link rel="prefetch" href="/blog/assets/index.html.8080f2a6.js"><link rel="prefetch" href="/blog/assets/index.html.b9a9b4e5.js"><link rel="prefetch" href="/blog/assets/index.html.1649ae6e.js"><link rel="prefetch" href="/blog/assets/index.html.943f41fc.js"><link rel="prefetch" href="/blog/assets/index.html.a9e7b934.js"><link rel="prefetch" href="/blog/assets/index.html.0a3a7cd7.js"><link rel="prefetch" href="/blog/assets/index.html.5d331ca5.js"><link rel="prefetch" href="/blog/assets/index.html.6eb84cb8.js"><link rel="prefetch" href="/blog/assets/index.html.dbbba9a7.js"><link rel="prefetch" href="/blog/assets/index.html.267b9d3d.js"><link rel="prefetch" href="/blog/assets/index.html.b2c9c053.js"><link rel="prefetch" href="/blog/assets/index.html.df38ef9c.js"><link rel="prefetch" href="/blog/assets/index.html.0d0ae91d.js"><link rel="prefetch" href="/blog/assets/index.html.6bfe052a.js"><link rel="prefetch" href="/blog/assets/index.html.80f037bb.js"><link rel="prefetch" href="/blog/assets/index.html.81cf91ac.js"><link rel="prefetch" href="/blog/assets/index.html.93d4b516.js"><link rel="prefetch" href="/blog/assets/index.html.b4f94eaf.js"><link rel="prefetch" href="/blog/assets/index.html.841e5f93.js"><link rel="prefetch" href="/blog/assets/index.html.9f380a09.js"><link rel="prefetch" href="/blog/assets/index.html.c2a7f202.js"><link rel="prefetch" href="/blog/assets/index.html.564cd1b7.js"><link rel="prefetch" href="/blog/assets/index.html.9b9f22e6.js"><link rel="prefetch" href="/blog/assets/index.html.d2850d4e.js"><link rel="prefetch" href="/blog/assets/index.html.1903a545.js"><link rel="prefetch" href="/blog/assets/index.html.befee4ae.js"><link rel="prefetch" href="/blog/assets/index.html.ce765bc1.js"><link rel="prefetch" href="/blog/assets/index.html.48580fa0.js"><link rel="prefetch" href="/blog/assets/index.html.1620d430.js"><link rel="prefetch" href="/blog/assets/index.html.c4ee5037.js"><link rel="prefetch" href="/blog/assets/index.html.cd271d97.js"><link rel="prefetch" href="/blog/assets/index.html.ccafc9ea.js"><link rel="prefetch" href="/blog/assets/index.html.f0457a32.js"><link rel="prefetch" href="/blog/assets/index.html.35f8adc7.js"><link rel="prefetch" href="/blog/assets/index.html.a782936d.js"><link rel="prefetch" href="/blog/assets/index.html.d80f7b9d.js"><link rel="prefetch" href="/blog/assets/index.html.65b8053b.js"><link rel="prefetch" href="/blog/assets/home.html.270a18d3.js"><link rel="prefetch" href="/blog/assets/index.html.f176e7c4.js"><link rel="prefetch" href="/blog/assets/home.html.ca1118b5.js"><link rel="prefetch" href="/blog/assets/index.html.57da1e8b.js"><link rel="prefetch" href="/blog/assets/home.html.e3ee7150.js"><link rel="prefetch" href="/blog/assets/index.html.020d0c4b.js"><link rel="prefetch" href="/blog/assets/home.html.67363dc3.js"><link rel="prefetch" href="/blog/assets/index.html.601a87f6.js"><link rel="prefetch" href="/blog/assets/bigdecimal.html.51c5441e.js"><link rel="prefetch" href="/blog/assets/corn.html.35ecabab.js"><link rel="prefetch" href="/blog/assets/home.html.0134dce3.js"><link rel="prefetch" href="/blog/assets/home.html.041d58fe.js"><link rel="prefetch" href="/blog/assets/index.html.fc1684a0.js"><link rel="prefetch" href="/blog/assets/home.html.33c85836.js"><link rel="prefetch" href="/blog/assets/index.html.93f7f1ef.js"><link rel="prefetch" href="/blog/assets/mybatis-generator.html.afbfadc7.js"><link rel="prefetch" href="/blog/assets/mybatis-plus.html.9d4ee7b1.js"><link rel="prefetch" href="/blog/assets/mybatis-resource.html.8ae2a69b.js"><link rel="prefetch" href="/blog/assets/mybatis.html.8aa6877a.js"><link rel="prefetch" href="/blog/assets/tk-mybatis.html.f62cf324.js"><link rel="prefetch" href="/blog/assets/innodb.html.93614b99.js"><link rel="prefetch" href="/blog/assets/jdbc.html.ca2e4f71.js"><link rel="prefetch" href="/blog/assets/mysql-index.html.d84acf73.js"><link rel="prefetch" href="/blog/assets/mysql-optimization.html.d855c37b.js"><link rel="prefetch" href="/blog/assets/mysql.html.6b717645.js"><link rel="prefetch" href="/blog/assets/db2.html.29f6d7f0.js"><link rel="prefetch" href="/blog/assets/oracle.html.a9b84acd.js"><link rel="prefetch" href="/blog/assets/redis-resource.html.a405c6fd.js"><link rel="prefetch" href="/blog/assets/Redis.html.0c0dc350.js"><link rel="prefetch" href="/blog/assets/sql.html.3fe27e65.js"><link rel="prefetch" href="/blog/assets/index.html.d0df0caf.js"><link rel="prefetch" href="/blog/assets/gc.html.90732089.js"><link rel="prefetch" href="/blog/assets/Jvmå†…å­˜ç®¡ç†.html.7c37129b.js"><link rel="prefetch" href="/blog/assets/Jvmç±»åŠ è½½.html.52b8d1b2.js"><link rel="prefetch" href="/blog/assets/Specification.html.88466d91.js"><link rel="prefetch" href="/blog/assets/index.html.28efcbe4.js"><link rel="prefetch" href="/blog/assets/åŠ å¯†ä¸è§£å¯†.html.7d657aee.js"><link rel="prefetch" href="/blog/assets/correlation.html.4b3f7177.js"><link rel="prefetch" href="/blog/assets/tablespace.html.ee2c4d1a.js"><link rel="prefetch" href="/blog/assets/disable.html.8bfd6fc6.js"><link rel="prefetch" href="/blog/assets/encrypt.html.8100f68b.js"><link rel="prefetch" href="/blog/assets/markdown.html.7ff337b7.js"><link rel="prefetch" href="/blog/assets/index.html.bf398e8b.js"><link rel="prefetch" href="/blog/assets/slide.html.ecdda92d.js"><link rel="prefetch" href="/blog/assets/git-revert.html.0676865c.js"><link rel="prefetch" href="/blog/assets/get-post.html.b7d97ba3.js"><link rel="prefetch" href="/blog/assets/styled-components.html.ad12108e.js"><link rel="prefetch" href="/blog/assets/Docker.html.1bfafc85.js"><link rel="prefetch" href="/blog/assets/kubernetes.html.c0178fbe.js"><link rel="prefetch" href="/blog/assets/Linux-install.html.9951c50f.js"><link rel="prefetch" href="/blog/assets/shell.html.dce5720e.js"><link rel="prefetch" href="/blog/assets/vim.html.eeeb0992.js"><link rel="prefetch" href="/blog/assets/Gradle.html.4aaf5661.js"><link rel="prefetch" href="/blog/assets/maven.html.79e91faf.js"><link rel="prefetch" href="/blog/assets/idea.html.0c1074eb.js"><link rel="prefetch" href="/blog/assets/windows.html.389b8d7a.js"><link rel="prefetch" href="/blog/assets/git.html.0711a984.js"><link rel="prefetch" href="/blog/assets/ajax.html.517686ee.js"><link rel="prefetch" href="/blog/assets/CSS.html.02fca465.js"><link rel="prefetch" href="/blog/assets/ES6.html.6faf280e.js"><link rel="prefetch" href="/blog/assets/HTML.html.f52dc59e.js"><link rel="prefetch" href="/blog/assets/JavaScript.html.dec12169.js"><link rel="prefetch" href="/blog/assets/json.html.80b0710a.js"><link rel="prefetch" href="/blog/assets/WebAPI.html.de4201cf.js"><link rel="prefetch" href="/blog/assets/nodejs.html.8915c74a.js"><link rel="prefetch" href="/blog/assets/jQuery.html.4fe98037.js"><link rel="prefetch" href="/blog/assets/uniapp.html.41a82ccb.js"><link rel="prefetch" href="/blog/assets/collection.html.6fc1fa80.js"><link rel="prefetch" href="/blog/assets/generics.html.343c831e.js"><link rel="prefetch" href="/blog/assets/HashMapæºç åˆ†æ.html.62c1907a.js"><link rel="prefetch" href="/blog/assets/setå’Œmap.html.1f11a4b3.js"><link rel="prefetch" href="/blog/assets/JaråŒ…çš„å¯¼å…¥.html.356fc6cb.js"><link rel="prefetch" href="/blog/assets/Java.html.4de9bfeb.js"><link rel="prefetch" href="/blog/assets/Javaå†å²åŠç®€ä»‹.html.002632c2.js"><link rel="prefetch" href="/blog/assets/Javaå¸¸ç”¨ç±»åº“.html.e5b4ce23.js"><link rel="prefetch" href="/blog/assets/Javaé¢å‘å¯¹è±¡.html.96054b89.js"><link rel="prefetch" href="/blog/assets/åŸç åç å’Œè¡¥ç .html.d603aed4.js"><link rel="prefetch" href="/blog/assets/æ•°ç»„å’Œå­—ç¬¦ä¸².html.53ade01f.js"><link rel="prefetch" href="/blog/assets/Lambda.html.04f59ebb.js"><link rel="prefetch" href="/blog/assets/Stream.html.c391d815.js"><link rel="prefetch" href="/blog/assets/Annotation.html.6e821d9e.js"><link rel="prefetch" href="/blog/assets/Enum.html.0cb7beb1.js"><link rel="prefetch" href="/blog/assets/Reflection.html.cc6f50d7.js"><link rel="prefetch" href="/blog/assets/zookeeper.html.7c085d9a.js"><link rel="prefetch" href="/blog/assets/component.html.e12e4944.js"><link rel="prefetch" href="/blog/assets/css.html.9389d304.js"><link rel="prefetch" href="/blog/assets/jsx.html.dfa9d559.js"><link rel="prefetch" href="/blog/assets/component.html.5f0b157b.js"><link rel="prefetch" href="/blog/assets/hooks.html.4564fa85.js"><link rel="prefetch" href="/blog/assets/jsx.html.6f32835b.js"><link rel="prefetch" href="/blog/assets/react.html.43e3825e.js"><link rel="prefetch" href="/blog/assets/vue.html.94fd0a9a.js"><link rel="prefetch" href="/blog/assets/404.html.a0dc91c0.js"><link rel="prefetch" href="/blog/assets/index.html.69bf08a0.js"><link rel="prefetch" href="/blog/assets/index.html.3373c83b.js"><link rel="prefetch" href="/blog/assets/index.html.c6ccd9bb.js"><link rel="prefetch" href="/blog/assets/index.html.e6fbc367.js"><link rel="prefetch" href="/blog/assets/index.html.23b10552.js"><link rel="prefetch" href="/blog/assets/index.html.03ebe1ea.js"><link rel="prefetch" href="/blog/assets/index.html.dba90a0e.js"><link rel="prefetch" href="/blog/assets/index.html.3ccc7f14.js"><link rel="prefetch" href="/blog/assets/index.html.cd27d517.js"><link rel="prefetch" href="/blog/assets/index.html.bde26f2d.js"><link rel="prefetch" href="/blog/assets/index.html.fd5fd808.js"><link rel="prefetch" href="/blog/assets/index.html.a9425e51.js"><link rel="prefetch" href="/blog/assets/index.html.b1faefa4.js"><link rel="prefetch" href="/blog/assets/index.html.1635016e.js"><link rel="prefetch" href="/blog/assets/index.html.4ac84133.js"><link rel="prefetch" href="/blog/assets/index.html.20b53b7e.js"><link rel="prefetch" href="/blog/assets/index.html.093c19c4.js"><link rel="prefetch" href="/blog/assets/index.html.fd048558.js"><link rel="prefetch" href="/blog/assets/index.html.93f5f5b4.js"><link rel="prefetch" href="/blog/assets/index.html.1e24ea71.js"><link rel="prefetch" href="/blog/assets/index.html.38f7f742.js"><link rel="prefetch" href="/blog/assets/index.html.205cba3d.js"><link rel="prefetch" href="/blog/assets/index.html.7da29874.js"><link rel="prefetch" href="/blog/assets/index.html.b1bdd551.js"><link rel="prefetch" href="/blog/assets/index.html.a07d850d.js"><link rel="prefetch" href="/blog/assets/index.html.91c9814f.js"><link rel="prefetch" href="/blog/assets/index.html.26850f54.js"><link rel="prefetch" href="/blog/assets/index.html.6b407dba.js"><link rel="prefetch" href="/blog/assets/index.html.45cf3034.js"><link rel="prefetch" href="/blog/assets/index.html.e2395a8e.js"><link rel="prefetch" href="/blog/assets/index.html.a5071134.js"><link rel="prefetch" href="/blog/assets/index.html.35deda79.js"><link rel="prefetch" href="/blog/assets/index.html.42996d22.js"><link rel="prefetch" href="/blog/assets/index.html.7b9b88c6.js"><link rel="prefetch" href="/blog/assets/index.html.fe13ff4c.js"><link rel="prefetch" href="/blog/assets/index.html.289310f5.js"><link rel="prefetch" href="/blog/assets/index.html.2b5641fc.js"><link rel="prefetch" href="/blog/assets/index.html.73262cff.js"><link rel="prefetch" href="/blog/assets/index.html.b9affbda.js"><link rel="prefetch" href="/blog/assets/index.html.793f6968.js"><link rel="prefetch" href="/blog/assets/index.html.bde196b5.js"><link rel="prefetch" href="/blog/assets/index.html.6a57e3e1.js"><link rel="prefetch" href="/blog/assets/index.html.ffef6a7a.js"><link rel="prefetch" href="/blog/assets/index.html.783a0f10.js"><link rel="prefetch" href="/blog/assets/index.html.9fa127dc.js"><link rel="prefetch" href="/blog/assets/index.html.760d1dae.js"><link rel="prefetch" href="/blog/assets/404.d5ddda4f.js"><link rel="prefetch" href="/blog/assets/Layout.7c61ce17.js"><link rel="prefetch" href="/blog/assets/Slide.92c26b2b.js"><link rel="prefetch" href="/blog/assets/Blog.5e2160fa.js"><link rel="prefetch" href="/blog/assets/auto.264f6c8c.js"><link rel="prefetch" href="/blog/assets/index.d8a59108.js"><link rel="prefetch" href="/blog/assets/index.1842ee54.js"><link rel="prefetch" href="/blog/assets/mermaid.esm.min.fac286bf.js"><link rel="prefetch" href="/blog/assets/highlight.esm.d982e650.js"><link rel="prefetch" href="/blog/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/blog/assets/math.esm.a3f84b6f.js"><link rel="prefetch" href="/blog/assets/notes.esm.3c361cb7.js"><link rel="prefetch" href="/blog/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/blog/assets/search.esm.80da4a02.js"><link rel="prefetch" href="/blog/assets/zoom.esm.8514a202.js"><link rel="prefetch" href="/blog/assets/Playground.9cdfe0a8.js"><link rel="prefetch" href="/blog/assets/photoswipe.esm.218074cd.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/blog/" class="brand"><img class="logo" src="/blog/img/snowman.png" alt="Blog"><!----><span class="site-name hide-in-pad">Blog</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/blog/home.html" class="nav-link" aria-label="Home"><span class="icon iconfont icon-home"></span>Home<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/Java/home.html" class="nav-link" aria-label="JavaDev"><span class="icon iconfont icon-java"></span>JavaDev<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/Database/home.html" class="nav-link" aria-label="Database"><span class="icon iconfont icon-db"></span>Database<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/MicroService/home.html" class="nav-link" aria-label="MicroService"><span class="icon iconfont icon-microservice"></span>MicroService<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/Tool/home.html" class="nav-link" aria-label="Devops"><span class="icon iconfont icon-tools"></span>Devops<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/Web/home.html" class="nav-link" aria-label="Web"><span class="icon iconfont icon-net"></span>Web<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Other"><span class="title"><span class="icon iconfont icon-other"></span>Other</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/blog/Theory/home.html" class="nav-link" aria-label="Theory"><span class="icon iconfont icon-theory"></span>Theory<!----></a></li><li class="dropdown-item"><a href="/blog/C++/home.md" class="nav-link" aria-label="C/C++"><span class="icon iconfont icon-cpp"></span>C/C++<!----></a></li><li class="dropdown-item"><a href="/blog/Golang/home.md" class="nav-link" aria-label="Golang"><span class="icon iconfont icon-golang"></span>Golang<!----></a></li><li class="dropdown-item"><a href="/blog/BigData/home.md" class="nav-link" aria-label="BigData"><span class="icon iconfont icon-bigdata"></span>BigData<!----></a></li><li class="dropdown-item"><a href="/blog/Python/home.md" class="nav-link" aria-label="Python"><span class="icon iconfont icon-python"></span>Python<!----></a></li><li class="dropdown-item"><a href="/blog/Interview/home.md" class="nav-link" aria-label="Interview"><span class="icon iconfont icon-interview"></span>Interview<!----></a></li></ul></button></div></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/develop-note" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading active"><span class="icon iconfont icon-structure"></span><span class="title">é¡¹ç›®ç®¡ç†/Linuxä¸äº‘åŸç”Ÿ</span><!----></p><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-note"></span><span class="title">ç‰ˆæœ¬æ§åˆ¶å’Œé¡¹ç›®ç®¡ç†</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="icon iconfont icon-note"></span><span class="title">Linuxç³»ç»Ÿä¸åº”ç”¨</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/blog/Tool/Linux/Linux-install.html" class="nav-link sidebar-link sidebar-page" aria-label="VMware/Linuxå®‰è£…"><!---->VMware/Linuxå®‰è£…<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/blog/Tool/Linux/Linux.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Linuxå¸¸ç”¨å‘½ä»¤"><!---->Linuxå¸¸ç”¨å‘½ä»¤<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#ä¸€-linuxç®€ä»‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸€ Linuxç®€ä»‹"><!---->ä¸€ Linuxç®€ä»‹<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_1-å‘½ä»¤è¡Œæç¤ºç¬¦" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. å‘½ä»¤è¡Œæç¤ºç¬¦"><!---->1. å‘½ä»¤è¡Œæç¤ºç¬¦<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_2-æŸ¥çœ‹å‘½ä»¤å¸®åŠ©" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. æŸ¥çœ‹å‘½ä»¤å¸®åŠ©"><!---->2. æŸ¥çœ‹å‘½ä»¤å¸®åŠ©<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_3-å…³æœºé‡å¯æ³¨é”€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. å…³æœºé‡å¯æ³¨é”€"><!---->3. å…³æœºé‡å¯æ³¨é”€<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_4-æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯"><!---->4. æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_5-linuxè¯­è¨€è®¾ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5. Linuxè¯­è¨€è®¾ç½®"><!---->5. Linuxè¯­è¨€è®¾ç½®<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#äºŒ-æ–‡ä»¶ä¸ç›®å½•ç®¡ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="äºŒ æ–‡ä»¶ä¸ç›®å½•ç®¡ç†"><!---->äºŒ æ–‡ä»¶ä¸ç›®å½•ç®¡ç†<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_1-mkdirå’Œtouch" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. mkdirå’Œtouch"><!---->1. mkdirå’Œtouch<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_2-ä¿®æ”¹æ–‡ä»¶æ—¶é—´" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. ä¿®æ”¹æ–‡ä»¶æ—¶é—´"><!---->2. ä¿®æ”¹æ–‡ä»¶æ—¶é—´<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_3-å¤åˆ¶ç§»åŠ¨åˆ é™¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. å¤åˆ¶ç§»åŠ¨åˆ é™¤"><!---->3. å¤åˆ¶ç§»åŠ¨åˆ é™¤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_4-æŸ¥çœ‹æ–‡ä»¶å†…å®¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. æŸ¥çœ‹æ–‡ä»¶å†…å®¹"><!---->4. æŸ¥çœ‹æ–‡ä»¶å†…å®¹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_5-å‹ç¼©å’Œè§£å‹ç¼©" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5. å‹ç¼©å’Œè§£å‹ç¼©"><!---->5. å‹ç¼©å’Œè§£å‹ç¼©<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_6-è¿½åŠ ä¸é‡å®šå‘" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6. è¿½åŠ ä¸é‡å®šå‘"><!---->6. è¿½åŠ ä¸é‡å®šå‘<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#ä¸‰-ç”¨æˆ·ä¸æƒé™ç®¡ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸‰ ç”¨æˆ·ä¸æƒé™ç®¡ç†"><!---->ä¸‰ ç”¨æˆ·ä¸æƒé™ç®¡ç†<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_1-ç”¨æˆ·å’Œç»„ç®¡ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. ç”¨æˆ·å’Œç»„ç®¡ç†"><!---->1. ç”¨æˆ·å’Œç»„ç®¡ç†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_2-æ–‡ä»¶æƒé™ç®¡ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. æ–‡ä»¶æƒé™ç®¡ç†"><!---->2. æ–‡ä»¶æƒé™ç®¡ç†<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#å››-è¿›ç¨‹ä¸æœåŠ¡ç®¡ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å›› è¿›ç¨‹ä¸æœåŠ¡ç®¡ç†"><!---->å›› è¿›ç¨‹ä¸æœåŠ¡ç®¡ç†<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_1-linuxè¿›ç¨‹ç®¡ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. Linuxè¿›ç¨‹ç®¡ç†"><!---->1. Linuxè¿›ç¨‹ç®¡ç†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_2-linuxæœåŠ¡ç®¡ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. LinuxæœåŠ¡ç®¡ç†"><!---->2. LinuxæœåŠ¡ç®¡ç†<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#äº”-sshå’Œç½‘ç»œç®¡ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="äº” SSHå’Œç½‘ç»œç®¡ç†"><!---->äº” SSHå’Œç½‘ç»œç®¡ç†<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_1-å¸¸ç”¨ç½‘ç»œå·¥å…·" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. å¸¸ç”¨ç½‘ç»œå·¥å…·"><!---->1. å¸¸ç”¨ç½‘ç»œå·¥å…·<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_2-sshè¿œç¨‹è¿æ¥" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. SSHè¿œç¨‹è¿æ¥"><!---->2. SSHè¿œç¨‹è¿æ¥<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_3-linuxé˜²ç«å¢™" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. Linuxé˜²ç«å¢™"><!---->3. Linuxé˜²ç«å¢™<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#å…­-ç³»ç»Ÿå·¥å…·systemd" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å…­ ç³»ç»Ÿå·¥å…·Systemd"><!---->å…­ ç³»ç»Ÿå·¥å…·Systemd<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_1-systemdç³»ç»Ÿç®¡ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. Systemdç³»ç»Ÿç®¡ç†"><!---->1. Systemdç³»ç»Ÿç®¡ç†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_2-systemdç³»ç»Ÿèµ„æº" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. Systemdç³»ç»Ÿèµ„æº"><!---->2. Systemdç³»ç»Ÿèµ„æº<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_3-unitçŠ¶æ€å’Œç®¡ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. UnitçŠ¶æ€å’Œç®¡ç†"><!---->3. UnitçŠ¶æ€å’Œç®¡ç†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_4-unitçš„é…ç½®æ–‡ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. Unitçš„é…ç½®æ–‡ä»¶"><!---->4. Unitçš„é…ç½®æ–‡ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_5-target-unit-ç»„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5. Target(Unit ç»„)"><!---->5. Target(Unit ç»„)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_6-systemdæ—¥å¿—ç®¡ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6. Systemdæ—¥å¿—ç®¡ç†"><!---->6. Systemdæ—¥å¿—ç®¡ç†<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#ä¸ƒ-systemdä½¿ç”¨åœºæ™¯" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸ƒ Systemdä½¿ç”¨åœºæ™¯"><!---->ä¸ƒ Systemdä½¿ç”¨åœºæ™¯<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_1-å¼€æœºè‡ªå¯åŠ¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. å¼€æœºè‡ªå¯åŠ¨"><!---->1. å¼€æœºè‡ªå¯åŠ¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_2-å¯åŠ¨åœæ­¢æœåŠ¡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. å¯åŠ¨åœæ­¢æœåŠ¡"><!---->2. å¯åŠ¨åœæ­¢æœåŠ¡<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_3-æœåŠ¡é…ç½®æ–‡ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. æœåŠ¡é…ç½®æ–‡ä»¶"><!---->3. æœåŠ¡é…ç½®æ–‡ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_4-targeté…ç½®æ–‡ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. Targeté…ç½®æ–‡ä»¶"><!---->4. Targeté…ç½®æ–‡ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_5-ä¿®æ”¹é…ç½®æ–‡ä»¶åé‡å¯" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5. ä¿®æ”¹é…ç½®æ–‡ä»¶åé‡å¯"><!---->5. ä¿®æ”¹é…ç½®æ–‡ä»¶åé‡å¯<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/blog/Tool/Linux/shell.html" class="nav-link sidebar-link sidebar-page" aria-label="Shellè„šæœ¬ç¼–ç¨‹"><!---->Shellè„šæœ¬ç¼–ç¨‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/Tool/Linux/vim.html" class="nav-link sidebar-link sidebar-page" aria-label="Vimä½¿ç”¨æŠ€å·§"><!---->Vimä½¿ç”¨æŠ€å·§<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-note"></span><span class="title">å®¹å™¨åŒ–ä¸äº‘åŸç”ŸæŠ€æœ¯</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-note"></span><span class="title">å¸¸ç”¨çš„å·¥å…·å’Œè½¯ä»¶</span><span class="arrow right"></span></button><!----></section><!--]--></li></ul></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Linuxå¸¸ç”¨å‘½ä»¤</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://www.github.com/itdrizzle" target="_blank" rel="noopener noreferrer">csdrizzle</a></span><span property="author" content="csdrizzle"></span></span><!----><!----><!----><!----><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 38 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT38M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#ä¸€-linuxç®€ä»‹" class="router-link-active router-link-exact-active toc-link level2">ä¸€ Linuxç®€ä»‹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_1-å‘½ä»¤è¡Œæç¤ºç¬¦" class="router-link-active router-link-exact-active toc-link level3">1. å‘½ä»¤è¡Œæç¤ºç¬¦</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_2-æŸ¥çœ‹å‘½ä»¤å¸®åŠ©" class="router-link-active router-link-exact-active toc-link level3">2. æŸ¥çœ‹å‘½ä»¤å¸®åŠ©</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_3-å…³æœºé‡å¯æ³¨é”€" class="router-link-active router-link-exact-active toc-link level3">3. å…³æœºé‡å¯æ³¨é”€</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_4-æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯" class="router-link-active router-link-exact-active toc-link level3">4. æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_5-linuxè¯­è¨€è®¾ç½®" class="router-link-active router-link-exact-active toc-link level3">5. Linuxè¯­è¨€è®¾ç½®</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#äºŒ-æ–‡ä»¶ä¸ç›®å½•ç®¡ç†" class="router-link-active router-link-exact-active toc-link level2">äºŒ æ–‡ä»¶ä¸ç›®å½•ç®¡ç†</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_1-mkdirå’Œtouch" class="router-link-active router-link-exact-active toc-link level3">1. mkdirå’Œtouch</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_2-ä¿®æ”¹æ–‡ä»¶æ—¶é—´" class="router-link-active router-link-exact-active toc-link level3">2. ä¿®æ”¹æ–‡ä»¶æ—¶é—´</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_3-å¤åˆ¶ç§»åŠ¨åˆ é™¤" class="router-link-active router-link-exact-active toc-link level3">3. å¤åˆ¶ç§»åŠ¨åˆ é™¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_4-æŸ¥çœ‹æ–‡ä»¶å†…å®¹" class="router-link-active router-link-exact-active toc-link level3">4. æŸ¥çœ‹æ–‡ä»¶å†…å®¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_5-å‹ç¼©å’Œè§£å‹ç¼©" class="router-link-active router-link-exact-active toc-link level3">5. å‹ç¼©å’Œè§£å‹ç¼©</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_6-è¿½åŠ ä¸é‡å®šå‘" class="router-link-active router-link-exact-active toc-link level3">6. è¿½åŠ ä¸é‡å®šå‘</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#ä¸‰-ç”¨æˆ·ä¸æƒé™ç®¡ç†" class="router-link-active router-link-exact-active toc-link level2">ä¸‰ ç”¨æˆ·ä¸æƒé™ç®¡ç†</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_1-ç”¨æˆ·å’Œç»„ç®¡ç†" class="router-link-active router-link-exact-active toc-link level3">1. ç”¨æˆ·å’Œç»„ç®¡ç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_2-æ–‡ä»¶æƒé™ç®¡ç†" class="router-link-active router-link-exact-active toc-link level3">2. æ–‡ä»¶æƒé™ç®¡ç†</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#å››-è¿›ç¨‹ä¸æœåŠ¡ç®¡ç†" class="router-link-active router-link-exact-active toc-link level2">å›› è¿›ç¨‹ä¸æœåŠ¡ç®¡ç†</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_1-linuxè¿›ç¨‹ç®¡ç†" class="router-link-active router-link-exact-active toc-link level3">1. Linuxè¿›ç¨‹ç®¡ç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_2-linuxæœåŠ¡ç®¡ç†" class="router-link-active router-link-exact-active toc-link level3">2. LinuxæœåŠ¡ç®¡ç†</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#äº”-sshå’Œç½‘ç»œç®¡ç†" class="router-link-active router-link-exact-active toc-link level2">äº” SSHå’Œç½‘ç»œç®¡ç†</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_1-å¸¸ç”¨ç½‘ç»œå·¥å…·" class="router-link-active router-link-exact-active toc-link level3">1. å¸¸ç”¨ç½‘ç»œå·¥å…·</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_2-sshè¿œç¨‹è¿æ¥" class="router-link-active router-link-exact-active toc-link level3">2. SSHè¿œç¨‹è¿æ¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_3-linuxé˜²ç«å¢™" class="router-link-active router-link-exact-active toc-link level3">3. Linuxé˜²ç«å¢™</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#å…­-ç³»ç»Ÿå·¥å…·systemd" class="router-link-active router-link-exact-active toc-link level2">å…­ ç³»ç»Ÿå·¥å…·Systemd</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_1-systemdç³»ç»Ÿç®¡ç†" class="router-link-active router-link-exact-active toc-link level3">1. Systemdç³»ç»Ÿç®¡ç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_2-systemdç³»ç»Ÿèµ„æº" class="router-link-active router-link-exact-active toc-link level3">2. Systemdç³»ç»Ÿèµ„æº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_3-unitçŠ¶æ€å’Œç®¡ç†" class="router-link-active router-link-exact-active toc-link level3">3. UnitçŠ¶æ€å’Œç®¡ç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_4-unitçš„é…ç½®æ–‡ä»¶" class="router-link-active router-link-exact-active toc-link level3">4. Unitçš„é…ç½®æ–‡ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_5-target-unit-ç»„" class="router-link-active router-link-exact-active toc-link level3">5. Target(Unit ç»„)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_6-systemdæ—¥å¿—ç®¡ç†" class="router-link-active router-link-exact-active toc-link level3">6. Systemdæ—¥å¿—ç®¡ç†</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#ä¸ƒ-systemdä½¿ç”¨åœºæ™¯" class="router-link-active router-link-exact-active toc-link level2">ä¸ƒ Systemdä½¿ç”¨åœºæ™¯</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_1-å¼€æœºè‡ªå¯åŠ¨" class="router-link-active router-link-exact-active toc-link level3">1. å¼€æœºè‡ªå¯åŠ¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_2-å¯åŠ¨åœæ­¢æœåŠ¡" class="router-link-active router-link-exact-active toc-link level3">2. å¯åŠ¨åœæ­¢æœåŠ¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_3-æœåŠ¡é…ç½®æ–‡ä»¶" class="router-link-active router-link-exact-active toc-link level3">3. æœåŠ¡é…ç½®æ–‡ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_4-targeté…ç½®æ–‡ä»¶" class="router-link-active router-link-exact-active toc-link level3">4. Targeté…ç½®æ–‡ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Tool/Linux/Linux.html#_5-ä¿®æ”¹é…ç½®æ–‡ä»¶åé‡å¯" class="router-link-active router-link-exact-active toc-link level3">5. ä¿®æ”¹é…ç½®æ–‡ä»¶åé‡å¯</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="linuxå¸¸ç”¨å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#linuxå¸¸ç”¨å‘½ä»¤" aria-hidden="true">#</a> Linuxå¸¸ç”¨å‘½ä»¤</h1><h2 id="ä¸€-linuxç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#ä¸€-linuxç®€ä»‹" aria-hidden="true">#</a> ä¸€ Linuxç®€ä»‹</h2><p>ä¸€äº›åœ¨çº¿ç½‘ç«™ï¼š</p><ul><li><a href="http://cn.linux.vbird.org/linux_server/" target="_blank" rel="noopener noreferrer">é¸Ÿå“¥çš„ Linux ç§æˆ¿èœ æœåŠ¡å™¨æ¶è®¾ç¯‡<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="http://cn.linux.vbird.org/linux_basic/linux_basic.php" target="_blank" rel="noopener noreferrer">é¸Ÿå“¥çš„ Linux ç§æˆ¿èœ åŸºç¡€å­¦ä¹ ç¯‡<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><br><h3 id="_1-å‘½ä»¤è¡Œæç¤ºç¬¦" tabindex="-1"><a class="header-anchor" href="#_1-å‘½ä»¤è¡Œæç¤ºç¬¦" aria-hidden="true">#</a> 1. å‘½ä»¤è¡Œæç¤ºç¬¦</h3><p>Linuxå‘½ä»¤è¡Œç»“å°¾çš„æç¤ºç¬¦æœ‰ â€œ#â€ å’Œ â€œ$â€ ä¸¤ç§ä¸åŒçš„ç¬¦å·</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@hostname ~<span class="token punctuation">]</span><span class="token comment">#        # &lt;==è¿™æ˜¯è¶…çº§ç®¡ç†å‘˜rootç”¨æˆ·å¯¹åº”çš„å‘½ä»¤è¡Œã€‚</span>
<span class="token punctuation">[</span>hostname@hostname ~<span class="token punctuation">]</span>$    <span class="token comment"># &lt;==è¿™æ˜¯æ™®é€šç”¨æˆ·oldboyå¯¹åº”çš„å‘½ä»¤è¡Œã€‚</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å‘½ä»¤è¡Œæç¤ºç¬¦@å‰é¢çš„å­—ç¬¦ä»£è¡¨å½“å‰ç™»å½•çš„ç”¨æˆ·ï¼ˆå¯ç”¨whoamiæŸ¥è¯¢ï¼‰</p><p>@åé¢çš„ä¸ºä¸»æœºåï¼ˆå¯ç”¨hostnameæŸ¥è¯¢ï¼‰</p></blockquote><br><p>Linuxå‘½ä»¤æç¤ºç¬¦ç”±PS1ç¯å¢ƒå˜é‡æ§åˆ¶</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">set</span><span class="token operator">|</span><span class="token function">grep</span> <span class="token environment constant">PS1</span>            <span class="token comment"># æ³¨æ„PSè¦å¤§å†™</span>

<span class="token operator">&gt;</span> <span class="token assign-left variable"><span class="token environment constant">PS1</span></span><span class="token operator">=</span><span class="token string">&#39;[\u@\h \W]\$ &#39;</span>   <span class="token comment"># å¯ä»¥é€šè¿‡å…¨å±€é…ç½®æ–‡ä»¶/etc/bashrcæˆ–/etc/profileè¿›è¡ŒæŒ‰éœ€é…ç½®å’Œè°ƒæ•´</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="_2-æŸ¥çœ‹å‘½ä»¤å¸®åŠ©" tabindex="-1"><a class="header-anchor" href="#_2-æŸ¥çœ‹å‘½ä»¤å¸®åŠ©" aria-hidden="true">#</a> 2. æŸ¥çœ‹å‘½ä»¤å¸®åŠ©</h3><p><mark>ä½¿ç”¨ man æˆ– --help è·å–å‘½ä»¤å¸®åŠ©ä¿¡æ¯</mark>ï¼š</p><p>manå‘½ä»¤æ˜¯Linuxç³»ç»Ÿä¸­æœ€æ ¸å¿ƒçš„å‘½ä»¤ä¹‹ä¸€ï¼Œå› ä¸ºé€šè¿‡å®ƒå¯ä»¥æŸ¥çœ‹å…¶ä»–Linuxå‘½ä»¤çš„ä½¿ç”¨ä¿¡æ¯ã€‚</p><p>å½“ç„¶äº†ï¼Œmanå‘½ä»¤ä¸ä»…å¯ä»¥æŸ¥çœ‹å‘½ä»¤çš„ä½¿ç”¨å¸®åŠ©ï¼Œè¿˜å¯ä»¥æŸ¥çœ‹è½¯ä»¶æœåŠ¡é…ç½®æ–‡ä»¶ã€ç³»ç»Ÿè°ƒç”¨ã€åº“å‡½æ•°ç­‰çš„å¸®åŠ©ä¿¡æ¯</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">man</span> <span class="token function">ls</span>                        <span class="token comment"># ä½¿ç”¨man äº§çœ‹ ls ç›¸å…³çš„ä¿¡æ¯</span>

<span class="token function">ls</span> --help                     <span class="token comment"># --help è™½ç„¶æœ‰æ—¶è¿™ä¸ªè¾“å‡ºå¾ˆç®€å•ï¼Œä½†æ˜¯ç›¸åº”åœ°æŸ¥çœ‹èµ·æ¥ä¹Ÿä¼šæ›´æ–¹ä¾¿</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å·¥ä½œä¸­å»ºè®®ç»“åˆä½¿ç”¨ï¼Œâ€œå‘½ä»¤--helpâ€è·å–çš„æ˜¯å¸¸ç”¨çš„å¸®åŠ©ä¿¡æ¯ï¼Œâ€œmanå‘½ä»¤â€è·å–çš„æ˜¯æ›´å¤šæ›´å¤æ‚çš„å¸®åŠ©ä¿¡æ¯</p><br><p><mark>ä½¿ç”¨helpå‘½ä»¤</mark>ï¼š</p><p>åœ¨Linuxç³»ç»Ÿé‡Œæœ‰ä¸€äº›ç‰¹æ®Šçš„å‘½ä»¤ï¼Œå®ƒä»¬å°±æ˜¯bashç¨‹åºçš„å†…ç½®å‘½ä»¤ï¼Œä¾‹å¦‚ <code>cdã€historyã€read</code> ç­‰ï¼Œè¿™äº›å‘½ä»¤åœ¨ç³»ç»Ÿç›®å½•é‡Œä¸å­˜åœ¨çœŸå®çš„ç¨‹åºæ–‡ä»¶ï¼ˆå­˜åœ¨äºbashç¨‹åºé‡Œï¼‰ï¼Œå¯¹äºè¿™éƒ¨åˆ†å‘½ä»¤ï¼ŒæŸ¥çœ‹å¸®åŠ©çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨helpå‘½ä»¤</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">help</span> <span class="token builtin class-name">cd</span>            <span class="token comment"># å¦‚æœä½¿ç”¨man cdï¼Œé‚£ä¹ˆé€šå¸¸æ˜¯æŸ¥ä¸åˆ°å¸®åŠ©ä¿¡æ¯çš„ï¼Œè€Œæ˜¯ä¼šè¿›å…¥bashçš„å¸®åŠ©é¡µé¢</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><br><p><mark>ä½¿ç”¨infoè·å–å¸®åŠ©ä¿¡æ¯</mark>ï¼š</p><p>Linuxç³»ç»Ÿä¸­çš„infoå‘½ä»¤æ˜¯ä¸€ä¸ªæŸ¥çœ‹ç¨‹åºå¯¹åº”æ–‡æ¡£ä¿¡æ¯çš„å‘½ä»¤ï¼Œå¯ä»¥ä½œä¸ºmanåŠhelpå‘½ä»¤çš„å¸®åŠ©è¡¥å……ï¼Œä¸è¿‡ä¸€èˆ¬åœ¨ä¼ä¸šè¿ç»´å·¥ä½œä¸­ï¼Œå¾ˆå°‘ä¼šæœ‰æœºä¼šéœ€è¦ä½¿ç”¨infoå»æŸ¥è¯¢å‘½ä»¤çš„ä½¿ç”¨å¸®åŠ©ï¼Œå› æ­¤ï¼ŒçŸ¥é“æœ‰è¿™ä¸ªå‘½ä»¤å°±å¯ä»¥äº†ï¼Œæ™®é€šè¯»è€…æ— éœ€å…³æ³¨å¤ªå¤šã€‚ä½¿ç”¨infoå‘½ä»¤æŸ¥çœ‹å‘½ä»¤å¸®åŠ©çš„è¯­æ³•æ“ä½œå’Œmanç±»ä¼¼</p><br><h3 id="_3-å…³æœºé‡å¯æ³¨é”€" tabindex="-1"><a class="header-anchor" href="#_3-å…³æœºé‡å¯æ³¨é”€" aria-hidden="true">#</a> 3. å…³æœºé‡å¯æ³¨é”€</h3><p><mark>é‡å¯æˆ–å…³æœºå‘½ä»¤ï¼šshutdown</mark></p><p>shutdownæ˜¯ä¸€ä¸ªç”¨æ¥å®‰å…¨å…³é—­æˆ–é‡å¯Linuxç³»ç»Ÿçš„å‘½ä»¤ï¼Œç³»ç»Ÿåœ¨å…³é—­ä¹‹å‰ä¼šé€šçŸ¥æ‰€æœ‰çš„ç™»å½•ç”¨æˆ·ï¼Œç³»ç»Ÿå³å°†å…³é—­ï¼Œæ­¤æ—¶æ‰€æœ‰çš„æ–°ç”¨æˆ·éƒ½ä¸å¯ä»¥ç™»å½•ï¼Œä¸shutdownåŠŸèƒ½ç±»ä¼¼çš„å‘½ä»¤è¿˜æœ‰initã€haltã€poweroffã€rebootã€‚</p><p>1ï¼‰æ³¨æ„shutdownå‘½ä»¤å’Œåé¢çš„é€‰é¡¹ä¹‹é—´è‡³å°‘è¦æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚</p><p>2ï¼‰é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ‰§è¡Œçš„shutdownå‘½ä»¤ä¸º <code>shutdown -h now</code> æˆ– <code>shutdown -r now</code>ã€‚</p><p><img src="/blog/assets/image-20220314140009085.d0f1c178.png" alt="image-20220314140009085" loading="lazy"></p><blockquote><p>shutdownå‘½ä»¤çš„å·¥ä½œè¿‡ç¨‹å°±æ˜¯å½“ç”¨æˆ·æ‰§è¡Œäº†å¯¹åº”å‚æ•°å¹¶é™„å¸¦å…³æœºæ—¶é—´çš„å‘½ä»¤ä¹‹åï¼Œ</p><p>é€šçŸ¥æ‰€æœ‰ç”¨æˆ·å³å°†å…³æœºçš„ä¿¡æ¯ï¼Œå¹¶ä¸”åœ¨è¿™ä¸ªæ—¶é—´æ®µå†…ç¦æ­¢æ–°ç”¨æˆ·ç™»å½•ï¼Œ</p><p>ä»…å½“åˆ°äº†æŒ‡å®šçš„å…³æœºæ—¶é—´æ—¶ï¼Œshutdownå‘½ä»¤æ‰ä¼šæ ¹æ®æ‰€æ¥æ”¶çš„å‚æ•°é€‰é¡¹ï¼Œå‘é€è¯·æ±‚ç»™ç³»ç»Ÿçš„initè¿›ç¨‹ï¼Œè¯·æ±‚å°†ç³»ç»Ÿè°ƒæ•´åˆ°å¯¹åº”å‚æ•°çš„çŠ¶æ€ï¼ˆä¾‹å¦‚-hå‚æ•°ï¼‰ï¼Œç³»ç»Ÿå…³æœºçŠ¶æ€å®é™…ä¸Šå¯¹åº”çš„æ˜¯Linuxç³»ç»Ÿé‡Œçš„è¿è¡Œçº§åˆ«0ã€‚</p><p>å’Œç³»ç»Ÿå…³æœºç›¸å…³çš„è¿è¡Œçº§åˆ«æœ‰ï¼š0ï¼ˆå…³æœºè¿è¡Œçº§åˆ«ï¼‰-haltï¼Œ6ï¼ˆé‡å¯è¿è¡Œçº§åˆ«ï¼‰-rebootï¼Œæ›´å¤šç›¸å…³å†…å®¹å¯æŸ¥çœ‹/etc/inittabæ–‡ä»¶ã€‚</p></blockquote><br><p><mark>å…³æœºä¸é‡å¯å‘½ä»¤ï¼šhalt/poweroff/reboot</mark>ï¼š</p><p>ä»RedHatæˆ–CentOS 6å¼€å§‹ï¼Œä½ ä¼šå‘ç°haltã€poweroffã€rebootè¿™ä¸‰ä¸ªå‘½ä»¤å¯¹åº”çš„éƒ½æ˜¯åŒä¸€ä¸ªmanå¸®åŠ©æ–‡æ¡£ï¼Œè€Œhaltå’Œpoweroffå‘½ä»¤æ˜¯rebootå‘½ä»¤çš„é“¾æ¥æ–‡ä»¶ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ‰§è¡Œè¿™ä¸‰ä¸ªå‘½ä»¤æ—¶éƒ½ä¸å¸¦ä»»ä½•å‚æ•°ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆhaltã€poweroffå‘½ä»¤æ˜¯rebootå‘½ä»¤çš„é“¾æ¥æ–‡ä»¶ï¼Œä½†æ˜¯åˆ†åˆ«æ‰§è¡Œå‘½ä»¤åæ•ˆæœä¸ä¸€æ ·å‘¢ï¼Ÿ</p><p>æŸ¥çœ‹ä¸€ä¸‹rebootå‘½ä»¤çš„manå¸®åŠ©ï¼Œå¯ä»¥å‘ç°rebootå‘½ä»¤æœ‰2ä¸ªå‚æ•°--haltå’Œ--power-offï¼Œä½œç”¨åˆ†åˆ«å’Œhaltã€poweroffå‘½ä»¤ä¸€æ ·ã€‚</p></blockquote><br><p><img src="/blog/assets/image-20220314141234604.1422ea15.png" alt="image-20220314141234604" loading="lazy"></p><br><h3 id="_4-æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#_4-æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯" aria-hidden="true">#</a> 4. æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯</h3><p>linuxæŸ¥çœ‹cpuã€å†…å­˜ã€ç‰ˆæœ¬ä¿¡æ¯</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># æŸ¥çœ‹CPUä¿¡æ¯</span>
<span class="token function">cat</span> /proc/cpuinfo <span class="token operator">|</span> <span class="token function">grep</span> name <span class="token operator">|</span> <span class="token function">cut</span> -f2 -d: <span class="token operator">|</span> <span class="token function">uniq</span> -c 
<span class="token function">cat</span> /proc/cpuinfo <span class="token operator">|</span> <span class="token function">grep</span> physical <span class="token operator">|</span> <span class="token function">uniq</span> -c 


getconf LONG_BIT   
<span class="token comment">#32 (è¯´æ˜å½“å‰CPUè¿è¡Œåœ¨32bitæ¨¡å¼ä¸‹, ä½†ä¸ä»£è¡¨CPUä¸æ”¯æŒ64bit) </span>

<span class="token function">cat</span> /proc/cpuinfo <span class="token operator">|</span> <span class="token function">grep</span> flags <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&#39; lm &#39;</span> <span class="token operator">|</span> <span class="token function">wc</span> -l  
<span class="token comment"># 8 (ç»“æœå¤§äº0, è¯´æ˜æ”¯æŒ64bitè®¡ç®—. lmæŒ‡long mode, æ”¯æŒlmåˆ™æ˜¯64bit) </span>


dmidecode <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;Product Name&quot;</span>    <span class="token comment"># æŸ¥çœ‹æœºå™¨å‹å· </span>

lsb_release -a  <span class="token comment"># æŸ¥çœ‹æ“ä½œç³»ç»Ÿç‰ˆæœ¬</span>


<span class="token comment"># æŸ¥çœ‹å†…å­˜ä¿¡æ¯</span>
<span class="token function">free</span>
<span class="token function">cat</span> /proc/meminfo  <span class="token comment"># æŸ¥çœ‹è¯¦ç»†å†…å­˜ä¿¡æ¯ </span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="_5-linuxè¯­è¨€è®¾ç½®" tabindex="-1"><a class="header-anchor" href="#_5-linuxè¯­è¨€è®¾ç½®" aria-hidden="true">#</a> 5. Linuxè¯­è¨€è®¾ç½®</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
locale                  <span class="token comment"># æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„è¯­è¨€</span>

locale -a               <span class="token comment"># æŸ¥çœ‹ç³»ç»Ÿä¸­å¯ä»¥ä½¿ç”¨çš„è¯­è¨€</span>


<span class="token function">vi</span> /etc/locale.conf     <span class="token comment"># ä¿®æ”¹ä»¥ä¸‹å†…å®¹ï¼ˆLANG=&quot;zh_CN.UTF-8&quot; ==&gt; LANG=&quot;en_US.UTF-8&quot; ï¼‰</span>

<span class="token comment">#LANG=&quot;zh_CN.UTF-8&quot;</span>
<span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span><span class="token string">&quot;en_US.UTF-8&quot;</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h2 id="äºŒ-æ–‡ä»¶ä¸ç›®å½•ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#äºŒ-æ–‡ä»¶ä¸ç›®å½•ç®¡ç†" aria-hidden="true">#</a> äºŒ æ–‡ä»¶ä¸ç›®å½•ç®¡ç†</h2><p><mark>lsï¼šæ˜¾ç¤ºç›®å½•ä¸‹çš„å†…å®¹åŠç›¸å…³å±æ€§ä¿¡æ¯</mark>ï¼š</p><p>ls å‘½ä»¤æ˜¯Linuxä¸‹æœ€å¸¸ç”¨çš„æŒ‡ä»¤ä¹‹ä¸€ã€‚</p><p>lså‘½ä»¤å¯ä»¥ç†è§£ä¸ºè‹±æ–‡å•è¯listçš„ç¼©å†™ï¼Œå…¶åŠŸèƒ½æ˜¯åˆ—å‡ºç›®å½•çš„å†…å®¹åŠå…¶å†…å®¹å±æ€§ä¿¡æ¯ï¼ˆlist directory contentsï¼‰ã€‚</p><p>è¯¥å‘½ä»¤æœ‰ç‚¹ç±»ä¼¼äºDOSç³»ç»Ÿä¸‹çš„dirå‘½ä»¤ï¼Œæœ‰è¶£çš„æ˜¯ï¼ŒLinuxä¸‹å…¶å®ä¹Ÿæœ‰dirå‘½ä»¤ï¼Œä½†æˆ‘ä»¬æ›´ä¹ æƒ¯äºä½¿ç”¨lsã€‚</p><br><p><strong>å¸¸ç”¨å‚æ•°ï¼š</strong></p><table><thead><tr><th style="text-align:center;">å¸¸ç”¨å‚æ•°</th><th>å‚æ•°è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:center;">-a</td><td>æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶åŠç›®å½• (åŒ…æ‹¬ä»¥â€œ.â€å¼€å¤´çš„éšè—æ–‡ä»¶)</td></tr><tr><td style="text-align:center;">-l</td><td>ä½¿ç”¨é•¿æ ¼å¼åˆ—å‡ºæ–‡ä»¶åŠç›®å½•ä¿¡æ¯</td></tr><tr><td style="text-align:center;">-r</td><td>å°†æ–‡ä»¶ä»¥ç›¸åæ¬¡åºæ˜¾ç¤º(é»˜è®¤ä¾è‹±æ–‡å­—æ¯æ¬¡åº)</td></tr><tr><td style="text-align:center;">-t</td><td>æ ¹æ®æœ€åçš„ä¿®æ”¹æ—¶é—´æ’åº</td></tr><tr><td style="text-align:center;">-A</td><td>åŒ -a ï¼Œä½†ä¸åˆ—å‡º â€œ.â€ (å½“å‰ç›®å½•) åŠ â€œ..â€ (çˆ¶ç›®å½•)</td></tr><tr><td style="text-align:center;">-S</td><td>æ ¹æ®æ–‡ä»¶å¤§å°æ’åº</td></tr><tr><td style="text-align:center;">-R</td><td>é€’å½’åˆ—å‡ºæ‰€æœ‰å­ç›®å½•</td></tr></tbody></table><br><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>
statå‘½ä»¤ï¼šç”¨äºæ˜¾ç¤ºæ–‡ä»¶çš„çŠ¶æ€ä¿¡æ¯ã€‚statå‘½ä»¤çš„è¾“å‡ºä¿¡æ¯æ¯”lså‘½ä»¤çš„è¾“å‡ºä¿¡æ¯è¦æ›´è¯¦ç»†

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><mark>pwdï¼šæ˜¾ç¤ºå½“å‰æ‰€åœ¨çš„ä½ç½®</mark> ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
pwdå‘½ä»¤æ˜¯ â€œprint working directoryâ€ ä¸­æ¯ä¸ªå•è¯çš„é¦–å­—æ¯ç¼©å†™ï¼Œå…¶åŠŸèƒ½æ˜¯æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•çš„ç»å¯¹è·¯å¾„ã€‚

åœ¨å®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬åœ¨å‘½ä»¤è¡Œæ“ä½œå‘½ä»¤æ—¶ï¼Œç»å¸¸ä¼šåœ¨å„ä¸ªç›®å½•è·¯å¾„ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼Œæ­¤æ—¶å¯ä½¿ç”¨pwdå‘½ä»¤å¿«é€ŸæŸ¥çœ‹å½“å‰æˆ‘ä»¬æ‰€åœ¨çš„ç›®å½•è·¯å¾„ã€‚

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><mark>cdï¼šåˆ‡æ¢ç›®å½•</mark>ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token comment"># cdå‘½ä»¤æ˜¯ â€œchange directoryâ€ ä¸­æ¯ä¸ªå•è¯çš„é¦–å­—æ¯ç¼©å†™ï¼Œå…¶åŠŸèƒ½æ˜¯ä»å½“å‰å·¥ä½œç›®å½•åˆ‡æ¢åˆ°æŒ‡å®šçš„å·¥ä½œç›®å½•ã€‚</span>

<span class="token builtin class-name">cd</span> -                 <span class="token comment"># è¿”å›å½“å‰ç”¨æˆ·ä¸Šä¸€æ¬¡æ‰€åœ¨çš„ç›®å½•</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>                <span class="token comment"># åˆ‡æ¢åˆ°å½“å‰ç›®å½•çš„ä¸Šä¸€çº§ç›®å½•</span>
<span class="token builtin class-name">cd</span> ~                 <span class="token comment"># è¿›å…¥å½“å‰ç”¨æˆ·çš„å®¶ç›®å½•</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="_1-mkdirå’Œtouch" tabindex="-1"><a class="header-anchor" href="#_1-mkdirå’Œtouch" aria-hidden="true">#</a> 1. mkdirå’Œtouch</h3><p><mark>mkdirï¼šåˆ›å»ºç›®å½•</mark>ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># mkdirå‘½ä»¤æ˜¯â€œmake directoriesâ€ä¸­æ¯ä¸ªå•è¯çš„ç²—ä½“å­—æ¯ç»„åˆè€Œæˆï¼Œå…¶åŠŸèƒ½æ˜¯åˆ›å»ºç›®å½•ï¼Œ</span>
<span class="token comment"># é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœè¦åˆ›å»ºçš„ç›®å½•å·²å­˜åœ¨ï¼Œåˆ™ä¼šæç¤ºæ­¤æ–‡ä»¶å·²å­˜åœ¨ï¼›è€Œä¸ä¼šç»§ç»­åˆ›å»ºç›®å½•ã€‚</span>

<span class="token function">mkdir</span> dir1 dir2                <span class="token comment"># mkdirå‘½ä»¤å¯ä»¥åŒæ—¶åˆ›å»ºå¤šä¸ªç›®å½•</span>


<span class="token comment"># ä½¿ç”¨-på‚æ•°é€’å½’åˆ›å»ºç›®å½•, åŠ -vå‚æ•°æ˜¾ç¤ºåˆ›å»ºç›®å½•çš„è¿‡ç¨‹(å…¶å®è¿™ä¸ª-væ²¡æœ‰ä»€ä¹ˆå®é™…ç”¨é€”)</span>
<span class="token function">mkdir</span> -p dir/test
<span class="token function">mkdir</span> -pv dir/test
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨mkdiråˆ›å»ºå¤šçº§ç›®å½•æ—¶ï¼Œå»ºè®®ç›´æ¥ä½¿ç”¨-på‚æ•°ï¼Œå¯ä»¥é¿å…å‡ºç°â€œNo such file or directoryâ€è¿™æ ·æ²¡æœ‰æ–‡ä»¶æˆ–ç›®å½•çš„æŠ¥é”™äº†ï¼Œä¸ä¼šå½±å“å·²å­˜åœ¨çš„ç›®å½•ã€‚</p><br><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># åŒæ—¶åˆ›å»ºå¤šä¸ªç›®å½•åŠå¤šçº§å­ç›®å½• (æ³¨æ„å¤§æ‹¬å·å†…ä¸èƒ½æœ‰ç©ºæ ¼)</span>

<span class="token function">mkdir</span> -pv dir/<span class="token punctuation">{</span>dir_1,dir_2<span class="token punctuation">}</span>/<span class="token punctuation">{</span>dir_a,dir_b<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><mark>touchï¼šåˆ›å»ºç©ºæ–‡ä»¶æˆ–æ”¹å˜æ–‡ä»¶çš„æ—¶é—´æˆ³å±æ€§</mark>ï¼š</p><p>touchå‘½ä»¤æœ‰ä¸¤ä¸ªåŠŸèƒ½ï¼šä¸€æ˜¯åˆ›å»ºæ–°çš„ç©ºæ–‡ä»¶ï¼›äºŒæ˜¯æ”¹å˜å·²æœ‰æ–‡ä»¶çš„æ—¶é—´æˆ³å±æ€§ã€‚</p><p>ç‰¹åˆ«è¯´æ˜ï¼š</p><p>1ï¼‰æ³¨æ„åŒºåˆ†touchå’Œmkdirå‘½ä»¤çš„åŠŸèƒ½ï¼Œmkdirå‘½ä»¤æ˜¯åˆ›å»ºç©ºç›®å½•ï¼Œè€Œtouchæ˜¯åˆ›å»ºç©ºæ–‡ä»¶ã€‚</p><p>2ï¼‰åœ¨Linuxä¸­ï¼Œä¸€åˆ‡çš†æ–‡ä»¶ã€‚è™½ç„¶touchå‘½ä»¤ä¸èƒ½åˆ›å»ºç›®å½•ï¼Œä½†æ˜¯å¯ä»¥ä¿®æ”¹ç›®å½•çš„æ—¶é—´æˆ³ã€‚</p><p><img src="/blog/assets/image-20220314220906574.91085b28.png" alt="image-20220314220906574" loading="lazy"></p><br><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token function">touch</span> a.txt b.txt          <span class="token comment"># åˆ›å»ºå¤šä¸ªæ–‡ä»¶</span>

<span class="token function">touch</span> log<span class="token punctuation">{</span>01<span class="token punctuation">..</span>05<span class="token punctuation">}</span>          <span class="token comment"># log01  log02  log03  log04  log05  (æ³¨æ„æ˜¯ä¸¤ä¸ªç‚¹)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="_2-ä¿®æ”¹æ–‡ä»¶æ—¶é—´" tabindex="-1"><a class="header-anchor" href="#_2-ä¿®æ”¹æ–‡ä»¶æ—¶é—´" aria-hidden="true">#</a> 2. ä¿®æ”¹æ–‡ä»¶æ—¶é—´</h3><p><mark>æ–‡ä»¶æ—¶é—´</mark>ï¼š</p><ul><li><p><strong>modifiy time (mtime)</strong>ï¼š</p><p>å½“è¯¥æ–‡ä»¶çš„ã€å†…å®¹ã€å˜æ›´æ—¶ï¼Œå°±ä¼šå‡çº§è¿™ä¸ªæ—¶é—´ï¼å†…å®¹æ•°æ®æŒ‡çš„æ˜¯æ–‡ä»¶çš„å†…å®¹ï¼Œè€Œä¸æ˜¯æ–‡ä»¶çš„å±æ€§æˆ–æƒé™å–”ï¼</p></li><li><p><strong>changetime (ctime)</strong>ï¼š</p><p>å½“è¯¥æ–‡ä»¶çš„ã€çŠ¶æ€ (status)ã€æ”¹å˜æ—¶ï¼Œå°±ä¼šå‡çº§è¿™ä¸ªæ—¶é—´ï¼Œä¸¾ä¾‹æ¥è¯´ï¼Œåƒæ˜¯æƒé™ä¸å±æ€§è¢«æ›´æ”¹äº†ï¼Œéƒ½ä¼šå‡çº§è¿™ä¸ªæ—¶é—´å•Šã€‚</p></li><li><p><strong>access time (atime)</strong>ï¼š</p><p>å½“ã€è¯¥æ–‡ä»¶çš„å†…å®¹è¢«è¯»å–ã€æ—¶ï¼Œå°±ä¼šå‡çº§è¿™ä¸ªè¯»å–æ—¶é—´ (access)ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘ä»¬ä½¿ç”¨ cat å»è¯»å– /etc/man_db.confï¼Œ å°±ä¼šå‡çº§è¯¥æ–‡ä»¶çš„ atime äº†ã€‚</p></li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token comment"># æŸ¥çœ‹ æ–‡ä»¶æ—¶é—´</span>

<span class="token function">ls</span> -l æ–‡ä»¶å                      <span class="token comment"># æŸ¥çœ‹ mtime</span>

<span class="token function">ls</span> -l --time<span class="token operator">=</span>ctime æ–‡ä»¶å         <span class="token comment"># æŸ¥çœ‹ ctime</span>

<span class="token function">ls</span> -l --time<span class="token operator">=</span>atime æ–‡ä»¶å         <span class="token comment"># æŸ¥çœ‹ atime</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¤ºä¾‹ï¼š</p><p><img src="/blog/assets/image-20220401102014938.49e6190c.png" alt="image-20220401102014938" loading="lazy"></p><br><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token function">touch</span> è¿™ä¸ªå‘½ä»¤çš„ä¸¤ä¸ªå¸¸è§åŠŸèƒ½ï¼š

<span class="token number">1</span>. åˆ›å»ºä¸€ä¸ªç©ºçš„æ–‡ä»¶ï¼›

<span class="token number">2</span>. å°†æŸä¸ªæ–‡ä»¶çš„æ‰€æœ‰æ—¥æœŸæ›´æ–°ä¸ºç³»ç»Ÿå½“å‰æ—¶é—´ï¼Œ æˆ–å°†<span class="token punctuation">(</span>mtime ä¸ atime<span class="token punctuation">)</span>ä¿®æ”¹ä¸ºæŒ‡å®šæ—¶é—´ 

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><img src="/blog/assets/image-20220401105626927.4b9502ea.png" alt="image-20220401105626927" loading="lazy"></p><br><p><img src="/blog/assets/image-20220401110013639.7077d0f0.png" alt="image-20220401110013639" loading="lazy"></p><br><p>change time åªèƒ½é€šè¿‡ä¿®æ”¹ç³»ç»Ÿæ—¶é—´æ¥è‡ªå®šä¹‰ï¼ˆä½†æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹ä¿®æ”¹ç³»ç»Ÿæ—¶é—´éœ€è¦rootæƒé™ï¼‰</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token punctuation">[</span>root@DevMachine temp<span class="token punctuation">]</span><span class="token comment"># date -s 06/06/2022 &gt;&gt; a.bash</span>

<span class="token comment"># æ–‡ä»¶çš„atimeå’Œmtimeå·²ç»æ”¹å˜ï¼Œä½†æ˜¯ctimeæ—¶é—´æ²¡å˜</span>
<span class="token punctuation">[</span>root@DevMachine temp<span class="token punctuation">]</span><span class="token comment"># stat a.bash</span>
  File: â€˜a.bashâ€™
  Size: <span class="token number">29</span>              Blocks: <span class="token number">8</span>          IO Block: <span class="token number">4096</span>   regular <span class="token function">file</span>
Device: fd00h/64768d    Inode: <span class="token number">67415159</span>    Links: <span class="token number">1</span>
Access: <span class="token punctuation">(</span>0644/-rw-r--r--<span class="token punctuation">)</span>  Uid: <span class="token punctuation">(</span>    <span class="token number">0</span>/    root<span class="token punctuation">)</span>   Gid: <span class="token punctuation">(</span>    <span class="token number">0</span>/    root<span class="token punctuation">)</span>
Context: unconfined_u:object_r:admin_home_t:s0
Access: <span class="token number">2022</span>-03-03 <span class="token number">23</span>:23:00.000000000 +0800
Modify: <span class="token number">2022</span>-06-06 00:00:00.000000000 +0800
Change: <span class="token number">2022</span>-06-06 00:00:00.000000000 +0800
 Birth: -
 
<span class="token comment">#æ­¤æ—¶ç³»ç»Ÿæ—¶é—´å·²ç»æ”¹å˜</span>
<span class="token punctuation">[</span>root@DevMachine temp<span class="token punctuation">]</span><span class="token comment"># date &quot;+%F %T&quot;</span>
<span class="token number">2022</span>-06-06 00:00:56

<span class="token comment"># æ›´æ–°ç³»ç»Ÿæ—¶é—´ä¸ºæ­£å¸¸æ—¶é—´</span>
<span class="token punctuation">[</span>root@DevMachine temp<span class="token punctuation">]</span><span class="token comment"># /usr/sbin/ntpdate ntp.api.bz</span>
 <span class="token number">1</span> Apr <span class="token number">11</span>:21:35 ntpdate<span class="token punctuation">[</span><span class="token number">1803</span><span class="token punctuation">]</span>: step <span class="token function">time</span> server <span class="token number">114.118</span>.7.161 offset -5661630.439834 sec

<span class="token comment"># ç³»ç»Ÿæ—¶é—´å·²ç»æ›´æ–°æ­£å¸¸</span>
<span class="token punctuation">[</span>root@DevMachine temp<span class="token punctuation">]</span><span class="token comment"># date &quot;+%F %T&quot;</span>
<span class="token number">2022</span>-04-01 <span class="token number">11</span>:21:44

<span class="token comment"># ç³»ç»Ÿæ—¶é—´å·²ç»è¿˜åŸï¼Œctimeä¿®æ”¹å·²å®Œæˆ</span>
<span class="token punctuation">[</span>root@DevMachine temp<span class="token punctuation">]</span><span class="token comment"># stat a.bash</span>
  File: â€˜a.bashâ€™
  Size: <span class="token number">29</span>              Blocks: <span class="token number">8</span>          IO Block: <span class="token number">4096</span>   regular <span class="token function">file</span>
Device: fd00h/64768d    Inode: <span class="token number">67415159</span>    Links: <span class="token number">1</span>
Access: <span class="token punctuation">(</span>0644/-rw-r--r--<span class="token punctuation">)</span>  Uid: <span class="token punctuation">(</span>    <span class="token number">0</span>/    root<span class="token punctuation">)</span>   Gid: <span class="token punctuation">(</span>    <span class="token number">0</span>/    root<span class="token punctuation">)</span>
Context: unconfined_u:object_r:admin_home_t:s0
Access: <span class="token number">2022</span>-03-03 <span class="token number">23</span>:23:00.000000000 +0800
Modify: <span class="token number">2022</span>-06-06 00:00:00.000000000 +0800
Change: <span class="token number">2022</span>-06-06 00:00:00.000000000 +0800
 Birth: -
 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="_3-å¤åˆ¶ç§»åŠ¨åˆ é™¤" tabindex="-1"><a class="header-anchor" href="#_3-å¤åˆ¶ç§»åŠ¨åˆ é™¤" aria-hidden="true">#</a> 3. å¤åˆ¶ç§»åŠ¨åˆ é™¤</h3><p><mark>cpï¼šå¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•</mark>:</p><p>cpå‘½ä»¤å¯ä»¥ç†è§£ä¸ºè‹±æ–‡å•è¯copyçš„ç¼©å†™ï¼Œå…¶åŠŸèƒ½ä¸ºå¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•ã€‚</p><p><img src="/blog/assets/image-20220314221359831.3620b0d5.png" alt="image-20220314221359831" loading="lazy"></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token function">cp</span> /etc/ssh/sshd_config /etc/ssh/sshd_config.ori

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><mark>mvï¼šç§»åŠ¨æˆ–é‡å‘½åæ–‡ä»¶</mark>:</p><p>mvå‘½ä»¤å¯ä»¥ç†è§£ä¸ºè‹±æ–‡å•è¯moveçš„ç¼©å†™ï¼Œå…¶åŠŸèƒ½æ˜¯ç§»åŠ¨æˆ–é‡å‘½åæ–‡ä»¶ï¼ˆmove/rename filesï¼‰</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token function">mv</span> a.txt b.txt             <span class="token comment"># è‹¥b.txt ä¸å­˜åœ¨ï¼Œåˆ™å°† a.txt é‡å‘½åä¸º b.txt</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><mark>rmï¼šåˆ é™¤æ–‡ä»¶æˆ–ç›®å½•</mark>:</p><p>rmå‘½ä»¤å¯ä»¥ç†è§£ä¸ºè‹±æ–‡å•è¯removeçš„ç¼©å†™ï¼Œå…¶åŠŸèƒ½æ˜¯åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶æˆ–ç›®å½•ï¼ˆremove files or directoriesï¼‰ã€‚</p><p>è¿™æ˜¯Linuxç³»ç»Ÿé‡Œæœ€å±é™©çš„å‘½ä»¤ä¹‹ä¸€ï¼Œè¯·æ…é‡ä½¿ç”¨ã€‚</p><p><img src="/blog/assets/image-20220314222403039.0c9fa470.png" alt="image-20220314222403039" loading="lazy"></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token function">rm</span> -rf <span class="token function">dir</span>                   <span class="token comment"># é€’å½’å¼ºåˆ¶åˆ é™¤dirç›®å½•åŠå…¶å†…éƒ¨æ–‡ä»¶å’Œç›®å½•</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><mark>rmdirï¼šåˆ é™¤ç©ºç›®å½•</mark>:</p><p>rmdirå‘½ä»¤ç”¨äºåˆ é™¤ç©ºç›®å½•ï¼ˆremove empty directoriesï¼‰ï¼Œå½“ç›®å½•ä¸ä¸ºç©ºæ—¶ï¼Œå‘½ä»¤ä¸èµ·ä½œç”¨</p><p>rmdirå‘½ä»¤åœ¨å®é™…å·¥ä½œä¸­ä½¿ç”¨çš„æå°‘</p><br><h3 id="_4-æŸ¥çœ‹æ–‡ä»¶å†…å®¹" tabindex="-1"><a class="header-anchor" href="#_4-æŸ¥çœ‹æ–‡ä»¶å†…å®¹" aria-hidden="true">#</a> 4. æŸ¥çœ‹æ–‡ä»¶å†…å®¹</h3><p><mark>catã€tacã€nl ç›´æ¥æŸ¥çœ‹æ–‡ä»¶å†…å®¹</mark> :</p><ul><li>cat ç”±ç¬¬ä¸€è¡Œå¼€å§‹æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼Œcat æ˜¯ Concatenate ï¼ˆè¿ç»­ï¼‰çš„ç®€å†™</li><li>tac ä»æœ€åä¸€è¡Œå¼€å§‹æ˜¾ç¤ºï¼Œå¯ä»¥çœ‹å‡º tac æ˜¯ cat çš„å€’è‘—å†™ï¼</li><li>nl æ˜¾ç¤ºçš„æ—¶å€™ï¼Œé¡ºé“è¾“å‡ºè¡Œå·ï¼</li></ul><p>è¿™äº›å‘½ä»¤åœ¨æ–‡ä»¶è¡Œæ•°è¾ƒå¤šæ—¶ä½¿ç”¨å¹¶ä¸æ–¹ä¾¿ã€æ¨èä½¿ç”¨ä¸‹é¢ä»‹ç»çš„ more å’Œ less</p><br><p><mark>moreã€less åˆ†é¡µæŸ¥çœ‹æ–‡ä»¶</mark> :</p><ul><li><p>more ä¸€é¡µä¸€é¡µçš„æ˜¾ç¤ºæ–‡ä»¶å†…å®¹</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>ç©ºç™½é”® <span class="token punctuation">(</span>space<span class="token punctuation">)</span>  ï¼šä»£è¡¨å‘ä¸‹ç¿»ä¸€é¡µï¼›
Enter          ï¼šä»£è¡¨å‘ä¸‹ç¿»ã€ä¸€è¡Œã€ï¼›
/å­—ä¸²           ï¼šä»£è¡¨åœ¨è¿™ä¸ªæ˜¾ç¤ºçš„å†…å®¹å½“ä¸­ï¼Œå‘ä¸‹æœå¯»ã€å­—ä¸²ã€è¿™ä¸ªå…³é”®å­—ï¼›
:f             ï¼šç«‹åˆ»æ˜¾ç¤ºå‡ºæ¡£åä»¥åŠç›®å‰æ˜¾ç¤ºçš„è¡Œæ•°ï¼›
q              ï¼šä»£è¡¨ç«‹åˆ»ç¦»å¼€ <span class="token function">more</span> ï¼Œä¸å†æ˜¾ç¤ºè¯¥æ–‡ä»¶å†…å®¹ã€‚
b æˆ– <span class="token punctuation">[</span>ctrl<span class="token punctuation">]</span>-b  ï¼šä»£è¡¨å¾€å›ç¿»é¡µï¼Œä¸è¿‡è¿™åŠ¨ä½œåªå¯¹æ–‡ä»¶æœ‰ç”¨ï¼Œå¯¹ç®¡çº¿æ— ç”¨ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br></li><li><p>less ä¸ more ç±»ä¼¼ï¼Œä½†æ˜¯æ¯” more æ›´å¥½çš„æ˜¯ï¼Œä»–å¯ä»¥å¾€å‰ç¿»é¡µï¼</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>ç©ºç™½é”®       ï¼šå‘ä¸‹ç¿»åŠ¨ä¸€é¡µï¼›
[pagedown]  ï¼šå‘ä¸‹ç¿»åŠ¨ä¸€é¡µï¼›
[pageup]    ï¼šå‘ä¸Šç¿»åŠ¨ä¸€é¡µï¼›
/å­—ä¸²        ï¼šå‘ä¸‹æœå¯»ã€å­—ä¸²ã€çš„åŠŸèƒ½ï¼›
?å­—ä¸²        ï¼šå‘ä¸Šæœå¯»ã€å­—ä¸²ã€çš„åŠŸèƒ½ï¼›
n           ï¼šé‡å¤å‰ä¸€ä¸ªæœå¯» (ä¸ / æˆ– ? æœ‰å…³ï¼)
N           ï¼šåå‘çš„é‡å¤å‰ä¸€ä¸ªæœå¯» (ä¸ / æˆ– ? æœ‰å…³ï¼)
q           ï¼šé€€å‡º less è¿™ä¸ªç¨‹åºï¼›
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><br><p><mark>headã€tail ä»å¤´ï¼ˆå°¾ï¼‰æŸ¥çœ‹æ–‡ä»¶ï¼ˆæŒ‡å®šè¡Œæ•°ï¼‰</mark> :</p><ul><li>head åªçœ‹å¤´å‡ è¡Œ ï¼ˆè‹¥æ²¡æœ‰åŠ ä¸Š -n è¿™ä¸ªé€‰é¡¹æ—¶ï¼Œé»˜è®¤åªæ˜¾ç¤ºåè¡Œï¼‰</li><li>tail åªçœ‹å°¾å·´å‡ è¡Œ ï¼ˆé»˜è®¤ä¹Ÿæ˜¯æ˜¾ç¤ºåè¡Œï¼Œè‹¥è¦æ˜¾ç¤ºéåè¡Œï¼Œå°±åŠ  -n number çš„é€‰é¡¹å³å¯ï¼‰</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token function">head</span> -n <span class="token number">1</span> /etc/my.cnf            <span class="token comment"># æŸ¥çœ‹ç¬¬ä¸€è¡Œæ–‡ä»¶</span>

<span class="token function">tail</span> -n +100 /etc/man_db.conf    <span class="token comment"># ä»£è¡¨è¯¥æ–‡ä»¶ä»100è¡Œä»¥åéƒ½ä¼šè¢«åˆ—å‡ºæ¥</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token comment"># ä¾‹é¢˜ï¼šå‡å¦‚æˆ‘æƒ³è¦æ˜¾ç¤º /etc/man.config çš„ç¬¬ 11 åˆ°ç¬¬ 20 è¡Œå‘¢ï¼Ÿ</span>

<span class="token comment"># ç­”ï¼šå…ˆå–å‰ 20 è¡Œï¼Œå†å–ååè¡Œï¼Œæ‰€ä»¥ç»“æœå°±æ˜¯ï¼š</span>

<span class="token function">head</span> -n <span class="token number">20</span> /etc/man_db.conf <span class="token operator">|</span> <span class="token function">tail</span> -n <span class="token number">10</span> 

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="_5-å‹ç¼©å’Œè§£å‹ç¼©" tabindex="-1"><a class="header-anchor" href="#_5-å‹ç¼©å’Œè§£å‹ç¼©" aria-hidden="true">#</a> 5. å‹ç¼©å’Œè§£å‹ç¼©</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>åœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œé»˜è®¤æ”¯æŒä¸¤ç§å‹ç¼©æ ¼å¼
	<span class="token number">1</span>   .tar.gz
	<span class="token number">2</span>   .zip
	
	
ä¸åŒçš„å‹ç¼©æ ¼å¼å¯ä»¥ä½¿ç”¨ä¸åŒçš„è½¯ä»¶æ¥è§£å‹ä¸å‹ç¼©

 <span class="token number">1</span>  .tar.gz  è¿™ç§å‹ç¼©æ ¼å¼å…¶å®æ˜¯Linuxæ¯”è¾ƒä¼ ç»Ÿçš„å‹ç¼©æ ¼å¼ï¼Œéœ€è¦å€ŸåŠ©äºtarå‘½ä»¤
   
     <span class="token function">tar</span> -zcvf name.tar.gz <span class="token builtin class-name">test</span>            <span class="token comment"># å‹ç¼©</span>
  
     <span class="token function">tar</span> -zxvf name.tar.gz -C targetDir    <span class="token comment"># è§£å‹   -C è¡¨ç¤ºè§£å‹åˆ°æŒ‡å®šçš„è·¯å¾„ä¸‹</span>
 
   
 <span class="token number">2</span>   .zip
 
    <span class="token function">zip</span> name.zip fileName                   <span class="token comment"># å‹ç¼©</span>
  
    <span class="token function">unzip</span> name.zip                          <span class="token comment"># è§£å‹</span>
  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="_6-è¿½åŠ ä¸é‡å®šå‘" tabindex="-1"><a class="header-anchor" href="#_6-è¿½åŠ ä¸é‡å®šå‘" aria-hidden="true">#</a> 6. è¿½åŠ ä¸é‡å®šå‘</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
é‡å®šå‘ï¼šå¯ä»¥æŠŠæ§åˆ¶å°è¾“å‡ºçš„å†…å®¹é‡å®šå‘åˆ°æ–‡ä»¶ä¸­ã€‚
	   å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆä¼šåˆ›å»ºæ–‡ä»¶
	   å¦‚æœæ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆä¼šè¦†ç›–æ–‡ä»¶ä¸­çš„å†…å®¹
	   <span class="token builtin class-name">echo</span> <span class="token string">&#39;bob&#39;</span> <span class="token operator">&gt;</span> <span class="token number">1</span>.txt
	   ll <span class="token operator">&gt;</span> <span class="token number">2</span>.txt
	   
	   
è¿½åŠ ï¼š å…¶å®å°±æ˜¯åœ¨æŒ‡å®šæ–‡ä»¶çš„æœ«å°¾è¿½åŠ æ§åˆ¶å°è¾“å‡ºçš„å†…å®¹
	  ä¸ä¼šè¦†ç›–åŸæ¥æ–‡ä»¶ä¸­çš„å†…å®¹
	  å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¾ç„¶ä¼šåˆ›å»ºæ–‡ä»¶
	  ll <span class="token operator">&gt;&gt;</span> <span class="token number">2</span>.txt

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h2 id="ä¸‰-ç”¨æˆ·ä¸æƒé™ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#ä¸‰-ç”¨æˆ·ä¸æƒé™ç®¡ç†" aria-hidden="true">#</a> ä¸‰ ç”¨æˆ·ä¸æƒé™ç®¡ç†</h2><h3 id="_1-ç”¨æˆ·å’Œç»„ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#_1-ç”¨æˆ·å’Œç»„ç®¡ç†" aria-hidden="true">#</a> 1. ç”¨æˆ·å’Œç»„ç®¡ç†</h3><p>ç”¨æˆ·ç®¡ç†ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token function">sudo</span> <span class="token function">useradd</span> -m -s /bin/bash username         <span class="token comment"># åˆ›å»º `username` ç”¨æˆ·</span>
<span class="token comment">#  useradd     åˆ›å»ºç”¨æˆ·çš„å‘½ä»¤</span>
<span class="token comment">#  -m          æŒ‡åˆ›å»ºç”¨æˆ·é€‡åŒæ—¶ç»™è¿™ä¸ªç”¨æˆ·åˆ›å»ºä¸€ä¸ªå®¶ç›®å½•</span>
<span class="token comment">#  -s          æŒ‡å®šshellçš„ç‰ˆæœ¬ä¸ºbash</span>
<span class="token comment">#  usernameï¼š  ç”¨æˆ·åç§°</span>


<span class="token function">sudo</span> <span class="token function">userdel</span> <span class="token punctuation">[</span>-r<span class="token punctuation">]</span> username                    <span class="token comment"># åˆ é™¤ç”¨æˆ·</span>
<span class="token comment">#  userdel     åˆ é™¤ç”¨æˆ·çš„å‘½ä»¤</span>
<span class="token comment">#  -r          æŒ‡åˆ é™¤ç”¨æˆ·çš„åŒäº‹ï¼Œè¿˜è¦åˆ é™¤ç”¨æˆ·çš„å®¶ç›®å½•</span>
<span class="token comment">#  usernameï¼š  ç”¨æˆ·å</span>


<span class="token function">sudo</span> <span class="token function">passwd</span> username                          <span class="token comment"># ç»™ç”¨æˆ·è®¾ç½®å¯†ç </span>


<span class="token function">su</span> username                                   <span class="token comment"># åˆ‡æ¢ç”¨æˆ·</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p>ç»„ç®¡ç†ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token comment"># æ·»åŠ ç»„</span>
<span class="token function">sudo</span> <span class="token function">groupadd</span> groupName

<span class="token comment"># æ·»åŠ ç”¨æˆ·çš„æ—¶å€™æŒ‡å®šç»„</span>
<span class="token function">sudo</span> <span class="token function">useradd</span> -m -s /bin/bash -g groupName username

<span class="token comment"># æŸ¥è¯¢ç”¨æˆ·æ‰€å±çš„ç»„çš„ä¿¡æ¯</span>
<span class="token function">id</span> username

<span class="token comment"># ä¿®æ”¹ç»„</span>
<span class="token function">sudo</span> <span class="token function">usermod</span> -g groupName username

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="_2-æ–‡ä»¶æƒé™ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#_2-æ–‡ä»¶æƒé™ç®¡ç†" aria-hidden="true">#</a> 2. æ–‡ä»¶æƒé™ç®¡ç†</h3><p>Linuxé‡Œé¢ï¼Œä»»ä½•ä¸€ä¸ªæ–‡ä»¶éƒ½å…·æœ‰ã€User, GroupåŠOthersã€ä¸‰ç§èº«ä»½çš„æƒé™</p><p><img src="/blog/assets/image-20220401204409112.ab944519.png" alt="image-20220401204409112" loading="lazy"></p><br><p>rwxè¿™ä¸‰ä¸ªå‚æ•°å¯¹æ–‡ä»¶å’Œç›®å½•çš„æ„ä¹‰æ˜¯ä¸åŒçš„ï¼Œå¦‚ä¸‹ï¼š</p><table><thead><tr><th style="text-align:center;">å‚æ•°</th><th style="text-align:center;">æ–‡ä»¶</th><th style="text-align:center;">ç›®å½•</th><th style="text-align:center;">æƒé™åˆ†æ•°</th></tr></thead><tbody><tr><td style="text-align:center;">r</td><td style="text-align:center;">å¯è¯»(read)</td><td style="text-align:center;">r (read contents in directory)</td><td style="text-align:center;">4</td></tr><tr><td style="text-align:center;">w</td><td style="text-align:center;">å¯å†™(write)</td><td style="text-align:center;">w (modify contents of directory)</td><td style="text-align:center;">2</td></tr><tr><td style="text-align:center;">x</td><td style="text-align:center;">å¯æ‰§è¡Œ(execute)</td><td style="text-align:center;">x (access directory)</td><td style="text-align:center;">1</td></tr></tbody></table><br><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
r <span class="token punctuation">(</span>read<span class="token punctuation">)</span>ï¼š     å¯è¯»å–æ­¤ä¸€æ–‡ä»¶çš„å®é™…å†…å®¹ï¼Œå¦‚è¯»å–æ–‡æœ¬æ–‡ä»¶çš„æ–‡å­—å†…å®¹ç­‰ï¼›
w <span class="token punctuation">(</span>write<span class="token punctuation">)</span>ï¼š    å¯ä»¥ç¼–è¾‘ã€æ–°å¢æˆ–è€…æ˜¯ä¿®æ”¹è¯¥æ–‡ä»¶çš„å†…å®¹<span class="token punctuation">(</span>ä½†ä¸å«åˆ é™¤è¯¥æ–‡ä»¶<span class="token punctuation">)</span>ï¼›
x <span class="token punctuation">(</span>execute<span class="token punctuation">)</span>ï¼š  è¯¥æ–‡ä»¶å…·æœ‰å¯ä»¥è¢«ç³»ç»Ÿæ‰§è¡Œçš„æƒé™ã€‚


r <span class="token punctuation">(</span>read contents <span class="token keyword">in</span> directory<span class="token punctuation">)</span>ï¼š
è¡¨ç¤ºå…·æœ‰è¯»å–ç›®å½•ç»“æ„åˆ—è¡¨çš„æƒé™ï¼Œæ‰€ä»¥å½“ä½ å…·æœ‰è¯»å–<span class="token punctuation">(</span>r<span class="token punctuation">)</span>ä¸€ä¸ªç›®å½•çš„æƒé™æ—¶ï¼Œè¡¨ç¤ºä½ å¯ä»¥æŸ¥è¯¢è¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶åæ•°æ®ã€‚ 
æ‰€ä»¥ä½ å°±å¯ä»¥åˆ©ç”¨ <span class="token function">ls</span> è¿™ä¸ªæŒ‡ä»¤å°†è¯¥ç›®å½•çš„å†…å®¹åˆ—è¡¨æ˜¾ç¤ºå‡ºæ¥ï¼

w <span class="token punctuation">(</span>modify contents of directory<span class="token punctuation">)</span>ï¼š
å¯å†™å…¥æƒé™å¯¹ç›®å½•æ¥è¯´è¡¨ç¤ºä½ å…·æœ‰æ“ä½œè¯¥ç›®å½•ç»“æ„åˆ—è¡¨çš„æƒé™ï¼Œä¹Ÿå°±æ˜¯åº•ä¸‹è¿™äº›æƒé™ï¼š
    - å»ºç«‹æ–°çš„æ–‡ä»¶ä¸ç›®å½•ï¼›
    - åˆ é™¤å·²ç»å­˜åœ¨çš„æ–‡ä»¶ä¸ç›®å½•<span class="token punctuation">(</span>ä¸è®ºè¯¥æ–‡ä»¶çš„æƒé™ä¸ºä½•ï¼<span class="token punctuation">)</span>
    - å°†å·²å­˜åœ¨çš„æ–‡ä»¶æˆ–ç›®å½•è¿›è¡Œæ›´åï¼›
    - ç§»åŠ¨è¯¥ç›®å½•å†…çš„æ–‡ä»¶ã€ç›®å½•ä½ç½®ã€‚

x <span class="token punctuation">(</span>access directory<span class="token punctuation">)</span>ï¼š
ç›®å½•ä¸å¯ä»¥è¢«æ‰§è¡Œï¼Œç›®å½•çš„xä»£è¡¨çš„æ˜¯ç”¨æˆ·èƒ½å¦è¿›å…¥è¯¥ç›®å½•æˆä¸ºå·¥ä½œç›®å½•çš„ç”¨é€”ï¼ 
æ‰€è°“çš„å·¥ä½œç›®å½•<span class="token punctuation">(</span>work directory<span class="token punctuation">)</span>å°±æ˜¯ä½ ç›®å‰æ‰€åœ¨çš„ç›®å½•ï¼
ä¸¾ä¾‹æ¥è¯´ï¼Œå½“ä½ ç™»å…¥Linuxæ—¶ï¼Œ ä½ æ‰€åœ¨çš„å®¶ç›®å½•å°±æ˜¯ä½ å½“ä¸‹çš„å·¥ä½œç›®å½•ã€‚è€Œå˜æ¢ç›®å½•çš„æŒ‡ä»¤æ˜¯ã€cdã€<span class="token punctuation">(</span>change directory<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><mark>chmodï¼šä¿®æ”¹æ–‡ä»¶çš„æƒé™</mark>:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token comment"># æ–¹å¼ä¸€ï¼š</span>
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token assign-left variable">u</span><span class="token operator">=</span>rwx,g<span class="token operator">=</span>rw,o<span class="token operator">=</span>r fileName
<span class="token comment"># uï¼šè¡¨ç¤ºæ–‡ä»¶æ‹¥æœ‰è€…</span>
<span class="token comment"># gï¼šè¡¨ç¤ºåŒç»„çš„æˆå‘˜</span>
<span class="token comment"># oï¼šè¡¨ç¤ºå…¶ä»–ç»„çš„æˆå‘˜</span>


<span class="token comment"># æ–¹å¼äºŒï¼šé€šè¿‡æ•°å­—æ¥æŒ‡ä»£æƒé™</span>
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">764</span> fileName

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token comment"># ä¸€äº›å¸¸è§æƒ…æ™¯ä¾‹ï¼š</span>

å¦‚æœè¦å°†è¯¥æ–‡ä»¶å˜æˆå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¹¶ä¸”ä¸è®©å…¶ä»–äººä¿®æ”¹çš„è¯ï¼Œ é‚£ä¹ˆå°±éœ€è¦ -rwxr-xr-x è¿™æ ·çš„æƒé™ï¼Œå³ <span class="token function">chmod</span> <span class="token number">755</span> test.sh 

å¦‚æœæœ‰äº›æ–‡ä»¶ä½ ä¸å¸Œæœ›è¢«å…¶ä»–äººçœ‹åˆ°ï¼Œé‚£ä¹ˆåº”è¯¥å°†æ–‡ä»¶çš„æƒé™è®¾å®šä¸ºï¼š -rwxr----- ï¼Œ å³ <span class="token function">chmod</span> <span class="token number">740</span> filename 

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h2 id="å››-è¿›ç¨‹ä¸æœåŠ¡ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#å››-è¿›ç¨‹ä¸æœåŠ¡ç®¡ç†" aria-hidden="true">#</a> å›› è¿›ç¨‹ä¸æœåŠ¡ç®¡ç†</h2><h3 id="_1-linuxè¿›ç¨‹ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#_1-linuxè¿›ç¨‹ç®¡ç†" aria-hidden="true">#</a> 1. Linuxè¿›ç¨‹ç®¡ç†</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token comment"># æŸ¥çœ‹è¿›ç¨‹</span>
<span class="token function">ps</span>
<span class="token comment"># -e æ˜¾ç¤ºæ‰€æœ‰çš„è¿›ç¨‹</span>
<span class="token comment"># -f å…¨æ ¼å¼</span>

<span class="token comment"># a è¡¨ç¤ºæ˜¾ç¤ºç»ˆç«¯ä¸Šæ‰€æœ‰çš„è¿›ç¨‹</span>
<span class="token comment"># u ä»¥ç”¨æˆ·çš„æ ¼å¼æ¥æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯</span>
<span class="token comment"># x æ˜¾ç¤ºåå°è¿è¡Œçš„è¿›ç¨‹</span>


<span class="token comment"># ä¸€èˆ¬æŸ¥è¯¢è¿›ç¨‹ï¼Œåˆ†ä¸ºä¸¤ç§æ–¹å¼ ps -ef ã€ ps aux</span>
<span class="token function">ps</span> -ef  å¯ä»¥æ˜¾ç¤ºçˆ¶è¿›ç¨‹çš„ä¿¡æ¯
<span class="token function">ps</span> aux  å¯ä»¥æ˜¾ç¤ºè¿›ç¨‹å ç”¨çš„èµ„æºä¿¡æ¯


<span class="token comment"># æœç´¢è¿›ç¨‹ï¼ˆå¸¸ç”¨ï¼‰</span>
<span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> è¿›ç¨‹åæˆ–è¿›ç¨‹id
<span class="token function">ps</span> aux <span class="token operator">|</span> <span class="token function">grep</span> è¿›ç¨‹åæˆ–è¿›ç¨‹id


<span class="token comment"># å…³é—­è¿›ç¨‹</span>
<span class="token function">kill</span> -9 pid      <span class="token comment"># å¼ºåˆ¶å…³é—­è¿›ç¨‹ï¼Œä»æ“ä½œç³»ç»Ÿå†…æ ¸çº§åˆ«æ€æ­»è¿›ç¨‹</span>
<span class="token function">kill</span> -15 pid     <span class="token comment"># è®©å†…æ ¸é€šçŸ¥åº”ç”¨ä¸»åŠ¨å…³é—­</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="_2-linuxæœåŠ¡ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#_2-linuxæœåŠ¡ç®¡ç†" aria-hidden="true">#</a> 2. LinuxæœåŠ¡ç®¡ç†</h3><br><h2 id="äº”-sshå’Œç½‘ç»œç®¡ç†" tabindex="-1"><a class="header-anchor" href="#äº”-sshå’Œç½‘ç»œç®¡ç†" aria-hidden="true">#</a> äº” SSHå’Œç½‘ç»œç®¡ç†</h2><h3 id="_1-å¸¸ç”¨ç½‘ç»œå·¥å…·" tabindex="-1"><a class="header-anchor" href="#_1-å¸¸ç”¨ç½‘ç»œå·¥å…·" aria-hidden="true">#</a> 1. å¸¸ç”¨ç½‘ç»œå·¥å…·</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token comment"># å®‰è£…ç½‘ç»œç®¡ç†å·¥å…·</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> net-tools

<span class="token comment"># æŸ¥çœ‹ip</span>
<span class="token function">ifconfig</span>

<span class="token comment"># é€šè¿‡ç½‘ç»œä¸­çš„å¿ƒè·³æœºåˆ¶æŸ¥çœ‹ç½‘ç»œæ˜¯å¦æ­£å¸¸</span>
<span class="token function">ping</span> <span class="token function">ip</span>


<span class="token comment"># ç«¯å£å·æŸ¥è¯¢</span>
<span class="token function">netstat</span> -anp <span class="token operator">|</span> <span class="token function">grep</span> port

<span class="token function">lsof</span> -i:port

<span class="token comment"># windowsä¸‹</span>
<span class="token function">netstat</span> -ano <span class="token operator">|</span> findstr port

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="_2-sshè¿œç¨‹è¿æ¥" tabindex="-1"><a class="header-anchor" href="#_2-sshè¿œç¨‹è¿æ¥" aria-hidden="true">#</a> 2. SSHè¿œç¨‹è¿æ¥</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token comment"># é¦–å…ˆéœ€è¦ç»™è¿œç¨‹æœåŠ¡å™¨ï¼ˆLinuxæœåŠ¡å™¨ï¼‰å®‰è£…ssh</span>

<span class="token comment">## æœç´¢sshæ˜¯å¦å·²ç»å®‰è£…</span>
<span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> <span class="token function">ssh</span>


<span class="token comment"># å‡å¦‚æ²¡æœ‰æœç´¢åˆ°ï¼Œåˆ™éœ€è¦å®‰è£…sshæœåŠ¡</span>
<span class="token function">apt</span> update

<span class="token comment"># å®‰è£…ssh</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> openssh-server

<span class="token comment"># é‡å¯ssh</span>
<span class="token function">sudo</span> <span class="token function">service</span> <span class="token function">ssh</span> restart 

<span class="token comment"># æ‰§è¡Œå®Œäº†ä»¥ä¸ŠæŒ‡ä»¤ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥æœç´¢sshæœåŠ¡æ˜¯å¦å·²ç»å¯åŠ¨</span>
<span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> <span class="token function">ssh</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é˜¿é‡Œäº‘ã€åä¸ºäº‘ã€è…¾è®¯äº‘ç­‰äº‘æœåŠ¡å™¨ä¼šé»˜è®¤å®‰è£…å¥½sshæœåŠ¡ã€‚</p><br><h3 id="_3-linuxé˜²ç«å¢™" tabindex="-1"><a class="header-anchor" href="#_3-linuxé˜²ç«å¢™" aria-hidden="true">#</a> 3. Linuxé˜²ç«å¢™</h3><p>Centos7é»˜è®¤æ˜¯å¼€å¯é˜²ç«å¢™çš„ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token comment"># 1ã€æŸ¥çœ‹é˜²ç«å¢™çš„é…ç½®</span>
firewall-cmd --state
firewall-cmd --list-all

<span class="token comment"># å¼€å¯é˜²ç«å¢™</span>
systemctl start firewalld


<span class="token comment"># å¼€æ”¾æŸä¸ªç«¯å£ ï¼ˆ ä»¥80ç«¯å£ä¸ºä¾‹ ï¼‰</span>
firewall-cmd --permanent --add-port<span class="token operator">=</span><span class="token number">80</span>/tcp
firewall-cmd --reload    <span class="token comment">#é‡æ–°åŠ è½½é˜²ç«å¢™é…ç½®æ‰ä¼šèµ·ä½œç”¨</span>

<span class="token comment"># ç§»é™¤ä»¥ä¸Šè§„åˆ™</span>
firewall-cmd --permanent --remove-port<span class="token operator">=</span><span class="token number">80</span>/tcp
firewall-cmd --reload


<span class="token comment"># æ”¾é€šæŸä¸ªç«¯å£æ®µ</span>
firewall-cmd --permanent --zone<span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">1000</span>-2000/tcp
firewall-cmd --reload

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p>IPé™åˆ¶ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token comment"># æ”¾é€šæŸä¸ªIPè®¿é—®ï¼Œé»˜è®¤å…è®¸</span>
firewall-cmd --permanent --add-rich-rule<span class="token operator">=</span><span class="token string">&#39;rule family=ipv4 source address=192.168.1.169 accept&#39;</span>
firewall-cmd --reload

<span class="token comment"># ç¦æ­¢æŸä¸ªIPè®¿é—®</span>
firewall-cmd --permanent --add-rich-rule<span class="token operator">=</span><span class="token string">&#39;rule family=ipv4 source address=10.0.0.42 drop&#39;</span>
firewall-cmd --reload

<span class="token comment"># æ”¾é€šæŸä¸ªIPè®¿é—®æŸä¸ªç«¯å£</span>
firewall-cmd --permanent --add-rich-rule<span class="token operator">=</span><span class="token string">&#39;rule family=ipv4 source address=192.168.1.169 port protocol=tcp port=6379 accept&#39;</span>
firewall-cmd --reload

<span class="token comment"># ç§»é™¤ä»¥ä¸Šè§„åˆ™</span>
firewall-cmd --permanent --remove-rich-rule<span class="token operator">=</span><span class="token string">&#39;rule family=&quot;ipv4&quot; source address=&quot;192.168.1.169&quot; port port=&quot;6379&quot; protocol=&quot;tcp&quot; accept&#39;</span>
firewall-cmd --reload

<span class="token comment"># æ”¾é€šæŸä¸ªIPæ®µè®¿é—®</span>
firewall-cmd --permanent --add-rich-rule<span class="token operator">=</span><span class="token string">&#39;rule family=ipv4 source address=10.0.0.0/24 accept&#39;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h2 id="å…­-ç³»ç»Ÿå·¥å…·systemd" tabindex="-1"><a class="header-anchor" href="#å…­-ç³»ç»Ÿå·¥å…·systemd" aria-hidden="true">#</a> å…­ ç³»ç»Ÿå·¥å…·Systemd</h2><p>Systemd æ˜¯ Linux ç³»ç»Ÿå·¥å…·ï¼Œç”¨æ¥å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹ï¼Œ å·²æˆä¸ºå¤§å¤šæ•°å‘è¡Œç‰ˆçš„æ ‡å‡†é…ç½®ã€‚</p><p>å†å²ä¸Šï¼ŒLinux çš„å¯åŠ¨ä¸€ç›´é‡‡ç”¨ <code>init</code> è¿›ç¨‹ã€ä¸‹é¢çš„å‘½ä»¤ç”¨æ¥å¯åŠ¨æœåŠ¡ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
$ <span class="token function">sudo</span> /etc/init.d/apache start

<span class="token comment"># æˆ–è€…</span>
$ <span class="token function">service</span> apache start

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ç§æ–¹æ³•æœ‰ä¸¤ä¸ªç¼ºç‚¹</p><ul><li><p>ä¸€æ˜¯å¯åŠ¨æ—¶é—´é•¿ã€‚<code>init</code>è¿›ç¨‹æ˜¯ä¸²è¡Œå¯åŠ¨ï¼Œåªæœ‰å‰ä¸€ä¸ªè¿›ç¨‹å¯åŠ¨å®Œï¼Œæ‰ä¼šå¯åŠ¨ä¸‹ä¸€ä¸ªè¿›ç¨‹ã€‚</p></li><li><p>äºŒæ˜¯å¯åŠ¨è„šæœ¬å¤æ‚ã€‚<code>init</code>è¿›ç¨‹åªæ˜¯æ‰§è¡Œå¯åŠ¨è„šæœ¬ï¼Œä¸ç®¡å…¶ä»–äº‹æƒ…ã€‚è„šæœ¬éœ€è¦è‡ªå·±å¤„ç†å„ç§æƒ…å†µï¼Œè¿™å¾€å¾€ä½¿å¾—è„šæœ¬å˜å¾—å¾ˆé•¿ã€‚</p></li></ul><br><p>Systemd å°±æ˜¯ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜è€Œè¯ç”Ÿçš„ã€‚å®ƒçš„è®¾è®¡ç›®æ ‡æ˜¯ï¼Œä¸ºç³»ç»Ÿçš„å¯åŠ¨å’Œç®¡ç†æä¾›ä¸€å¥—å®Œæ•´çš„è§£å†³æ–¹æ¡ˆã€‚</p><p>æ ¹æ® Linux æƒ¯ä¾‹ï¼Œå­—æ¯<code>d</code>æ˜¯å®ˆæŠ¤è¿›ç¨‹ï¼ˆdaemonï¼‰çš„ç¼©å†™ã€‚ Systemd è¿™ä¸ªåå­—çš„å«ä¹‰ï¼Œå°±æ˜¯å®ƒè¦å®ˆæŠ¤æ•´ä¸ªç³»ç»Ÿ.</p><br><p><strong>Systemd æ¶æ„å›¾</strong>ï¼š</p><img src="https://www.ruanyifeng.com/blogimg/asset/2016/bg2016030703.png" alt="img" style="zoom:150%;"><br><p>ä½¿ç”¨äº† Systemdï¼Œå°±ä¸éœ€è¦å†ç”¨<code>init</code>äº†ã€‚</p><p>Systemd å–ä»£äº†<code>initd</code>ï¼Œæˆä¸ºç³»ç»Ÿçš„ç¬¬ä¸€ä¸ªè¿›ç¨‹ï¼ˆPID ç­‰äº 1ï¼‰ï¼Œå…¶ä»–è¿›ç¨‹éƒ½æ˜¯å®ƒçš„å­è¿›ç¨‹ã€‚</p><p>Systemd çš„ä¼˜ç‚¹æ˜¯åŠŸèƒ½å¼ºå¤§ï¼Œä½¿ç”¨æ–¹ä¾¿ï¼Œç¼ºç‚¹æ˜¯ä½“ç³»åºå¤§ï¼Œéå¸¸å¤æ‚ã€‚</p><p>Systemd å¹¶ä¸æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œè€Œæ˜¯ä¸€ç»„å‘½ä»¤ï¼Œæ¶‰åŠåˆ°ç³»ç»Ÿç®¡ç†çš„æ–¹æ–¹é¢é¢.</p><br><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
$ systemctl --version             <span class="token comment"># æŸ¥çœ‹ Systemd çš„ç‰ˆæœ¬</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="_1-systemdç³»ç»Ÿç®¡ç†" tabindex="-1"><a class="header-anchor" href="#_1-systemdç³»ç»Ÿç®¡ç†" aria-hidden="true">#</a> 1. Systemdç³»ç»Ÿç®¡ç†</h3><p><strong>systemctl</strong>ï¼š<code>systemctl</code>æ˜¯ Systemd çš„ä¸»å‘½ä»¤ï¼Œç”¨äºç®¡ç†ç³»ç»Ÿã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token comment"># é‡å¯ç³»ç»Ÿ</span>
$ <span class="token function">sudo</span> systemctl <span class="token function">reboot</span>

<span class="token comment"># å…³é—­ç³»ç»Ÿï¼Œåˆ‡æ–­ç”µæº</span>
$ <span class="token function">sudo</span> systemctl poweroff

<span class="token comment"># CPUåœæ­¢å·¥ä½œ</span>
$ <span class="token function">sudo</span> systemctl <span class="token function">halt</span>

<span class="token comment"># æš‚åœç³»ç»Ÿ</span>
$ <span class="token function">sudo</span> systemctl <span class="token function">suspend</span>

<span class="token comment"># è®©ç³»ç»Ÿè¿›å…¥å†¬çœ çŠ¶æ€</span>
$ <span class="token function">sudo</span> systemctl hibernate

<span class="token comment"># è®©ç³»ç»Ÿè¿›å…¥äº¤äº’å¼ä¼‘çœ çŠ¶æ€</span>
$ <span class="token function">sudo</span> systemctl hybrid-sleep

<span class="token comment"># å¯åŠ¨è¿›å…¥æ•‘æ´çŠ¶æ€ï¼ˆå•ç”¨æˆ·çŠ¶æ€ï¼‰</span>
$ <span class="token function">sudo</span> systemctl rescue

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><strong>systemd-analyze</strong>ï¼š<code>systemd-analyze</code>å‘½ä»¤ç”¨äºæŸ¥çœ‹å¯åŠ¨è€—æ—¶ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># æŸ¥çœ‹å¯åŠ¨è€—æ—¶</span>
$ systemd-analyze                                                                                       

<span class="token comment"># æŸ¥çœ‹æ¯ä¸ªæœåŠ¡çš„å¯åŠ¨è€—æ—¶</span>
$ systemd-analyze blame

<span class="token comment"># æ˜¾ç¤ºç€‘å¸ƒçŠ¶çš„å¯åŠ¨è¿‡ç¨‹æµ</span>
$ systemd-analyze critical-chain

<span class="token comment"># æ˜¾ç¤ºæŒ‡å®šæœåŠ¡çš„å¯åŠ¨æµ</span>
$ systemd-analyze critical-chain atd.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><strong>hostnamectl</strong>ï¼š<code>hostnamectl</code>å‘½ä»¤ç”¨äºæŸ¥çœ‹å½“å‰ä¸»æœºçš„ä¿¡æ¯ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># æ˜¾ç¤ºå½“å‰ä¸»æœºçš„ä¿¡æ¯</span>
$ hostnamectl

<span class="token comment"># è®¾ç½®ä¸»æœºåã€‚</span>
$ <span class="token function">sudo</span> hostnamectl set-hostname rhel7

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><strong>localectl</strong>ï¼š<code>localectl</code>å‘½ä»¤ç”¨äºæŸ¥çœ‹æœ¬åœ°åŒ–è®¾ç½®ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># æŸ¥çœ‹æœ¬åœ°åŒ–è®¾ç½®</span>
$ localectl

<span class="token comment"># è®¾ç½®æœ¬åœ°åŒ–å‚æ•°ã€‚</span>
$ <span class="token function">sudo</span> localectl set-locale <span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span>en_GB.utf8
$ <span class="token function">sudo</span> localectl set-keymap en_GB

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><strong>timedatectl</strong>ï¼š<code>timedatectl</code>å‘½ä»¤ç”¨äºæŸ¥çœ‹å½“å‰æ—¶åŒºè®¾ç½®ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># æŸ¥çœ‹å½“å‰æ—¶åŒºè®¾ç½®</span>
$ timedatectl

<span class="token comment"># æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨çš„æ—¶åŒº</span>
$ timedatectl list-timezones                                                                                   

<span class="token comment"># è®¾ç½®å½“å‰æ—¶åŒº</span>
$ <span class="token function">sudo</span> timedatectl set-timezone America/New_York
$ <span class="token function">sudo</span> timedatectl set-time YYYY-MM-DD
$ <span class="token function">sudo</span> timedatectl set-time HH:MM:SS

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><strong>loginctl</strong>ï¼š<code>loginctl</code>å‘½ä»¤ç”¨äºæŸ¥çœ‹å½“å‰ç™»å½•çš„ç”¨æˆ·ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># åˆ—å‡ºå½“å‰session</span>
$ loginctl list-sessions

<span class="token comment"># åˆ—å‡ºå½“å‰ç™»å½•ç”¨æˆ·</span>
$ loginctl list-users

<span class="token comment"># åˆ—å‡ºæ˜¾ç¤ºæŒ‡å®šç”¨æˆ·çš„ä¿¡æ¯</span>
$ loginctl show-user username

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-systemdç³»ç»Ÿèµ„æº" tabindex="-1"><a class="header-anchor" href="#_2-systemdç³»ç»Ÿèµ„æº" aria-hidden="true">#</a> 2. Systemdç³»ç»Ÿèµ„æº</h3><p><strong>Unit</strong> å«ä¹‰ï¼šSystemd å¯ä»¥ç®¡ç†æ‰€æœ‰ç³»ç»Ÿèµ„æºã€‚ä¸åŒçš„èµ„æºç»Ÿç§°ä¸º Unitï¼ˆå•ä½ï¼‰ã€‚Unit ä¸€å…±åˆ†æˆ12ç§ã€‚</p><ul><li>Service unitï¼šç³»ç»ŸæœåŠ¡</li><li>Target unitï¼šå¤šä¸ª Unit æ„æˆçš„ä¸€ä¸ªç»„</li><li>Device Unitï¼šç¡¬ä»¶è®¾å¤‡</li><li>Mount Unitï¼šæ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½ç‚¹</li><li>Automount Unitï¼šè‡ªåŠ¨æŒ‚è½½ç‚¹</li><li>Path Unitï¼šæ–‡ä»¶æˆ–è·¯å¾„</li><li>Scope Unitï¼šä¸æ˜¯ç”± Systemd å¯åŠ¨çš„å¤–éƒ¨è¿›ç¨‹</li><li>Slice Unitï¼šè¿›ç¨‹ç»„</li><li>Snapshot Unitï¼šSystemd å¿«ç…§ï¼Œå¯ä»¥åˆ‡å›æŸä¸ªå¿«ç…§</li><li>Socket Unitï¼šè¿›ç¨‹é—´é€šä¿¡çš„ socket</li><li>Swap Unitï¼šswap æ–‡ä»¶</li><li>Timer Unitï¼šå®šæ—¶å™¨</li></ul><br><p><code>systemctl list-units</code> å‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„æ‰€æœ‰ Unit</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„ Unit</span>
$ systemctl list-units

<span class="token comment"># åˆ—å‡ºæ‰€æœ‰Unitï¼ŒåŒ…æ‹¬æ²¡æœ‰æ‰¾åˆ°é…ç½®æ–‡ä»¶çš„æˆ–è€…å¯åŠ¨å¤±è´¥çš„</span>
$ systemctl list-units --all

<span class="token comment"># åˆ—å‡ºæ‰€æœ‰æ²¡æœ‰è¿è¡Œçš„ Unit</span>
$ systemctl list-units --all --state<span class="token operator">=</span>inactive

<span class="token comment"># åˆ—å‡ºæ‰€æœ‰åŠ è½½å¤±è´¥çš„ Unit</span>
$ systemctl list-units --failed

<span class="token comment"># åˆ—å‡ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„ã€ç±»å‹ä¸º service çš„ Unit</span>
$ systemctl list-units --type<span class="token operator">=</span>service

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-unitçŠ¶æ€å’Œç®¡ç†" tabindex="-1"><a class="header-anchor" href="#_3-unitçŠ¶æ€å’Œç®¡ç†" aria-hidden="true">#</a> 3. UnitçŠ¶æ€å’Œç®¡ç†</h3><p><code>systemctl status</code>å‘½ä»¤ç”¨äºæŸ¥çœ‹ç³»ç»ŸçŠ¶æ€å’Œå•ä¸ª Unit çš„çŠ¶æ€ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># æ˜¾ç¤ºç³»ç»ŸçŠ¶æ€</span>
$ systemctl status

<span class="token comment"># æ˜¾ç¤ºå•ä¸ª Unit çš„çŠ¶æ€</span>
$ sysystemctl status bluetooth.service

<span class="token comment"># æ˜¾ç¤ºè¿œç¨‹ä¸»æœºçš„æŸä¸ª Unit çš„çŠ¶æ€</span>
$ systemctl -H root@rhel7.example.com status httpd.service

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p>é™¤äº†<code>status</code>å‘½ä»¤ï¼Œ<code>systemctl</code>è¿˜æä¾›äº†ä¸‰ä¸ªæŸ¥è¯¢çŠ¶æ€çš„ç®€å•æ–¹æ³•ï¼Œä¸»è¦ä¾›è„šæœ¬å†…éƒ¨çš„åˆ¤æ–­è¯­å¥ä½¿ç”¨ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># æ˜¾ç¤ºæŸä¸ª Unit æ˜¯å¦æ­£åœ¨è¿è¡Œ</span>
$ systemctl is-active application.service

<span class="token comment"># æ˜¾ç¤ºæŸä¸ª Unit æ˜¯å¦å¤„äºå¯åŠ¨å¤±è´¥çŠ¶æ€</span>
$ systemctl is-failed application.service

<span class="token comment"># æ˜¾ç¤ºæŸä¸ª Unit æœåŠ¡æ˜¯å¦å»ºç«‹äº†å¯åŠ¨é“¾æ¥</span>
$ systemctl is-enabled application.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><strong>Unit ç®¡ç†</strong>ï¼šå¯¹äºç”¨æˆ·æ¥è¯´ï¼Œæœ€å¸¸ç”¨çš„æ˜¯ä¸‹é¢è¿™äº›å‘½ä»¤ï¼Œç”¨äºå¯åŠ¨å’Œåœæ­¢ Unitï¼ˆä¸»è¦æ˜¯ serviceï¼‰ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># ç«‹å³å¯åŠ¨ä¸€ä¸ªæœåŠ¡</span>
$ <span class="token function">sudo</span> systemctl start apache.service

<span class="token comment"># ç«‹å³åœæ­¢ä¸€ä¸ªæœåŠ¡</span>
$ <span class="token function">sudo</span> systemctl stop apache.service

<span class="token comment"># é‡å¯ä¸€ä¸ªæœåŠ¡</span>
$ <span class="token function">sudo</span> systemctl restart apache.service

<span class="token comment"># æ€æ­»ä¸€ä¸ªæœåŠ¡çš„æ‰€æœ‰å­è¿›ç¨‹</span>
$ <span class="token function">sudo</span> systemctl <span class="token function">kill</span> apache.service

<span class="token comment"># é‡æ–°åŠ è½½ä¸€ä¸ªæœåŠ¡çš„é…ç½®æ–‡ä»¶</span>
$ <span class="token function">sudo</span> systemctl reload apache.service


<span class="token comment"># é‡è½½æ‰€æœ‰ä¿®æ”¹è¿‡çš„é…ç½®æ–‡ä»¶</span>
$ <span class="token function">sudo</span> systemctl daemon-reload

<span class="token comment"># æ˜¾ç¤ºæŸä¸ª Unit çš„æ‰€æœ‰åº•å±‚å‚æ•°</span>
$ systemctl show httpd.service

<span class="token comment"># æ˜¾ç¤ºæŸä¸ª Unit çš„æŒ‡å®šå±æ€§çš„å€¼</span>
$ systemctl show -p CPUShares httpd.service

<span class="token comment"># è®¾ç½®æŸä¸ª Unit çš„æŒ‡å®šå±æ€§</span>
$ <span class="token function">sudo</span> systemctl set-property httpd.service <span class="token assign-left variable">CPUShares</span><span class="token operator">=</span><span class="token number">500</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="_4-unitçš„é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_4-unitçš„é…ç½®æ–‡ä»¶" aria-hidden="true">#</a> 4. Unitçš„é…ç½®æ–‡ä»¶</h3><p>æ¯ä¸€ä¸ª Unit éƒ½æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå‘Šè¯‰ Systemd æ€ä¹ˆå¯åŠ¨è¿™ä¸ª Unit ã€‚</p><p>Systemd é»˜è®¤ä»ç›®å½• <code>/etc/systemd/system/</code> è¯»å–é…ç½®æ–‡ä»¶ã€‚</p><p>ä½†æ˜¯ï¼Œé‡Œé¢å­˜æ”¾çš„å¤§éƒ¨åˆ†æ–‡ä»¶éƒ½æ˜¯ç¬¦å·é“¾æ¥ï¼ŒæŒ‡å‘ç›®å½•<code>/usr/lib/systemd/system/</code>ï¼ŒçœŸæ­£çš„é…ç½®æ–‡ä»¶å­˜æ”¾åœ¨é‚£ä¸ªç›®å½•ã€‚</p><br><p><code>systemctl enable</code> å‘½ä»¤ç”¨äºåœ¨ä¸Šé¢ä¸¤ä¸ªç›®å½•ä¹‹é—´ï¼Œå»ºç«‹ç¬¦å·é“¾æ¥å…³ç³»ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
$ <span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> clamd@scan.service

<span class="token comment"># ç­‰åŒäº</span>
$ <span class="token function">sudo</span> <span class="token function">ln</span> -s <span class="token string">&#39;/usr/lib/systemd/system/clamd@scan.service&#39;</span> <span class="token string">&#39;/etc/systemd/system/multi-user.target.wants/clamd@scan.service&#39;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p>å¦‚æœé…ç½®æ–‡ä»¶é‡Œé¢è®¾ç½®äº†å¼€æœºå¯åŠ¨ï¼Œ<code>systemctl enable</code> å‘½ä»¤ç›¸å½“äºæ¿€æ´»å¼€æœºå¯åŠ¨ã€‚</p><p>ä¸ä¹‹å¯¹åº”çš„ï¼Œ<code>systemctl disable</code>å‘½ä»¤ç”¨äºåœ¨ä¸¤ä¸ªç›®å½•ä¹‹é—´ï¼Œæ’¤é”€ç¬¦å·é“¾æ¥å…³ç³»ï¼Œç›¸å½“äºæ’¤é”€å¼€æœºå¯åŠ¨ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> systemctl disable clamd@scan.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></blockquote><p>é…ç½®æ–‡ä»¶çš„åç¼€åï¼Œå°±æ˜¯è¯¥ Unit çš„ç§ç±»ï¼Œæ¯”å¦‚<code>sshd.socket</code>ã€‚</p><p>å¦‚æœçœç•¥ï¼ŒSystemd é»˜è®¤åç¼€åä¸º<code>.service</code>ï¼Œæ‰€ä»¥<code>sshd</code>ä¼šè¢«ç†è§£æˆ <code>sshd.service</code>ã€‚</p><br><h4 id="é…ç½®æ–‡ä»¶çš„çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#é…ç½®æ–‡ä»¶çš„çŠ¶æ€" aria-hidden="true">#</a> é…ç½®æ–‡ä»¶çš„çŠ¶æ€</h4><p><code>systemctl list-unit-files</code>å‘½ä»¤ç”¨äºåˆ—å‡ºæ‰€æœ‰é…ç½®æ–‡ä»¶ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># åˆ—å‡ºæ‰€æœ‰é…ç½®æ–‡ä»¶</span>
$ systemctl list-unit-files

<span class="token comment"># åˆ—å‡ºæŒ‡å®šç±»å‹çš„é…ç½®æ–‡ä»¶</span>
$ systemctl list-unit-files --type<span class="token operator">=</span>service

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p>è¿™ä¸ªå‘½ä»¤ä¼šè¾“å‡ºä¸€ä¸ªåˆ—è¡¨ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ systemctl list-unit-files

UNIT FILE              STATE
chronyd.service        enabled
clamd@.service         static
clamd@scan.service     disabled
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p>è¿™ä¸ªåˆ—è¡¨æ˜¾ç¤ºæ¯ä¸ªé…ç½®æ–‡ä»¶çš„çŠ¶æ€ï¼Œä¸€å…±æœ‰å››ç§ã€‚</p><blockquote><ul><li>enabledï¼šå·²å»ºç«‹å¯åŠ¨é“¾æ¥</li><li>disabledï¼šæ²¡å»ºç«‹å¯åŠ¨é“¾æ¥</li><li>staticï¼šè¯¥é…ç½®æ–‡ä»¶æ²¡æœ‰<code>[Install]</code>éƒ¨åˆ†ï¼ˆæ— æ³•æ‰§è¡Œï¼‰ï¼Œåªèƒ½ä½œä¸ºå…¶ä»–é…ç½®æ–‡ä»¶çš„ä¾èµ–</li><li>maskedï¼šè¯¥é…ç½®æ–‡ä»¶è¢«ç¦æ­¢å»ºç«‹å¯åŠ¨é“¾æ¥</li></ul></blockquote><p>æ³¨æ„ï¼Œä»é…ç½®æ–‡ä»¶çš„çŠ¶æ€æ— æ³•çœ‹å‡ºï¼Œè¯¥ Unit æ˜¯å¦æ­£åœ¨è¿è¡Œã€‚è¿™å¿…é¡»æ‰§è¡Œå‰é¢æåˆ°çš„<code>systemctl status</code>å‘½ä»¤ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ systemctl status bluetooth.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></blockquote><p>ä¸€æ—¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå°±è¦è®© SystemD é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ï¼Œç„¶åé‡æ–°å¯åŠ¨ï¼Œå¦åˆ™ä¿®æ”¹ä¸ä¼šç”Ÿæ•ˆã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> systemctl daemon-reload
$ <span class="token function">sudo</span> systemctl restart httpd.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><br><h4 id="é…ç½®æ–‡ä»¶çš„æ ¼å¼" tabindex="-1"><a class="header-anchor" href="#é…ç½®æ–‡ä»¶çš„æ ¼å¼" aria-hidden="true">#</a> é…ç½®æ–‡ä»¶çš„æ ¼å¼</h4><p>é…ç½®æ–‡ä»¶å°±æ˜¯æ™®é€šçš„æ–‡æœ¬æ–‡ä»¶ï¼Œå¯ä»¥ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ã€‚</p><p><code>systemctl cat</code> å‘½ä»¤å¯ä»¥æŸ¥çœ‹é…ç½®æ–‡ä»¶çš„å†…å®¹ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ systemctl <span class="token function">cat</span> atd.service

<span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
<span class="token assign-left variable">Description</span><span class="token operator">=</span>ATD daemon

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">Type</span><span class="token operator">=</span>forking
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/bin/atd

<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
<span class="token assign-left variable">WantedBy</span><span class="token operator">=</span>multi-user.target
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p>ä»ä¸Šé¢çš„è¾“å‡ºå¯ä»¥çœ‹åˆ°ï¼Œé…ç½®æ–‡ä»¶åˆ†æˆå‡ ä¸ªåŒºå—ã€‚æ¯ä¸ªåŒºå—çš„ç¬¬ä¸€è¡Œï¼Œæ˜¯ç”¨æ–¹æ‹¬å·è¡¨ç¤ºçš„åŒºåˆ«åï¼Œæ¯”å¦‚<code>[Unit]</code>ã€‚</p><p>æ³¨æ„ï¼Œé…ç½®æ–‡ä»¶çš„åŒºå—åå’Œå­—æ®µåï¼Œéƒ½æ˜¯å¤§å°å†™æ•æ„Ÿçš„ã€‚</p><p>æ¯ä¸ªåŒºå—å†…éƒ¨æ˜¯ä¸€äº›ç­‰å·è¿æ¥çš„é”®å€¼å¯¹ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>Section<span class="token punctuation">]</span>
<span class="token assign-left variable">Directive1</span><span class="token operator">=</span>value
<span class="token assign-left variable">Directive2</span><span class="token operator">=</span>value

<span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p>æ³¨æ„ï¼Œé”®å€¼å¯¹çš„ç­‰å·ä¸¤ä¾§ä¸èƒ½æœ‰ç©ºæ ¼ã€‚</p><br><h4 id="é…ç½®æ–‡ä»¶çš„åŒºå—" tabindex="-1"><a class="header-anchor" href="#é…ç½®æ–‡ä»¶çš„åŒºå—" aria-hidden="true">#</a> é…ç½®æ–‡ä»¶çš„åŒºå—</h4><p><code>[Unit]</code>åŒºå—é€šå¸¸æ˜¯é…ç½®æ–‡ä»¶çš„ç¬¬ä¸€ä¸ªåŒºå—ï¼Œç”¨æ¥å®šä¹‰ Unit çš„å…ƒæ•°æ®ï¼Œä»¥åŠé…ç½®ä¸å…¶ä»– Unit çš„å…³ç³»ã€‚å®ƒçš„ä¸»è¦å­—æ®µå¦‚ä¸‹ã€‚</p><blockquote><ul><li><code>Description</code>ï¼šç®€çŸ­æè¿°</li><li><code>Documentation</code>ï¼šæ–‡æ¡£åœ°å€</li><li><code>Requires</code>ï¼šå½“å‰ Unit ä¾èµ–çš„å…¶ä»– Unitï¼Œå¦‚æœå®ƒä»¬æ²¡æœ‰è¿è¡Œï¼Œå½“å‰ Unit ä¼šå¯åŠ¨å¤±è´¥</li><li><code>Wants</code>ï¼šä¸å½“å‰ Unit é…åˆçš„å…¶ä»– Unitï¼Œå¦‚æœå®ƒä»¬æ²¡æœ‰è¿è¡Œï¼Œå½“å‰ Unit ä¸ä¼šå¯åŠ¨å¤±è´¥</li><li><code>BindsTo</code>ï¼šä¸<code>Requires</code>ç±»ä¼¼ï¼Œå®ƒæŒ‡å®šçš„ Unit å¦‚æœé€€å‡ºï¼Œä¼šå¯¼è‡´å½“å‰ Unit åœæ­¢è¿è¡Œ</li><li><code>Before</code>ï¼šå¦‚æœè¯¥å­—æ®µæŒ‡å®šçš„ Unit ä¹Ÿè¦å¯åŠ¨ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨å½“å‰ Unit ä¹‹åå¯åŠ¨</li><li><code>After</code>ï¼šå¦‚æœè¯¥å­—æ®µæŒ‡å®šçš„ Unit ä¹Ÿè¦å¯åŠ¨ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨å½“å‰ Unit ä¹‹å‰å¯åŠ¨</li><li><code>Conflicts</code>ï¼šè¿™é‡ŒæŒ‡å®šçš„ Unit ä¸èƒ½ä¸å½“å‰ Unit åŒæ—¶è¿è¡Œ</li><li><code>Condition...</code>ï¼šå½“å‰ Unit è¿è¡Œå¿…é¡»æ»¡è¶³çš„æ¡ä»¶ï¼Œå¦åˆ™ä¸ä¼šè¿è¡Œ</li><li><code>Assert...</code>ï¼šå½“å‰ Unit è¿è¡Œå¿…é¡»æ»¡è¶³çš„æ¡ä»¶ï¼Œå¦åˆ™ä¼šæŠ¥å¯åŠ¨å¤±è´¥</li></ul></blockquote><br><p><code>[Service]</code>åŒºå—ç”¨æ¥ Service çš„é…ç½®ï¼Œåªæœ‰ Service ç±»å‹çš„ Unit æ‰æœ‰è¿™ä¸ªåŒºå—ã€‚å®ƒçš„ä¸»è¦å­—æ®µå¦‚ä¸‹ã€‚</p><blockquote><ul><li><code>Type</code>ï¼šå®šä¹‰å¯åŠ¨æ—¶çš„è¿›ç¨‹è¡Œä¸ºã€‚å®ƒæœ‰ä»¥ä¸‹å‡ ç§å€¼ã€‚</li><li><code>Type=simple</code>ï¼šé»˜è®¤å€¼ï¼Œæ‰§è¡Œ<code>ExecStart</code>æŒ‡å®šçš„å‘½ä»¤ï¼Œå¯åŠ¨ä¸»è¿›ç¨‹</li><li><code>Type=forking</code>ï¼šä»¥ fork æ–¹å¼ä»çˆ¶è¿›ç¨‹åˆ›å»ºå­è¿›ç¨‹ï¼Œåˆ›å»ºåçˆ¶è¿›ç¨‹ä¼šç«‹å³é€€å‡º</li><li><code>Type=oneshot</code>ï¼šä¸€æ¬¡æ€§è¿›ç¨‹ï¼ŒSystemd ä¼šç­‰å½“å‰æœåŠ¡é€€å‡ºï¼Œå†ç»§ç»­å¾€ä¸‹æ‰§è¡Œ</li><li><code>Type=dbus</code>ï¼šå½“å‰æœåŠ¡é€šè¿‡D-Buså¯åŠ¨</li><li><code>Type=notify</code>ï¼šå½“å‰æœåŠ¡å¯åŠ¨å®Œæ¯•ï¼Œä¼šé€šçŸ¥<code>Systemd</code>ï¼Œå†ç»§ç»­å¾€ä¸‹æ‰§è¡Œ</li><li><code>Type=idle</code>ï¼šè‹¥æœ‰å…¶ä»–ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œå½“å‰æœåŠ¡æ‰ä¼šè¿è¡Œ</li><li><code>ExecStart</code>ï¼šå¯åŠ¨å½“å‰æœåŠ¡çš„å‘½ä»¤</li><li><code>ExecStartPre</code>ï¼šå¯åŠ¨å½“å‰æœåŠ¡ä¹‹å‰æ‰§è¡Œçš„å‘½ä»¤</li><li><code>ExecStartPost</code>ï¼šå¯åŠ¨å½“å‰æœåŠ¡ä¹‹åæ‰§è¡Œçš„å‘½ä»¤</li><li><code>ExecReload</code>ï¼šé‡å¯å½“å‰æœåŠ¡æ—¶æ‰§è¡Œçš„å‘½ä»¤</li><li><code>ExecStop</code>ï¼šåœæ­¢å½“å‰æœåŠ¡æ—¶æ‰§è¡Œçš„å‘½ä»¤</li><li><code>ExecStopPost</code>ï¼šåœæ­¢å½“å…¶æœåŠ¡ä¹‹åæ‰§è¡Œçš„å‘½ä»¤</li><li><code>RestartSec</code>ï¼šè‡ªåŠ¨é‡å¯å½“å‰æœåŠ¡é—´éš”çš„ç§’æ•°</li><li><code>Restart</code>ï¼šå®šä¹‰ä½•ç§æƒ…å†µ Systemd ä¼šè‡ªåŠ¨é‡å¯å½“å‰æœåŠ¡ï¼Œå¯èƒ½çš„å€¼åŒ…æ‹¬<code>always</code>ï¼ˆæ€»æ˜¯é‡å¯ï¼‰ã€<code>on-success</code>ã€<code>on-failure</code>ã€<code>on-abnormal</code>ã€<code>on-abort</code>ã€<code>on-watchdog</code></li><li><code>TimeoutSec</code>ï¼šå®šä¹‰ Systemd åœæ­¢å½“å‰æœåŠ¡ä¹‹å‰ç­‰å¾…çš„ç§’æ•°</li><li><code>Environment</code>ï¼šæŒ‡å®šç¯å¢ƒå˜é‡</li></ul></blockquote><br><p><code>[Install]</code>é€šå¸¸æ˜¯é…ç½®æ–‡ä»¶çš„æœ€åä¸€ä¸ªåŒºå—ï¼Œç”¨æ¥å®šä¹‰å¦‚ä½•å¯åŠ¨ï¼Œä»¥åŠæ˜¯å¦å¼€æœºå¯åŠ¨ã€‚å®ƒçš„ä¸»è¦å­—æ®µå¦‚ä¸‹ã€‚</p><blockquote><ul><li><code>WantedBy</code>ï¼šå®ƒçš„å€¼æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ª Targetï¼Œå½“å‰ Unit æ¿€æ´»æ—¶ï¼ˆenableï¼‰ç¬¦å·é“¾æ¥ä¼šæ”¾å…¥<code>/etc/systemd/system</code>ç›®å½•ä¸‹é¢ä»¥ Target å + <code>.wants</code>åç¼€æ„æˆçš„å­ç›®å½•ä¸­</li><li><code>RequiredBy</code>ï¼šå®ƒçš„å€¼æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ª Targetï¼Œå½“å‰ Unit æ¿€æ´»æ—¶ï¼Œç¬¦å·é“¾æ¥ä¼šæ”¾å…¥<code>/etc/systemd/system</code>ç›®å½•ä¸‹é¢ä»¥ Target å + <code>.required</code>åç¼€æ„æˆçš„å­ç›®å½•ä¸­</li><li><code>Alias</code>ï¼šå½“å‰ Unit å¯ç”¨äºå¯åŠ¨çš„åˆ«å</li><li><code>Also</code>ï¼šå½“å‰ Unit æ¿€æ´»ï¼ˆenableï¼‰æ—¶ï¼Œä¼šè¢«åŒæ—¶æ¿€æ´»çš„å…¶ä»– Unit</li></ul></blockquote><br><p>Unit é…ç½®æ–‡ä»¶çš„å®Œæ•´å­—æ®µæ¸…å•ï¼Œè¯·å‚è€ƒ<a href="https://www.freedesktop.org/software/systemd/man/systemd.unit.html" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><br><h3 id="_5-target-unit-ç»„" tabindex="-1"><a class="header-anchor" href="#_5-target-unit-ç»„" aria-hidden="true">#</a> 5. Target(Unit ç»„)</h3><p>å¯åŠ¨è®¡ç®—æœºçš„æ—¶å€™ï¼Œéœ€è¦å¯åŠ¨å¤§é‡çš„ Unitã€‚å¦‚æœæ¯ä¸€æ¬¡å¯åŠ¨ï¼Œéƒ½è¦ä¸€ä¸€å†™æ˜æœ¬æ¬¡å¯åŠ¨éœ€è¦å“ªäº› Unitï¼Œæ˜¾ç„¶éå¸¸ä¸æ–¹ä¾¿ã€‚</p><p>Systemd çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ Targetã€‚</p><p>ç®€å•è¯´ï¼ŒTarget å°±æ˜¯ä¸€ä¸ª Unit ç»„ï¼ŒåŒ…å«è®¸å¤šç›¸å…³çš„ Unit ã€‚å¯åŠ¨æŸä¸ª Target çš„æ—¶å€™ï¼ŒSystemd å°±ä¼šå¯åŠ¨é‡Œé¢æ‰€æœ‰çš„ Unitã€‚</p><p>ä»è¿™ä¸ªæ„ä¹‰ä¸Šè¯´ï¼ŒTarget è¿™ä¸ªæ¦‚å¿µç±»ä¼¼äº&quot;çŠ¶æ€ç‚¹&quot;ï¼Œå¯åŠ¨æŸä¸ª Target å°±å¥½æ¯”å¯åŠ¨åˆ°æŸç§çŠ¶æ€ã€‚</p><p>ä¼ ç»Ÿçš„<code>init</code>å¯åŠ¨æ¨¡å¼é‡Œé¢ï¼Œæœ‰ RunLevel çš„æ¦‚å¿µï¼Œè·Ÿ Target çš„ä½œç”¨å¾ˆç±»ä¼¼ã€‚</p><p>ä¸åŒçš„æ˜¯ï¼ŒRunLevel æ˜¯äº’æ–¥çš„ï¼Œä¸å¯èƒ½å¤šä¸ª RunLevel åŒæ—¶å¯åŠ¨ï¼Œä½†æ˜¯å¤šä¸ª Target å¯ä»¥åŒæ—¶å¯åŠ¨ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token comment"># æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„æ‰€æœ‰ Target</span>
$ systemctl list-unit-files --type<span class="token operator">=</span>target

<span class="token comment"># æŸ¥çœ‹ä¸€ä¸ª Target åŒ…å«çš„æ‰€æœ‰ Unit</span>
$ systemctl list-dependencies multi-user.target

<span class="token comment"># æŸ¥çœ‹å¯åŠ¨æ—¶çš„é»˜è®¤ Target</span>
$ systemctl get-default

<span class="token comment"># è®¾ç½®å¯åŠ¨æ—¶çš„é»˜è®¤ Target</span>
$ <span class="token function">sudo</span> systemctl set-default multi-user.target

<span class="token comment"># åˆ‡æ¢ Target æ—¶ï¼Œé»˜è®¤ä¸å…³é—­å‰ä¸€ä¸ª Target å¯åŠ¨çš„è¿›ç¨‹ï¼Œ</span>
<span class="token comment"># systemctl isolate å‘½ä»¤æ”¹å˜è¿™ç§è¡Œä¸ºï¼Œ</span>
<span class="token comment"># å…³é—­å‰ä¸€ä¸ª Target é‡Œé¢æ‰€æœ‰ä¸å±äºåä¸€ä¸ª Target çš„è¿›ç¨‹</span>
$ <span class="token function">sudo</span> systemctl isolate multi-user.target

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><br><p>Target ä¸ ä¼ ç»Ÿ RunLevel çš„å¯¹åº”å…³ç³»å¦‚ä¸‹ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Traditional runlevel      New target name     Symbolically linked to<span class="token punctuation">..</span>.

Runlevel <span class="token number">0</span>           <span class="token operator">|</span>    runlevel0.target -<span class="token operator">&gt;</span> poweroff.target
Runlevel <span class="token number">1</span>           <span class="token operator">|</span>    runlevel1.target -<span class="token operator">&gt;</span> rescue.target
Runlevel <span class="token number">2</span>           <span class="token operator">|</span>    runlevel2.target -<span class="token operator">&gt;</span> multi-user.target
Runlevel <span class="token number">3</span>           <span class="token operator">|</span>    runlevel3.target -<span class="token operator">&gt;</span> multi-user.target
Runlevel <span class="token number">4</span>           <span class="token operator">|</span>    runlevel4.target -<span class="token operator">&gt;</span> multi-user.target
Runlevel <span class="token number">5</span>           <span class="token operator">|</span>    runlevel5.target -<span class="token operator">&gt;</span> graphical.target
Runlevel <span class="token number">6</span>           <span class="token operator">|</span>    runlevel6.target -<span class="token operator">&gt;</span> reboot.target
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><br><p>å®ƒä¸<code>init</code>è¿›ç¨‹çš„ä¸»è¦å·®åˆ«å¦‚ä¸‹ã€‚</p><blockquote><p><strong>ï¼ˆ1ï¼‰é»˜è®¤çš„ RunLevel</strong>ï¼ˆåœ¨<code>/etc/inittab</code>æ–‡ä»¶è®¾ç½®ï¼‰ç°åœ¨è¢«é»˜è®¤çš„ Target å–ä»£ï¼Œ</p><p>â€‹ ä½ç½®æ˜¯<code>/etc/systemd/system/default.target</code>ï¼Œé€šå¸¸ç¬¦å·é“¾æ¥åˆ°<code>graphical.target</code>ï¼ˆå›¾å½¢ç•Œé¢ï¼‰</p><pre><code>    æˆ–è€…`multi-user.target`ï¼ˆå¤šç”¨æˆ·å‘½ä»¤è¡Œï¼‰ã€‚
</code></pre><p><strong>ï¼ˆ2ï¼‰å¯åŠ¨è„šæœ¬çš„ä½ç½®</strong>ï¼Œä»¥å‰æ˜¯<code>/etc/init.d</code>ç›®å½•ï¼Œç¬¦å·é“¾æ¥åˆ°ä¸åŒçš„ RunLevel ç›®å½• ï¼ˆæ¯”å¦‚<code>/etc/rc3.d</code>ã€<code>/etc/rc5.d</code>ç­‰ï¼‰ï¼Œ</p><p>â€‹ ç°åœ¨åˆ™å­˜æ”¾åœ¨<code>/lib/systemd/system</code>å’Œ<code>/etc/systemd/system</code>ç›®å½•ã€‚</p><p><strong>ï¼ˆ3ï¼‰é…ç½®æ–‡ä»¶çš„ä½ç½®</strong>ï¼Œä»¥å‰<code>init</code>è¿›ç¨‹çš„é…ç½®æ–‡ä»¶æ˜¯<code>/etc/inittab</code>ï¼Œå„ç§æœåŠ¡çš„é…ç½®æ–‡ä»¶å­˜æ”¾åœ¨<code>/etc/sysconfig</code>ç›®å½•ã€‚</p><p>â€‹ ç°åœ¨çš„é…ç½®æ–‡ä»¶ä¸»è¦å­˜æ”¾åœ¨<code>/lib/systemd</code>ç›®å½•ï¼Œåœ¨<code>/etc/systemd</code>ç›®å½•é‡Œé¢çš„ä¿®æ”¹å¯ä»¥è¦†ç›–åŸå§‹è®¾ç½®ã€‚</p></blockquote><br><h3 id="_6-systemdæ—¥å¿—ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#_6-systemdæ—¥å¿—ç®¡ç†" aria-hidden="true">#</a> 6. Systemdæ—¥å¿—ç®¡ç†</h3><p>Systemd ç»Ÿä¸€ç®¡ç†æ‰€æœ‰ Unit çš„å¯åŠ¨æ—¥å¿—ã€‚</p><p>å¸¦æ¥çš„å¥½å¤„å°±æ˜¯ï¼Œå¯ä»¥åªç”¨<code>journalctl</code>ä¸€ä¸ªå‘½ä»¤ï¼ŒæŸ¥çœ‹æ‰€æœ‰æ—¥å¿—ï¼ˆå†…æ ¸æ—¥å¿—å’Œåº”ç”¨æ—¥å¿—ï¼‰ã€‚</p><p>æ—¥å¿—çš„é…ç½®æ–‡ä»¶æ˜¯<code>/etc/systemd/journald.conf</code>ã€‚</p><p><code>journalctl</code>åŠŸèƒ½å¼ºå¤§ï¼Œç”¨æ³•éå¸¸å¤šã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—ï¼ˆé»˜è®¤æƒ…å†µä¸‹ ï¼Œåªä¿å­˜æœ¬æ¬¡å¯åŠ¨çš„æ—¥å¿—ï¼‰</span>
$ <span class="token function">sudo</span> journalctl

<span class="token comment"># æŸ¥çœ‹å†…æ ¸æ—¥å¿—ï¼ˆä¸æ˜¾ç¤ºåº”ç”¨æ—¥å¿—ï¼‰</span>
$ <span class="token function">sudo</span> journalctl -k

<span class="token comment"># æŸ¥çœ‹ç³»ç»Ÿæœ¬æ¬¡å¯åŠ¨çš„æ—¥å¿—</span>
$ <span class="token function">sudo</span> journalctl -b
$ <span class="token function">sudo</span> journalctl -b -0

<span class="token comment"># æŸ¥çœ‹ä¸Šä¸€æ¬¡å¯åŠ¨çš„æ—¥å¿—ï¼ˆéœ€æ›´æ”¹è®¾ç½®ï¼‰</span>
$ <span class="token function">sudo</span> journalctl -b -1

<span class="token comment"># æŸ¥çœ‹æŒ‡å®šæ—¶é—´çš„æ—¥å¿—</span>
$ <span class="token function">sudo</span> journalctl --since<span class="token operator">=</span><span class="token string">&quot;2012-10-30 18:17:16&quot;</span>
$ <span class="token function">sudo</span> journalctl --since <span class="token string">&quot;20 min ago&quot;</span>
$ <span class="token function">sudo</span> journalctl --since yesterday
$ <span class="token function">sudo</span> journalctl --since <span class="token string">&quot;2015-01-10&quot;</span> --until <span class="token string">&quot;2015-01-11 03:00&quot;</span>
$ <span class="token function">sudo</span> journalctl --since 09:00 --until <span class="token string">&quot;1 hour ago&quot;</span>

<span class="token comment"># æ˜¾ç¤ºå°¾éƒ¨çš„æœ€æ–°10è¡Œæ—¥å¿—</span>
$ <span class="token function">sudo</span> journalctl -n

<span class="token comment"># æ˜¾ç¤ºå°¾éƒ¨æŒ‡å®šè¡Œæ•°çš„æ—¥å¿—</span>
$ <span class="token function">sudo</span> journalctl -n <span class="token number">20</span>

<span class="token comment"># å®æ—¶æ»šåŠ¨æ˜¾ç¤ºæœ€æ–°æ—¥å¿—</span>
$ <span class="token function">sudo</span> journalctl -f

<span class="token comment"># æŸ¥çœ‹æŒ‡å®šæœåŠ¡çš„æ—¥å¿—</span>
$ <span class="token function">sudo</span> journalctl /usr/lib/systemd/systemd

<span class="token comment"># æŸ¥çœ‹æŒ‡å®šè¿›ç¨‹çš„æ—¥å¿—</span>
$ <span class="token function">sudo</span> journalctl <span class="token assign-left variable">_PID</span><span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># æŸ¥çœ‹æŸä¸ªè·¯å¾„çš„è„šæœ¬çš„æ—¥å¿—</span>
$ <span class="token function">sudo</span> journalctl /usr/bin/bash

<span class="token comment"># æŸ¥çœ‹æŒ‡å®šç”¨æˆ·çš„æ—¥å¿—</span>
$ <span class="token function">sudo</span> journalctl <span class="token assign-left variable">_UID</span><span class="token operator">=</span><span class="token number">33</span> --since today

<span class="token comment"># æŸ¥çœ‹æŸä¸ª Unit çš„æ—¥å¿—</span>
$ <span class="token function">sudo</span> journalctl -u nginx.service
$ <span class="token function">sudo</span> journalctl -u nginx.service --since today

<span class="token comment"># å®æ—¶æ»šåŠ¨æ˜¾ç¤ºæŸä¸ª Unit çš„æœ€æ–°æ—¥å¿—</span>
$ <span class="token function">sudo</span> journalctl -u nginx.service -f

<span class="token comment"># åˆå¹¶æ˜¾ç¤ºå¤šä¸ª Unit çš„æ—¥å¿—</span>
$ journalctl -u nginx.service -u php-fpm.service --since today

<span class="token comment"># æŸ¥çœ‹æŒ‡å®šä¼˜å…ˆçº§ï¼ˆåŠå…¶ä»¥ä¸Šçº§åˆ«ï¼‰çš„æ—¥å¿—ï¼Œå…±æœ‰8çº§</span>
<span class="token comment"># 0: emerg</span>
<span class="token comment"># 1: alert</span>
<span class="token comment"># 2: crit</span>
<span class="token comment"># 3: err</span>
<span class="token comment"># 4: warning</span>
<span class="token comment"># 5: notice</span>
<span class="token comment"># 6: info</span>
<span class="token comment"># 7: debug</span>
$ <span class="token function">sudo</span> journalctl -p err -b

<span class="token comment"># æ—¥å¿—é»˜è®¤åˆ†é¡µè¾“å‡ºï¼Œ--no-pager æ”¹ä¸ºæ­£å¸¸çš„æ ‡å‡†è¾“å‡º</span>
$ <span class="token function">sudo</span> journalctl --no-pager

<span class="token comment"># ä»¥ JSON æ ¼å¼ï¼ˆå•è¡Œï¼‰è¾“å‡º</span>
$ <span class="token function">sudo</span> journalctl -b -u nginx.service -o json

<span class="token comment"># ä»¥ JSON æ ¼å¼ï¼ˆå¤šè¡Œï¼‰è¾“å‡ºï¼Œå¯è¯»æ€§æ›´å¥½</span>
$ <span class="token function">sudo</span> journalctl -b -u nginx.serviceqq
 -o json-pretty

<span class="token comment"># æ˜¾ç¤ºæ—¥å¿—å æ®çš„ç¡¬ç›˜ç©ºé—´</span>
$ <span class="token function">sudo</span> journalctl --disk-usage

<span class="token comment"># æŒ‡å®šæ—¥å¿—æ–‡ä»¶å æ®çš„æœ€å¤§ç©ºé—´</span>
$ <span class="token function">sudo</span> journalctl --vacuum-size<span class="token operator">=</span>1G

<span class="token comment"># æŒ‡å®šæ—¥å¿—æ–‡ä»¶ä¿å­˜å¤šä¹…</span>
$ <span class="token function">sudo</span> journalctl --vacuum-time<span class="token operator">=</span>1years
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><br><h2 id="ä¸ƒ-systemdä½¿ç”¨åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#ä¸ƒ-systemdä½¿ç”¨åœºæ™¯" aria-hidden="true">#</a> ä¸ƒ Systemdä½¿ç”¨åœºæ™¯</h2><h3 id="_1-å¼€æœºè‡ªå¯åŠ¨" tabindex="-1"><a class="header-anchor" href="#_1-å¼€æœºè‡ªå¯åŠ¨" aria-hidden="true">#</a> 1. å¼€æœºè‡ªå¯åŠ¨</h3><p>å¯¹äºé‚£äº›æ”¯æŒ Systemd çš„è½¯ä»¶ï¼Œå®‰è£…çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨åœ¨<code>/usr/lib/systemd/system</code>ç›®å½•æ·»åŠ ä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚</p><p>å¦‚æœä½ æƒ³è®©è¯¥è½¯ä»¶å¼€æœºå¯åŠ¨ï¼Œå°±æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼ˆä»¥<code>httpd.service</code>ä¸ºä¾‹ï¼‰ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> httpd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></blockquote><p>ä¸Šé¢çš„å‘½ä»¤ç›¸å½“äºåœ¨<code>/etc/systemd/system</code> ç›®å½•æ·»åŠ ä¸€ä¸ªç¬¦å·é“¾æ¥ï¼ŒæŒ‡å‘<code>/usr/lib/systemd/system</code> é‡Œé¢çš„<code>httpd.service</code>æ–‡ä»¶ã€‚</p><p>è¿™æ˜¯å› ä¸ºå¼€æœºæ—¶ï¼Œ<code>Systemd</code>åªæ‰§è¡Œ<code>/etc/systemd/system</code>ç›®å½•é‡Œé¢çš„é…ç½®æ–‡ä»¶ã€‚</p><p>è¿™ä¹Ÿæ„å‘³ç€ï¼Œå¦‚æœæŠŠä¿®æ”¹åçš„é…ç½®æ–‡ä»¶æ”¾åœ¨è¯¥ç›®å½•ï¼Œå°±å¯ä»¥è¾¾åˆ°è¦†ç›–åŸå§‹é…ç½®çš„æ•ˆæœã€‚</p><br><h3 id="_2-å¯åŠ¨åœæ­¢æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#_2-å¯åŠ¨åœæ­¢æœåŠ¡" aria-hidden="true">#</a> 2. å¯åŠ¨åœæ­¢æœåŠ¡</h3><p>è®¾ç½®å¼€æœºå¯åŠ¨ä»¥åï¼Œè½¯ä»¶å¹¶ä¸ä¼šç«‹å³å¯åŠ¨ï¼Œå¿…é¡»ç­‰åˆ°ä¸‹ä¸€æ¬¡å¼€æœºã€‚</p><p>å¦‚æœæƒ³ç°åœ¨å°±è¿è¡Œè¯¥è½¯ä»¶ï¼Œé‚£ä¹ˆè¦æ‰§è¡Œ<code>systemctl start</code>å‘½ä»¤ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> systemctl start httpd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></blockquote><p>æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ä»¥åï¼Œæœ‰å¯èƒ½å¯åŠ¨å¤±è´¥ï¼Œå› æ­¤è¦ç”¨<code>systemctl status</code>å‘½ä»¤æŸ¥çœ‹ä¸€ä¸‹è¯¥æœåŠ¡çš„çŠ¶æ€ã€‚</p><br><p>ç»ˆæ­¢æ­£åœ¨è¿è¡Œçš„æœåŠ¡ï¼Œéœ€è¦æ‰§è¡Œ<code>systemctl stop</code>å‘½ä»¤ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> systemctl stop httpd.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></blockquote><p>æœ‰æ—¶å€™ï¼Œè¯¥å‘½ä»¤å¯èƒ½æ²¡æœ‰å“åº”ï¼ŒæœåŠ¡åœä¸ä¸‹æ¥ã€‚è¿™æ—¶å€™å°±ä¸å¾—ä¸&quot;æ€è¿›ç¨‹&quot;äº†ï¼Œå‘æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹å‘å‡º<code>kill</code>ä¿¡å·ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> systemctl <span class="token function">kill</span> httpd.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></blockquote><p>æ­¤å¤–ï¼Œé‡å¯æœåŠ¡è¦æ‰§è¡Œ<code>systemctl restart</code>å‘½ä»¤ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> systemctl restart httpd.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></blockquote><br><h3 id="_3-æœåŠ¡é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_3-æœåŠ¡é…ç½®æ–‡ä»¶" aria-hidden="true">#</a> 3. æœåŠ¡é…ç½®æ–‡ä»¶</h3><p>é…ç½®æ–‡ä»¶ä¸»è¦æ”¾åœ¨<code>/usr/lib/systemd/system</code>ç›®å½•ï¼Œä¹Ÿå¯èƒ½åœ¨<code>/etc/systemd/system</code>ç›®å½•ã€‚</p><p>æ‰¾åˆ°é…ç½®æ–‡ä»¶ä»¥åï¼Œä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å³å¯ã€‚</p><br><p><code>systemctl cat</code> å‘½ä»¤å¯ä»¥ç”¨æ¥æŸ¥çœ‹é…ç½®æ–‡ä»¶ï¼Œ</p><p>ä¸‹é¢ä»¥<code>sshd.service</code>æ–‡ä»¶ä¸ºä¾‹ï¼Œå®ƒçš„ä½œç”¨æ˜¯å¯åŠ¨ä¸€ä¸ª SSH æœåŠ¡å™¨ï¼Œä¾›å…¶ä»–ç”¨æˆ·ä»¥ SSH æ–¹å¼ç™»å½•</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
$ systemctl <span class="token function">cat</span> sshd.service

<span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
<span class="token assign-left variable">Description</span><span class="token operator">=</span>OpenSSH server daemon
<span class="token assign-left variable">Documentation</span><span class="token operator">=</span>man:sshd<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> man:sshd_config<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token assign-left variable">After</span><span class="token operator">=</span>network.target sshd-keygen.service
<span class="token assign-left variable">Wants</span><span class="token operator">=</span>sshd-keygen.service

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">EnvironmentFile</span><span class="token operator">=</span>/etc/sysconfig/sshd
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/sbin/sshd -D <span class="token variable">$OPTIONS</span>
<span class="token assign-left variable">ExecReload</span><span class="token operator">=</span>/bin/kill -HUP <span class="token variable">$MAINPID</span>
<span class="token assign-left variable">Type</span><span class="token operator">=</span>simple
<span class="token assign-left variable">KillMode</span><span class="token operator">=</span>process
<span class="token assign-left variable">Restart</span><span class="token operator">=</span>on-failure
<span class="token assign-left variable">RestartSec</span><span class="token operator">=</span>42s

<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
<span class="token assign-left variable">WantedBy</span><span class="token operator">=</span>multi-user.target

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»¥çœ‹åˆ°ï¼Œé…ç½®æ–‡ä»¶åˆ†æˆå‡ ä¸ªåŒºå—ï¼Œæ¯ä¸ªåŒºå—åŒ…å«è‹¥å¹²æ¡é”®å€¼å¯¹ã€‚ ä¸‹é¢ä¾æ¬¡è§£é‡Šæ¯ä¸ªåŒºå—çš„å†…å®¹ã€‚</p><br><h4 id="_1-unit-åŒºå—" tabindex="-1"><a class="header-anchor" href="#_1-unit-åŒºå—" aria-hidden="true">#</a> 1) [Unit] åŒºå—ï¼š</h4><p>å¯åŠ¨é¡ºåºä¸ä¾èµ–å…³ç³»</p><p><code>Unit</code>åŒºå—çš„<code>Description</code>å­—æ®µç»™å‡ºå½“å‰æœåŠ¡çš„ç®€å•æè¿°ï¼Œ<code>Documentation</code>å­—æ®µç»™å‡ºæ–‡æ¡£ä½ç½®ã€‚</p><p>æ¥ä¸‹æ¥çš„è®¾ç½®æ˜¯å¯åŠ¨é¡ºåºå’Œä¾èµ–å…³ç³»ï¼Œè¿™ä¸ªæ¯”è¾ƒé‡è¦ã€‚</p><blockquote><p><code>After</code>å­—æ®µï¼šè¡¨ç¤ºå¦‚æœ<code>network.target</code>æˆ–<code>sshd-keygen.service</code>éœ€è¦å¯åŠ¨ï¼Œé‚£ä¹ˆ<code>sshd.service</code>åº”è¯¥åœ¨å®ƒä»¬ä¹‹åå¯åŠ¨ã€‚</p></blockquote><p>ç›¸åº”åœ°ï¼Œè¿˜æœ‰ä¸€ä¸ª<code>Before</code>å­—æ®µï¼Œå®šä¹‰<code>sshd.service</code>åº”è¯¥åœ¨å“ªäº›æœåŠ¡ä¹‹å‰å¯åŠ¨ã€‚</p><p>æ³¨æ„ï¼Œ<code>After</code>å’Œ<code>Before</code>å­—æ®µåªæ¶‰åŠå¯åŠ¨é¡ºåºï¼Œä¸æ¶‰åŠä¾èµ–å…³ç³»ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼ŒæŸ Web åº”ç”¨éœ€è¦ postgresql æ•°æ®åº“å‚¨å­˜æ•°æ®ã€‚åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œå®ƒåªå®šä¹‰è¦åœ¨ postgresql ä¹‹åå¯åŠ¨ï¼Œè€Œæ²¡æœ‰å®šä¹‰ä¾èµ– postgresql ã€‚ä¸Šçº¿åï¼Œç”±äºæŸç§åŸå› ï¼Œpostgresql éœ€è¦é‡æ–°å¯åŠ¨ï¼Œåœ¨åœæ­¢æœåŠ¡æœŸé—´ï¼Œè¯¥ Web åº”ç”¨å°±ä¼šæ— æ³•å»ºç«‹æ•°æ®åº“è¿æ¥ã€‚</p><p>è®¾ç½®ä¾èµ–å…³ç³»ï¼Œéœ€è¦ä½¿ç”¨<code>Wants</code>å­—æ®µå’Œ<code>Requires</code>å­—æ®µã€‚</p><blockquote><p><code>Wants</code>å­—æ®µï¼šè¡¨ç¤º<code>sshd.service</code>ä¸<code>sshd-keygen.service</code>ä¹‹é—´å­˜åœ¨&quot;å¼±ä¾èµ–&quot;å…³ç³»ï¼Œå³å¦‚æœ&quot;sshd-keygen.service&quot;å¯åŠ¨å¤±è´¥æˆ–åœæ­¢è¿è¡Œï¼Œä¸å½±å“<code>sshd.service</code>ç»§ç»­æ‰§è¡Œã€‚</p></blockquote><p><code>Requires</code>å­—æ®µåˆ™è¡¨ç¤º&quot;å¼ºä¾èµ–&quot;å…³ç³»ï¼Œå³å¦‚æœè¯¥æœåŠ¡å¯åŠ¨å¤±è´¥æˆ–å¼‚å¸¸é€€å‡ºï¼Œé‚£ä¹ˆ<code>sshd.service</code>ä¹Ÿå¿…é¡»é€€å‡ºã€‚</p><p>æ³¨æ„ï¼Œ<code>Wants</code>å­—æ®µä¸<code>Requires</code>å­—æ®µåªæ¶‰åŠä¾èµ–å…³ç³»ï¼Œä¸å¯åŠ¨é¡ºåºæ— å…³ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯åŒæ—¶å¯åŠ¨çš„ã€‚</p><h4 id="_2-service-åŒºå—" tabindex="-1"><a class="header-anchor" href="#_2-service-åŒºå—" aria-hidden="true">#</a> 2) [Service] åŒºå—ï¼š</h4><p><code>Service</code>åŒºå—å®šä¹‰å¦‚ä½•å¯åŠ¨å½“å‰æœåŠ¡ã€‚</p><h4 id="å¯åŠ¨å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨å‘½ä»¤" aria-hidden="true">#</a> å¯åŠ¨å‘½ä»¤</h4><p>è®¸å¤šè½¯ä»¶éƒ½æœ‰è‡ªå·±çš„ç¯å¢ƒå‚æ•°æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å¯ä»¥ç”¨<code>EnvironmentFile</code>å­—æ®µè¯»å–ã€‚</p><blockquote><p><code>EnvironmentFile</code>å­—æ®µï¼šæŒ‡å®šå½“å‰æœåŠ¡çš„ç¯å¢ƒå‚æ•°æ–‡ä»¶ã€‚</p><p>è¯¥æ–‡ä»¶å†…éƒ¨çš„<code>key=value</code>é”®å€¼å¯¹ï¼Œå¯ä»¥ç”¨<code>$key</code>çš„å½¢å¼ï¼Œåœ¨å½“å‰é…ç½®æ–‡ä»¶ä¸­è·å–ã€‚</p></blockquote><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œsshd çš„ç¯å¢ƒå‚æ•°æ–‡ä»¶æ˜¯<code>/etc/sysconfig/sshd</code>ã€‚</p><br><p>é…ç½®æ–‡ä»¶é‡Œé¢æœ€é‡è¦çš„å­—æ®µæ˜¯<code>ExecStart</code>ã€‚</p><blockquote><p><code>ExecStart</code>å­—æ®µï¼šå®šä¹‰å¯åŠ¨è¿›ç¨‹æ—¶æ‰§è¡Œçš„å‘½ä»¤ã€‚</p></blockquote><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¯åŠ¨<code>sshd</code>ï¼Œæ‰§è¡Œçš„å‘½ä»¤æ˜¯<code>/usr/sbin/sshd -D $OPTIONS</code>ï¼Œ</p><p>å…¶ä¸­çš„å˜é‡<code>$OPTIONS</code>å°±æ¥è‡ª<code>EnvironmentFile</code>å­—æ®µæŒ‡å®šçš„ç¯å¢ƒå‚æ•°æ–‡ä»¶ã€‚</p><br><p>ä¸ä¹‹ä½œç”¨ç›¸ä¼¼çš„ï¼Œè¿˜æœ‰å¦‚ä¸‹è¿™äº›å­—æ®µã€‚</p><blockquote><ul><li><code>ExecReload</code>å­—æ®µï¼šé‡å¯æœåŠ¡æ—¶æ‰§è¡Œçš„å‘½ä»¤</li><li><code>ExecStop</code>å­—æ®µï¼šåœæ­¢æœåŠ¡æ—¶æ‰§è¡Œçš„å‘½ä»¤</li><li><code>ExecStartPre</code>å­—æ®µï¼šå¯åŠ¨æœåŠ¡ä¹‹å‰æ‰§è¡Œçš„å‘½ä»¤</li><li><code>ExecStartPost</code>å­—æ®µï¼šå¯åŠ¨æœåŠ¡ä¹‹åæ‰§è¡Œçš„å‘½ä»¤</li><li><code>ExecStopPost</code>å­—æ®µï¼šåœæ­¢æœåŠ¡ä¹‹åæ‰§è¡Œçš„å‘½ä»¤</li></ul></blockquote><br><p>è¯·çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/bin/echo execstart1
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/bin/echo execstart2
<span class="token assign-left variable">ExecStartPost</span><span class="token operator">=</span>/bin/echo post1
<span class="token assign-left variable">ExecStartPost</span><span class="token operator">=</span>/bin/echo post2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p>ä¸Šé¢è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œç¬¬äºŒè¡Œ<code>ExecStart</code>è®¾ä¸ºç©ºå€¼ï¼Œç­‰äºå–æ¶ˆäº†ç¬¬ä¸€è¡Œçš„è®¾ç½®ï¼Œè¿è¡Œç»“æœå¦‚ä¸‹ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>execstart2
post1
post2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p>æ‰€æœ‰çš„å¯åŠ¨è®¾ç½®ä¹‹å‰ï¼Œéƒ½å¯ä»¥åŠ ä¸Šä¸€ä¸ªè¿è¯å·ï¼ˆ<code>-</code>ï¼‰ï¼Œè¡¨ç¤º&quot;æŠ‘åˆ¶é”™è¯¯&quot;ï¼Œå³å‘ç”Ÿé”™è¯¯çš„æ—¶å€™ï¼Œä¸å½±å“å…¶ä»–å‘½ä»¤çš„æ‰§è¡Œã€‚</p><p>æ¯”å¦‚ï¼Œ<code>EnvironmentFile=-/etc/sysconfig/sshd</code>ï¼ˆæ³¨æ„ç­‰å·åé¢çš„é‚£ä¸ªè¿è¯å·ï¼‰ï¼Œ</p><p>å°±è¡¨ç¤ºå³ä½¿<code>/etc/sysconfig/sshd</code>æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¹Ÿä¸ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p><br><h5 id="å¯åŠ¨ç±»å‹" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨ç±»å‹" aria-hidden="true">#</a> å¯åŠ¨ç±»å‹</h5><p><code>Type</code>å­—æ®µå®šä¹‰å¯åŠ¨ç±»å‹ã€‚å®ƒå¯ä»¥è®¾ç½®çš„å€¼å¦‚ä¸‹ã€‚</p><blockquote><ul><li>simpleï¼ˆé»˜è®¤å€¼ï¼‰ï¼š<code>ExecStart</code>å­—æ®µå¯åŠ¨çš„è¿›ç¨‹ä¸ºä¸»è¿›ç¨‹</li><li>forkingï¼š<code>ExecStart</code>å­—æ®µå°†ä»¥<code>fork()</code>æ–¹å¼å¯åŠ¨ï¼Œæ­¤æ—¶çˆ¶è¿›ç¨‹å°†ä¼šé€€å‡ºï¼Œå­è¿›ç¨‹å°†æˆä¸ºä¸»è¿›ç¨‹</li><li>oneshotï¼šç±»ä¼¼äº<code>simple</code>ï¼Œä½†åªæ‰§è¡Œä¸€æ¬¡ï¼ŒSystemd ä¼šç­‰å®ƒæ‰§è¡Œå®Œï¼Œæ‰å¯åŠ¨å…¶ä»–æœåŠ¡</li><li>dbusï¼šç±»ä¼¼äº<code>simple</code>ï¼Œä½†ä¼šç­‰å¾… D-Bus ä¿¡å·åå¯åŠ¨</li><li>notifyï¼šç±»ä¼¼äº<code>simple</code>ï¼Œå¯åŠ¨ç»“æŸåä¼šå‘å‡ºé€šçŸ¥ä¿¡å·ï¼Œç„¶å Systemd å†å¯åŠ¨å…¶ä»–æœåŠ¡</li><li>idleï¼šç±»ä¼¼äº<code>simple</code>ï¼Œä½†æ˜¯è¦ç­‰åˆ°å…¶ä»–ä»»åŠ¡éƒ½æ‰§è¡Œå®Œï¼Œæ‰ä¼šå¯åŠ¨è¯¥æœåŠ¡ã€‚ä¸€ç§ä½¿ç”¨åœºåˆæ˜¯ä¸ºè®©è¯¥æœåŠ¡çš„è¾“å‡ºï¼Œä¸ä¸å…¶ä»–æœåŠ¡çš„è¾“å‡ºç›¸æ··åˆ</li></ul></blockquote><p>ä¸‹é¢æ˜¯ä¸€ä¸ª<code>oneshot</code>çš„ä¾‹å­ï¼Œç¬”è®°æœ¬ç”µè„‘å¯åŠ¨æ—¶ï¼Œè¦æŠŠè§¦æ‘¸æ¿å…³æ‰ï¼Œé…ç½®æ–‡ä»¶å¯ä»¥è¿™æ ·å†™ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
<span class="token assign-left variable">Description</span><span class="token operator">=</span>Switch-off Touchpad

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">Type</span><span class="token operator">=</span>oneshot
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/bin/touchpad-off

<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
<span class="token assign-left variable">WantedBy</span><span class="token operator">=</span>multi-user.target
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p>ä¸Šé¢çš„é…ç½®æ–‡ä»¶ï¼Œå¯åŠ¨ç±»å‹è®¾ä¸º<code>oneshot</code>ï¼Œå°±è¡¨æ˜è¿™ä¸ªæœåŠ¡åªè¦è¿è¡Œä¸€æ¬¡å°±å¤Ÿäº†ï¼Œä¸éœ€è¦é•¿æœŸè¿è¡Œã€‚</p><p>å¦‚æœå…³é—­ä»¥åï¼Œå°†æ¥æŸä¸ªæ—¶å€™è¿˜æƒ³æ‰“å¼€ï¼Œé…ç½®æ–‡ä»¶ä¿®æ”¹å¦‚ä¸‹ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
<span class="token assign-left variable">Description</span><span class="token operator">=</span>Switch-off Touchpad

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">Type</span><span class="token operator">=</span>oneshot
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/bin/touchpad-off start
<span class="token assign-left variable">ExecStop</span><span class="token operator">=</span>/usr/bin/touchpad-off stop
<span class="token assign-left variable">RemainAfterExit</span><span class="token operator">=</span>yes

<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
<span class="token assign-left variable">WantedBy</span><span class="token operator">=</span>multi-user.target
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p>ä¸Šé¢é…ç½®æ–‡ä»¶ä¸­ï¼Œ<code>RemainAfterExit</code>å­—æ®µè®¾ä¸º<code>yes</code>ï¼Œè¡¨ç¤ºè¿›ç¨‹é€€å‡ºä»¥åï¼ŒæœåŠ¡ä»ç„¶ä¿æŒæ‰§è¡Œã€‚è¿™æ ·çš„è¯ï¼Œä¸€æ—¦ä½¿ç”¨<code>systemctl stop</code>å‘½ä»¤åœæ­¢æœåŠ¡ï¼Œ<code>ExecStop</code>æŒ‡å®šçš„å‘½ä»¤å°±ä¼šæ‰§è¡Œï¼Œä»è€Œé‡æ–°å¼€å¯è§¦æ‘¸æ¿ã€‚</p><br><h5 id="é‡å¯è¡Œä¸º" tabindex="-1"><a class="header-anchor" href="#é‡å¯è¡Œä¸º" aria-hidden="true">#</a> é‡å¯è¡Œä¸º</h5><p><code>Service</code>åŒºå—æœ‰ä¸€äº›å­—æ®µï¼Œå®šä¹‰äº†é‡å¯è¡Œä¸ºã€‚</p><blockquote><p><code>KillMode</code>å­—æ®µï¼šå®šä¹‰ Systemd å¦‚ä½•åœæ­¢ sshd æœåŠ¡ã€‚</p></blockquote><p>ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œå°†<code>KillMode</code>è®¾ä¸º<code>process</code>ï¼Œè¡¨ç¤ºåªåœæ­¢ä¸»è¿›ç¨‹ï¼Œä¸åœæ­¢ä»»ä½•sshd å­è¿›ç¨‹ï¼Œ</p><p>å³å­è¿›ç¨‹æ‰“å¼€çš„ SSH session ä»ç„¶ä¿æŒè¿æ¥ã€‚</p><p>è¿™ä¸ªè®¾ç½®ä¸å¤ªå¸¸è§ï¼Œä½†å¯¹ sshd å¾ˆé‡è¦ï¼Œå¦åˆ™ä½ åœæ­¢æœåŠ¡çš„æ—¶å€™ï¼Œä¼šè¿è‡ªå·±æ‰“å¼€çš„ SSH session ä¸€èµ·æ€æ‰ã€‚</p><p><code>KillMode</code>å­—æ®µå¯ä»¥è®¾ç½®çš„å€¼å¦‚ä¸‹ã€‚</p><blockquote><ul><li>control-groupï¼ˆé»˜è®¤å€¼ï¼‰ï¼šå½“å‰æ§åˆ¶ç»„é‡Œé¢çš„æ‰€æœ‰å­è¿›ç¨‹ï¼Œéƒ½ä¼šè¢«æ€æ‰</li><li>processï¼šåªæ€ä¸»è¿›ç¨‹</li><li>mixedï¼šä¸»è¿›ç¨‹å°†æ”¶åˆ° SIGTERM ä¿¡å·ï¼Œå­è¿›ç¨‹æ”¶åˆ° SIGKILL ä¿¡å·</li><li>noneï¼šæ²¡æœ‰è¿›ç¨‹ä¼šè¢«æ€æ‰ï¼Œåªæ˜¯æ‰§è¡ŒæœåŠ¡çš„ stop å‘½ä»¤ã€‚</li></ul></blockquote><p>æ¥ä¸‹æ¥æ˜¯<code>Restart</code>å­—æ®µã€‚</p><blockquote><p><code>Restart</code>å­—æ®µï¼šå®šä¹‰äº† sshd é€€å‡ºåï¼ŒSystemd çš„é‡å¯æ–¹å¼ã€‚</p></blockquote><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>Restart</code>è®¾ä¸º<code>on-failure</code>ï¼Œè¡¨ç¤ºä»»ä½•æ„å¤–çš„å¤±è´¥ï¼Œå°±å°†é‡å¯sshdã€‚</p><p>å¦‚æœ sshd æ­£å¸¸åœæ­¢ï¼ˆæ¯”å¦‚æ‰§è¡Œ<code>systemctl stop</code>å‘½ä»¤ï¼‰ï¼Œå®ƒå°±ä¸ä¼šé‡å¯ã€‚</p><p><code>Restart</code>å­—æ®µå¯ä»¥è®¾ç½®çš„å€¼å¦‚ä¸‹ã€‚</p><blockquote><ul><li>noï¼ˆé»˜è®¤å€¼ï¼‰ï¼šé€€å‡ºåä¸ä¼šé‡å¯</li><li>on-successï¼šåªæœ‰æ­£å¸¸é€€å‡ºæ—¶ï¼ˆé€€å‡ºçŠ¶æ€ç ä¸º0ï¼‰ï¼Œæ‰ä¼šé‡å¯</li><li>on-failureï¼šéæ­£å¸¸é€€å‡ºæ—¶ï¼ˆé€€å‡ºçŠ¶æ€ç é0ï¼‰ï¼ŒåŒ…æ‹¬è¢«ä¿¡å·ç»ˆæ­¢å’Œè¶…æ—¶ï¼Œæ‰ä¼šé‡å¯</li><li>on-abnormalï¼šåªæœ‰è¢«ä¿¡å·ç»ˆæ­¢å’Œè¶…æ—¶ï¼Œæ‰ä¼šé‡å¯</li><li>on-abortï¼šåªæœ‰åœ¨æ”¶åˆ°æ²¡æœ‰æ•æ‰åˆ°çš„ä¿¡å·ç»ˆæ­¢æ—¶ï¼Œæ‰ä¼šé‡å¯</li><li>on-watchdogï¼šè¶…æ—¶é€€å‡ºï¼Œæ‰ä¼šé‡å¯</li><li>alwaysï¼šä¸ç®¡æ˜¯ä»€ä¹ˆé€€å‡ºåŸå› ï¼Œæ€»æ˜¯é‡å¯</li></ul></blockquote><p>å¯¹äºå®ˆæŠ¤è¿›ç¨‹ï¼Œæ¨èè®¾ä¸º<code>on-failure</code>ã€‚å¯¹äºé‚£äº›å…è®¸å‘ç”Ÿé”™è¯¯é€€å‡ºçš„æœåŠ¡ï¼Œå¯ä»¥è®¾ä¸º<code>on-abnormal</code>ã€‚</p><p>æœ€åæ˜¯<code>RestartSec</code>å­—æ®µã€‚</p><blockquote><p><code>RestartSec</code>å­—æ®µï¼šè¡¨ç¤º Systemd é‡å¯æœåŠ¡ä¹‹å‰ï¼Œéœ€è¦ç­‰å¾…çš„ç§’æ•°ã€‚ä¸Šé¢çš„ä¾‹å­è®¾ä¸ºç­‰å¾…42ç§’ã€‚</p></blockquote><br><h4 id="_3-install-åŒºå—" tabindex="-1"><a class="header-anchor" href="#_3-install-åŒºå—" aria-hidden="true">#</a> 3) [Install] åŒºå—</h4><p><code>Install</code>åŒºå—ï¼Œå®šä¹‰å¦‚ä½•å®‰è£…è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œå³æ€æ ·åšåˆ°å¼€æœºå¯åŠ¨ã€‚</p><blockquote><p><code>WantedBy</code>å­—æ®µï¼šè¡¨ç¤ºè¯¥æœåŠ¡æ‰€åœ¨çš„ Targetã€‚</p></blockquote><p><code>Target</code>çš„å«ä¹‰æ˜¯æœåŠ¡ç»„ï¼Œè¡¨ç¤ºä¸€ç»„æœåŠ¡ã€‚<code>WantedBy=multi-user.target</code>æŒ‡çš„æ˜¯ï¼Œsshd æ‰€åœ¨çš„ Target æ˜¯<code>multi-user.target</code>ã€‚</p><p>è¿™ä¸ªè®¾ç½®éå¸¸é‡è¦ï¼Œå› ä¸ºæ‰§è¡Œ<code>systemctl enable sshd.service</code>å‘½ä»¤æ—¶ï¼Œ<code>sshd.service</code>çš„ä¸€ä¸ªç¬¦å·é“¾æ¥ï¼Œå°±ä¼šæ”¾åœ¨<code>/etc/systemd/system</code>ç›®å½•ä¸‹é¢çš„<code>multi-user.target.wants</code>å­ç›®å½•ä¹‹ä¸­ã€‚</p><p>Systemd æœ‰é»˜è®¤çš„å¯åŠ¨ Targetã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ systemctl get-default
multi-user.target
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p>ä¸Šé¢çš„ç»“æœè¡¨ç¤ºï¼Œé»˜è®¤çš„å¯åŠ¨ Target æ˜¯<code>multi-user.target</code>ã€‚åœ¨è¿™ä¸ªç»„é‡Œçš„æ‰€æœ‰æœåŠ¡ï¼Œéƒ½å°†å¼€æœºå¯åŠ¨ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ<code>systemctl enable</code>å‘½ä»¤èƒ½è®¾ç½®å¼€æœºå¯åŠ¨çš„åŸå› ã€‚</p><p>ä½¿ç”¨ Target çš„æ—¶å€™ï¼Œ<code>systemctl list-dependencies</code>å‘½ä»¤å’Œ<code>systemctl isolate</code>å‘½ä»¤ä¹Ÿå¾ˆæœ‰ç”¨ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># æŸ¥çœ‹ multi-user.target åŒ…å«çš„æ‰€æœ‰æœåŠ¡</span>
$ systemctl list-dependencies multi-user.target

<span class="token comment"># åˆ‡æ¢åˆ°å¦ä¸€ä¸ª target</span>
<span class="token comment"># shutdown.target å°±æ˜¯å…³æœºçŠ¶æ€</span>
$ <span class="token function">sudo</span> systemctl isolate shutdown.target
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p>ä¸€èˆ¬æ¥è¯´ï¼Œå¸¸ç”¨çš„ Target æœ‰ä¸¤ä¸ªï¼šä¸€ä¸ªæ˜¯<code>multi-user.target</code>ï¼Œè¡¨ç¤ºå¤šç”¨æˆ·å‘½ä»¤è¡ŒçŠ¶æ€ï¼›å¦ä¸€ä¸ªæ˜¯<code>graphical.target</code>ï¼Œè¡¨ç¤ºå›¾å½¢ç”¨æˆ·çŠ¶æ€ï¼Œå®ƒä¾èµ–äº<code>multi-user.target</code>ã€‚å®˜æ–¹æ–‡æ¡£æœ‰ä¸€å¼ éå¸¸æ¸…æ™°çš„ [Target ä¾èµ–å…³ç³»å›¾](<a href="https://www.freedesktop.org/software/systemd/man/bootup.html#System" target="_blank" rel="noopener noreferrer">https://www.freedesktop.org/software/systemd/man/bootup.html#System<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> Manager Bootup)ã€‚</p><br><h3 id="_4-targeté…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_4-targeté…ç½®æ–‡ä»¶" aria-hidden="true">#</a> 4. Targeté…ç½®æ–‡ä»¶</h3><p>Target ä¹Ÿæœ‰è‡ªå·±çš„é…ç½®æ–‡ä»¶ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ systemctl <span class="token function">cat</span> multi-user.target

<span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
<span class="token assign-left variable">Description</span><span class="token operator">=</span>Multi-User System
<span class="token assign-left variable">Documentation</span><span class="token operator">=</span>man:systemd.special<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
<span class="token assign-left variable">Requires</span><span class="token operator">=</span>basic.target
<span class="token assign-left variable">Conflicts</span><span class="token operator">=</span>rescue.service rescue.target
<span class="token assign-left variable">After</span><span class="token operator">=</span>basic.target rescue.service rescue.target
<span class="token assign-left variable">AllowIsolate</span><span class="token operator">=</span>yes
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p>æ³¨æ„ï¼ŒTarget é…ç½®æ–‡ä»¶é‡Œé¢æ²¡æœ‰å¯åŠ¨å‘½ä»¤ã€‚</p><br><p>ä¸Šé¢è¾“å‡ºç»“æœä¸­ï¼Œä¸»è¦å­—æ®µå«ä¹‰å¦‚ä¸‹ã€‚</p><blockquote><p><code>Requires</code>å­—æ®µï¼šè¦æ±‚<code>basic.target</code>ä¸€èµ·è¿è¡Œã€‚</p><p><code>Conflicts</code>å­—æ®µï¼šå†²çªå­—æ®µã€‚å¦‚æœ<code>rescue.service</code>æˆ–<code>rescue.target</code>æ­£åœ¨è¿è¡Œï¼Œ<code>multi-user.target</code>å°±ä¸èƒ½è¿è¡Œï¼Œåä¹‹äº¦ç„¶ã€‚</p><p><code>After</code>ï¼šè¡¨ç¤º<code>multi-user.target</code>åœ¨<code>basic.target</code> ã€ <code>rescue.service</code>ã€ <code>rescue.target</code>ä¹‹åå¯åŠ¨ï¼Œå¦‚æœå®ƒä»¬æœ‰å¯åŠ¨çš„è¯ã€‚</p><p><code>AllowIsolate</code>ï¼šå…è®¸ä½¿ç”¨<code>systemctl isolate</code>å‘½ä»¤åˆ‡æ¢åˆ°<code>multi-user.target</code>ã€‚</p></blockquote><br><h3 id="_5-ä¿®æ”¹é…ç½®æ–‡ä»¶åé‡å¯" tabindex="-1"><a class="header-anchor" href="#_5-ä¿®æ”¹é…ç½®æ–‡ä»¶åé‡å¯" aria-hidden="true">#</a> 5. ä¿®æ”¹é…ç½®æ–‡ä»¶åé‡å¯</h3><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ä»¥åï¼Œéœ€è¦é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ï¼Œç„¶åé‡æ–°å¯åŠ¨ç›¸å…³æœåŠ¡ã€‚</p><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶</span>
$ <span class="token function">sudo</span> systemctl daemon-reload

<span class="token comment"># é‡å¯ç›¸å…³æœåŠ¡</span>
$ <span class="token function">sudo</span> systemctl restart foobar

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/develop-note/edit/main/demo/src/Tool/Linux/Linux.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><!----><!----></footer><nav class="page-nav"><a href="/blog/Tool/Linux/Linux-install.html" class="nav-link prev" aria-label="VMware/Linuxå®‰è£…"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->VMware/Linuxå®‰è£…</div></a><a href="/blog/Tool/Linux/shell.html" class="nav-link next" aria-label="Shellè„šæœ¬ç¼–ç¨‹"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">Shellè„šæœ¬ç¼–ç¨‹<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">Drizzle</div><div class="copyright">Copyright Â© 2022 csdrizzle</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/blog/assets/app.9c585e1a.js" defer></script>
  </body>
</html>
