<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.49" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://www.itdrizzle.cn/blog/Database/sql/sql.html"><meta property="og:site_name" content="Blog"><meta property="og:title" content="SQL基础语法及使用"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><title>SQL基础语法及使用 | Blog</title><meta name="description" content="DevelopNote and Blog">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/blog/assets/style.03678e8d.css">
    <link rel="modulepreload" href="/blog/assets/app.9c585e1a.js"><link rel="modulepreload" href="/blog/assets/sql.html.3fe27e65.js"><link rel="modulepreload" href="/blog/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/blog/assets/sql.html.ca64df3c.js"><link rel="prefetch" href="/blog/assets/home.html.d3795a1e.js"><link rel="prefetch" href="/blog/assets/index.html.2c142917.js"><link rel="prefetch" href="/blog/assets/home.html.e27b4130.js"><link rel="prefetch" href="/blog/assets/index.html.8704b022.js"><link rel="prefetch" href="/blog/assets/home.html.c878af3e.js"><link rel="prefetch" href="/blog/assets/index.html.6f5cb701.js"><link rel="prefetch" href="/blog/assets/home.html.8ee2f643.js"><link rel="prefetch" href="/blog/assets/index.html.7d22017f.js"><link rel="prefetch" href="/blog/assets/bigdecimal.html.41d79d0b.js"><link rel="prefetch" href="/blog/assets/corn.html.477aab87.js"><link rel="prefetch" href="/blog/assets/home.html.e717dff8.js"><link rel="prefetch" href="/blog/assets/home.html.c4af73cf.js"><link rel="prefetch" href="/blog/assets/index.html.9ac293f9.js"><link rel="prefetch" href="/blog/assets/home.html.5b6ca4c0.js"><link rel="prefetch" href="/blog/assets/index.html.cb9da6e1.js"><link rel="prefetch" href="/blog/assets/mybatis-generator.html.28df4ffa.js"><link rel="prefetch" href="/blog/assets/mybatis-plus.html.3fa0b517.js"><link rel="prefetch" href="/blog/assets/mybatis-resource.html.cf1d7abc.js"><link rel="prefetch" href="/blog/assets/mybatis.html.5e9dad89.js"><link rel="prefetch" href="/blog/assets/tk-mybatis.html.82ee5630.js"><link rel="prefetch" href="/blog/assets/innodb.html.f54e0c7f.js"><link rel="prefetch" href="/blog/assets/jdbc.html.b1c099cf.js"><link rel="prefetch" href="/blog/assets/mysql-index.html.ce424929.js"><link rel="prefetch" href="/blog/assets/mysql-optimization.html.0dc75b75.js"><link rel="prefetch" href="/blog/assets/mysql.html.0c8aff2c.js"><link rel="prefetch" href="/blog/assets/db2.html.92eaf205.js"><link rel="prefetch" href="/blog/assets/oracle.html.cb589e85.js"><link rel="prefetch" href="/blog/assets/redis-resource.html.11e7e002.js"><link rel="prefetch" href="/blog/assets/Redis.html.7f6721dc.js"><link rel="prefetch" href="/blog/assets/index.html.d42f6808.js"><link rel="prefetch" href="/blog/assets/gc.html.57697c19.js"><link rel="prefetch" href="/blog/assets/Jvm内存管理.html.8c6815b8.js"><link rel="prefetch" href="/blog/assets/Jvm类加载.html.70a9dcdf.js"><link rel="prefetch" href="/blog/assets/Specification.html.5149959a.js"><link rel="prefetch" href="/blog/assets/index.html.55dec906.js"><link rel="prefetch" href="/blog/assets/加密与解密.html.1d8db957.js"><link rel="prefetch" href="/blog/assets/correlation.html.5a8dc267.js"><link rel="prefetch" href="/blog/assets/tablespace.html.b2ca5efe.js"><link rel="prefetch" href="/blog/assets/disable.html.df7fe42f.js"><link rel="prefetch" href="/blog/assets/encrypt.html.dfe29285.js"><link rel="prefetch" href="/blog/assets/markdown.html.bd0a35bc.js"><link rel="prefetch" href="/blog/assets/index.html.5346c78d.js"><link rel="prefetch" href="/blog/assets/slide.html.fcf03648.js"><link rel="prefetch" href="/blog/assets/git-revert.html.8495f575.js"><link rel="prefetch" href="/blog/assets/get-post.html.0a6ca016.js"><link rel="prefetch" href="/blog/assets/styled-components.html.0d4d2c18.js"><link rel="prefetch" href="/blog/assets/Docker.html.b04ca486.js"><link rel="prefetch" href="/blog/assets/kubernetes.html.3ac6fbd7.js"><link rel="prefetch" href="/blog/assets/Linux-install.html.e25f57da.js"><link rel="prefetch" href="/blog/assets/Linux.html.1ecea965.js"><link rel="prefetch" href="/blog/assets/shell.html.6dfc6824.js"><link rel="prefetch" href="/blog/assets/vim.html.342a8ea2.js"><link rel="prefetch" href="/blog/assets/Gradle.html.8fd63484.js"><link rel="prefetch" href="/blog/assets/maven.html.efa698b6.js"><link rel="prefetch" href="/blog/assets/idea.html.f12c1077.js"><link rel="prefetch" href="/blog/assets/windows.html.f53e2894.js"><link rel="prefetch" href="/blog/assets/git.html.db1356ab.js"><link rel="prefetch" href="/blog/assets/ajax.html.50903e14.js"><link rel="prefetch" href="/blog/assets/CSS.html.fc2e3a3b.js"><link rel="prefetch" href="/blog/assets/ES6.html.eb7905cf.js"><link rel="prefetch" href="/blog/assets/HTML.html.09a9f344.js"><link rel="prefetch" href="/blog/assets/JavaScript.html.2bfd9836.js"><link rel="prefetch" href="/blog/assets/json.html.5420e894.js"><link rel="prefetch" href="/blog/assets/WebAPI.html.d9c5927d.js"><link rel="prefetch" href="/blog/assets/nodejs.html.d75a8c4d.js"><link rel="prefetch" href="/blog/assets/jQuery.html.48fefbc1.js"><link rel="prefetch" href="/blog/assets/uniapp.html.7314f725.js"><link rel="prefetch" href="/blog/assets/collection.html.6adacdda.js"><link rel="prefetch" href="/blog/assets/generics.html.eacc8603.js"><link rel="prefetch" href="/blog/assets/HashMap源码分析.html.70f3c007.js"><link rel="prefetch" href="/blog/assets/set和map.html.e40d87b7.js"><link rel="prefetch" href="/blog/assets/Jar包的导入.html.42e18cc4.js"><link rel="prefetch" href="/blog/assets/Java.html.6effb09b.js"><link rel="prefetch" href="/blog/assets/Java历史及简介.html.717d3cb8.js"><link rel="prefetch" href="/blog/assets/Java常用类库.html.b359beb0.js"><link rel="prefetch" href="/blog/assets/Java面向对象.html.8ba23325.js"><link rel="prefetch" href="/blog/assets/原码反码和补码.html.0bb15e36.js"><link rel="prefetch" href="/blog/assets/数组和字符串.html.8dba9f48.js"><link rel="prefetch" href="/blog/assets/Lambda.html.3d1df8c9.js"><link rel="prefetch" href="/blog/assets/Stream.html.1fb1bdc8.js"><link rel="prefetch" href="/blog/assets/Annotation.html.1b439d5e.js"><link rel="prefetch" href="/blog/assets/Enum.html.bbb4d530.js"><link rel="prefetch" href="/blog/assets/Reflection.html.81b8417f.js"><link rel="prefetch" href="/blog/assets/zookeeper.html.c221500b.js"><link rel="prefetch" href="/blog/assets/component.html.8f4cedcc.js"><link rel="prefetch" href="/blog/assets/css.html.05e85d0c.js"><link rel="prefetch" href="/blog/assets/jsx.html.153adead.js"><link rel="prefetch" href="/blog/assets/component.html.8f5d0cb0.js"><link rel="prefetch" href="/blog/assets/hooks.html.fd0d0287.js"><link rel="prefetch" href="/blog/assets/jsx.html.b97fa724.js"><link rel="prefetch" href="/blog/assets/react.html.25b5c601.js"><link rel="prefetch" href="/blog/assets/vue.html.c28d03a5.js"><link rel="prefetch" href="/blog/assets/404.html.0b36b055.js"><link rel="prefetch" href="/blog/assets/index.html.bab2af12.js"><link rel="prefetch" href="/blog/assets/index.html.e41e87d3.js"><link rel="prefetch" href="/blog/assets/index.html.7787152c.js"><link rel="prefetch" href="/blog/assets/index.html.cef3111a.js"><link rel="prefetch" href="/blog/assets/index.html.c90b33f8.js"><link rel="prefetch" href="/blog/assets/index.html.9b9d8436.js"><link rel="prefetch" href="/blog/assets/index.html.f8e39c2d.js"><link rel="prefetch" href="/blog/assets/index.html.0137c8ad.js"><link rel="prefetch" href="/blog/assets/index.html.444ee9dd.js"><link rel="prefetch" href="/blog/assets/index.html.8080f2a6.js"><link rel="prefetch" href="/blog/assets/index.html.b9a9b4e5.js"><link rel="prefetch" href="/blog/assets/index.html.1649ae6e.js"><link rel="prefetch" href="/blog/assets/index.html.943f41fc.js"><link rel="prefetch" href="/blog/assets/index.html.a9e7b934.js"><link rel="prefetch" href="/blog/assets/index.html.0a3a7cd7.js"><link rel="prefetch" href="/blog/assets/index.html.5d331ca5.js"><link rel="prefetch" href="/blog/assets/index.html.6eb84cb8.js"><link rel="prefetch" href="/blog/assets/index.html.dbbba9a7.js"><link rel="prefetch" href="/blog/assets/index.html.267b9d3d.js"><link rel="prefetch" href="/blog/assets/index.html.b2c9c053.js"><link rel="prefetch" href="/blog/assets/index.html.df38ef9c.js"><link rel="prefetch" href="/blog/assets/index.html.0d0ae91d.js"><link rel="prefetch" href="/blog/assets/index.html.6bfe052a.js"><link rel="prefetch" href="/blog/assets/index.html.80f037bb.js"><link rel="prefetch" href="/blog/assets/index.html.81cf91ac.js"><link rel="prefetch" href="/blog/assets/index.html.93d4b516.js"><link rel="prefetch" href="/blog/assets/index.html.b4f94eaf.js"><link rel="prefetch" href="/blog/assets/index.html.841e5f93.js"><link rel="prefetch" href="/blog/assets/index.html.9f380a09.js"><link rel="prefetch" href="/blog/assets/index.html.c2a7f202.js"><link rel="prefetch" href="/blog/assets/index.html.564cd1b7.js"><link rel="prefetch" href="/blog/assets/index.html.9b9f22e6.js"><link rel="prefetch" href="/blog/assets/index.html.d2850d4e.js"><link rel="prefetch" href="/blog/assets/index.html.1903a545.js"><link rel="prefetch" href="/blog/assets/index.html.befee4ae.js"><link rel="prefetch" href="/blog/assets/index.html.ce765bc1.js"><link rel="prefetch" href="/blog/assets/index.html.48580fa0.js"><link rel="prefetch" href="/blog/assets/index.html.1620d430.js"><link rel="prefetch" href="/blog/assets/index.html.c4ee5037.js"><link rel="prefetch" href="/blog/assets/index.html.cd271d97.js"><link rel="prefetch" href="/blog/assets/index.html.ccafc9ea.js"><link rel="prefetch" href="/blog/assets/index.html.f0457a32.js"><link rel="prefetch" href="/blog/assets/index.html.35f8adc7.js"><link rel="prefetch" href="/blog/assets/index.html.a782936d.js"><link rel="prefetch" href="/blog/assets/index.html.d80f7b9d.js"><link rel="prefetch" href="/blog/assets/index.html.65b8053b.js"><link rel="prefetch" href="/blog/assets/home.html.270a18d3.js"><link rel="prefetch" href="/blog/assets/index.html.f176e7c4.js"><link rel="prefetch" href="/blog/assets/home.html.ca1118b5.js"><link rel="prefetch" href="/blog/assets/index.html.57da1e8b.js"><link rel="prefetch" href="/blog/assets/home.html.e3ee7150.js"><link rel="prefetch" href="/blog/assets/index.html.020d0c4b.js"><link rel="prefetch" href="/blog/assets/home.html.67363dc3.js"><link rel="prefetch" href="/blog/assets/index.html.601a87f6.js"><link rel="prefetch" href="/blog/assets/bigdecimal.html.51c5441e.js"><link rel="prefetch" href="/blog/assets/corn.html.35ecabab.js"><link rel="prefetch" href="/blog/assets/home.html.0134dce3.js"><link rel="prefetch" href="/blog/assets/home.html.041d58fe.js"><link rel="prefetch" href="/blog/assets/index.html.fc1684a0.js"><link rel="prefetch" href="/blog/assets/home.html.33c85836.js"><link rel="prefetch" href="/blog/assets/index.html.93f7f1ef.js"><link rel="prefetch" href="/blog/assets/mybatis-generator.html.afbfadc7.js"><link rel="prefetch" href="/blog/assets/mybatis-plus.html.9d4ee7b1.js"><link rel="prefetch" href="/blog/assets/mybatis-resource.html.8ae2a69b.js"><link rel="prefetch" href="/blog/assets/mybatis.html.8aa6877a.js"><link rel="prefetch" href="/blog/assets/tk-mybatis.html.f62cf324.js"><link rel="prefetch" href="/blog/assets/innodb.html.93614b99.js"><link rel="prefetch" href="/blog/assets/jdbc.html.ca2e4f71.js"><link rel="prefetch" href="/blog/assets/mysql-index.html.d84acf73.js"><link rel="prefetch" href="/blog/assets/mysql-optimization.html.d855c37b.js"><link rel="prefetch" href="/blog/assets/mysql.html.6b717645.js"><link rel="prefetch" href="/blog/assets/db2.html.29f6d7f0.js"><link rel="prefetch" href="/blog/assets/oracle.html.a9b84acd.js"><link rel="prefetch" href="/blog/assets/redis-resource.html.a405c6fd.js"><link rel="prefetch" href="/blog/assets/Redis.html.0c0dc350.js"><link rel="prefetch" href="/blog/assets/index.html.d0df0caf.js"><link rel="prefetch" href="/blog/assets/gc.html.90732089.js"><link rel="prefetch" href="/blog/assets/Jvm内存管理.html.7c37129b.js"><link rel="prefetch" href="/blog/assets/Jvm类加载.html.52b8d1b2.js"><link rel="prefetch" href="/blog/assets/Specification.html.88466d91.js"><link rel="prefetch" href="/blog/assets/index.html.28efcbe4.js"><link rel="prefetch" href="/blog/assets/加密与解密.html.7d657aee.js"><link rel="prefetch" href="/blog/assets/correlation.html.4b3f7177.js"><link rel="prefetch" href="/blog/assets/tablespace.html.ee2c4d1a.js"><link rel="prefetch" href="/blog/assets/disable.html.8bfd6fc6.js"><link rel="prefetch" href="/blog/assets/encrypt.html.8100f68b.js"><link rel="prefetch" href="/blog/assets/markdown.html.7ff337b7.js"><link rel="prefetch" href="/blog/assets/index.html.bf398e8b.js"><link rel="prefetch" href="/blog/assets/slide.html.ecdda92d.js"><link rel="prefetch" href="/blog/assets/git-revert.html.0676865c.js"><link rel="prefetch" href="/blog/assets/get-post.html.b7d97ba3.js"><link rel="prefetch" href="/blog/assets/styled-components.html.ad12108e.js"><link rel="prefetch" href="/blog/assets/Docker.html.1bfafc85.js"><link rel="prefetch" href="/blog/assets/kubernetes.html.c0178fbe.js"><link rel="prefetch" href="/blog/assets/Linux-install.html.9951c50f.js"><link rel="prefetch" href="/blog/assets/Linux.html.41954f6a.js"><link rel="prefetch" href="/blog/assets/shell.html.dce5720e.js"><link rel="prefetch" href="/blog/assets/vim.html.eeeb0992.js"><link rel="prefetch" href="/blog/assets/Gradle.html.4aaf5661.js"><link rel="prefetch" href="/blog/assets/maven.html.79e91faf.js"><link rel="prefetch" href="/blog/assets/idea.html.0c1074eb.js"><link rel="prefetch" href="/blog/assets/windows.html.389b8d7a.js"><link rel="prefetch" href="/blog/assets/git.html.0711a984.js"><link rel="prefetch" href="/blog/assets/ajax.html.517686ee.js"><link rel="prefetch" href="/blog/assets/CSS.html.02fca465.js"><link rel="prefetch" href="/blog/assets/ES6.html.6faf280e.js"><link rel="prefetch" href="/blog/assets/HTML.html.f52dc59e.js"><link rel="prefetch" href="/blog/assets/JavaScript.html.dec12169.js"><link rel="prefetch" href="/blog/assets/json.html.80b0710a.js"><link rel="prefetch" href="/blog/assets/WebAPI.html.de4201cf.js"><link rel="prefetch" href="/blog/assets/nodejs.html.8915c74a.js"><link rel="prefetch" href="/blog/assets/jQuery.html.4fe98037.js"><link rel="prefetch" href="/blog/assets/uniapp.html.41a82ccb.js"><link rel="prefetch" href="/blog/assets/collection.html.6fc1fa80.js"><link rel="prefetch" href="/blog/assets/generics.html.343c831e.js"><link rel="prefetch" href="/blog/assets/HashMap源码分析.html.62c1907a.js"><link rel="prefetch" href="/blog/assets/set和map.html.1f11a4b3.js"><link rel="prefetch" href="/blog/assets/Jar包的导入.html.356fc6cb.js"><link rel="prefetch" href="/blog/assets/Java.html.4de9bfeb.js"><link rel="prefetch" href="/blog/assets/Java历史及简介.html.002632c2.js"><link rel="prefetch" href="/blog/assets/Java常用类库.html.e5b4ce23.js"><link rel="prefetch" href="/blog/assets/Java面向对象.html.96054b89.js"><link rel="prefetch" href="/blog/assets/原码反码和补码.html.d603aed4.js"><link rel="prefetch" href="/blog/assets/数组和字符串.html.53ade01f.js"><link rel="prefetch" href="/blog/assets/Lambda.html.04f59ebb.js"><link rel="prefetch" href="/blog/assets/Stream.html.c391d815.js"><link rel="prefetch" href="/blog/assets/Annotation.html.6e821d9e.js"><link rel="prefetch" href="/blog/assets/Enum.html.0cb7beb1.js"><link rel="prefetch" href="/blog/assets/Reflection.html.cc6f50d7.js"><link rel="prefetch" href="/blog/assets/zookeeper.html.7c085d9a.js"><link rel="prefetch" href="/blog/assets/component.html.e12e4944.js"><link rel="prefetch" href="/blog/assets/css.html.9389d304.js"><link rel="prefetch" href="/blog/assets/jsx.html.dfa9d559.js"><link rel="prefetch" href="/blog/assets/component.html.5f0b157b.js"><link rel="prefetch" href="/blog/assets/hooks.html.4564fa85.js"><link rel="prefetch" href="/blog/assets/jsx.html.6f32835b.js"><link rel="prefetch" href="/blog/assets/react.html.43e3825e.js"><link rel="prefetch" href="/blog/assets/vue.html.94fd0a9a.js"><link rel="prefetch" href="/blog/assets/404.html.a0dc91c0.js"><link rel="prefetch" href="/blog/assets/index.html.69bf08a0.js"><link rel="prefetch" href="/blog/assets/index.html.3373c83b.js"><link rel="prefetch" href="/blog/assets/index.html.c6ccd9bb.js"><link rel="prefetch" href="/blog/assets/index.html.e6fbc367.js"><link rel="prefetch" href="/blog/assets/index.html.23b10552.js"><link rel="prefetch" href="/blog/assets/index.html.03ebe1ea.js"><link rel="prefetch" href="/blog/assets/index.html.dba90a0e.js"><link rel="prefetch" href="/blog/assets/index.html.3ccc7f14.js"><link rel="prefetch" href="/blog/assets/index.html.cd27d517.js"><link rel="prefetch" href="/blog/assets/index.html.bde26f2d.js"><link rel="prefetch" href="/blog/assets/index.html.fd5fd808.js"><link rel="prefetch" href="/blog/assets/index.html.a9425e51.js"><link rel="prefetch" href="/blog/assets/index.html.b1faefa4.js"><link rel="prefetch" href="/blog/assets/index.html.1635016e.js"><link rel="prefetch" href="/blog/assets/index.html.4ac84133.js"><link rel="prefetch" href="/blog/assets/index.html.20b53b7e.js"><link rel="prefetch" href="/blog/assets/index.html.093c19c4.js"><link rel="prefetch" href="/blog/assets/index.html.fd048558.js"><link rel="prefetch" href="/blog/assets/index.html.93f5f5b4.js"><link rel="prefetch" href="/blog/assets/index.html.1e24ea71.js"><link rel="prefetch" href="/blog/assets/index.html.38f7f742.js"><link rel="prefetch" href="/blog/assets/index.html.205cba3d.js"><link rel="prefetch" href="/blog/assets/index.html.7da29874.js"><link rel="prefetch" href="/blog/assets/index.html.b1bdd551.js"><link rel="prefetch" href="/blog/assets/index.html.a07d850d.js"><link rel="prefetch" href="/blog/assets/index.html.91c9814f.js"><link rel="prefetch" href="/blog/assets/index.html.26850f54.js"><link rel="prefetch" href="/blog/assets/index.html.6b407dba.js"><link rel="prefetch" href="/blog/assets/index.html.45cf3034.js"><link rel="prefetch" href="/blog/assets/index.html.e2395a8e.js"><link rel="prefetch" href="/blog/assets/index.html.a5071134.js"><link rel="prefetch" href="/blog/assets/index.html.35deda79.js"><link rel="prefetch" href="/blog/assets/index.html.42996d22.js"><link rel="prefetch" href="/blog/assets/index.html.7b9b88c6.js"><link rel="prefetch" href="/blog/assets/index.html.fe13ff4c.js"><link rel="prefetch" href="/blog/assets/index.html.289310f5.js"><link rel="prefetch" href="/blog/assets/index.html.2b5641fc.js"><link rel="prefetch" href="/blog/assets/index.html.73262cff.js"><link rel="prefetch" href="/blog/assets/index.html.b9affbda.js"><link rel="prefetch" href="/blog/assets/index.html.793f6968.js"><link rel="prefetch" href="/blog/assets/index.html.bde196b5.js"><link rel="prefetch" href="/blog/assets/index.html.6a57e3e1.js"><link rel="prefetch" href="/blog/assets/index.html.ffef6a7a.js"><link rel="prefetch" href="/blog/assets/index.html.783a0f10.js"><link rel="prefetch" href="/blog/assets/index.html.9fa127dc.js"><link rel="prefetch" href="/blog/assets/index.html.760d1dae.js"><link rel="prefetch" href="/blog/assets/404.d5ddda4f.js"><link rel="prefetch" href="/blog/assets/Layout.7c61ce17.js"><link rel="prefetch" href="/blog/assets/Slide.92c26b2b.js"><link rel="prefetch" href="/blog/assets/Blog.5e2160fa.js"><link rel="prefetch" href="/blog/assets/auto.264f6c8c.js"><link rel="prefetch" href="/blog/assets/index.d8a59108.js"><link rel="prefetch" href="/blog/assets/index.1842ee54.js"><link rel="prefetch" href="/blog/assets/mermaid.esm.min.fac286bf.js"><link rel="prefetch" href="/blog/assets/highlight.esm.d982e650.js"><link rel="prefetch" href="/blog/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/blog/assets/math.esm.a3f84b6f.js"><link rel="prefetch" href="/blog/assets/notes.esm.3c361cb7.js"><link rel="prefetch" href="/blog/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/blog/assets/search.esm.80da4a02.js"><link rel="prefetch" href="/blog/assets/zoom.esm.8514a202.js"><link rel="prefetch" href="/blog/assets/Playground.9cdfe0a8.js"><link rel="prefetch" href="/blog/assets/photoswipe.esm.218074cd.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/blog/" class="brand"><img class="logo" src="/blog/img/snowman.png" alt="Blog"><!----><span class="site-name hide-in-pad">Blog</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/blog/home.html" class="nav-link" aria-label="Home"><span class="icon iconfont icon-home"></span>Home<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/Java/home.html" class="nav-link" aria-label="JavaDev"><span class="icon iconfont icon-java"></span>JavaDev<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/Database/home.html" class="nav-link" aria-label="Database"><span class="icon iconfont icon-db"></span>Database<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/MicroService/home.html" class="nav-link" aria-label="MicroService"><span class="icon iconfont icon-microservice"></span>MicroService<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/Tool/home.html" class="nav-link" aria-label="Devops"><span class="icon iconfont icon-tools"></span>Devops<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/Web/home.html" class="nav-link" aria-label="Web"><span class="icon iconfont icon-net"></span>Web<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Other"><span class="title"><span class="icon iconfont icon-other"></span>Other</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/blog/Theory/home.html" class="nav-link" aria-label="Theory"><span class="icon iconfont icon-theory"></span>Theory<!----></a></li><li class="dropdown-item"><a href="/blog/C++/home.md" class="nav-link" aria-label="C/C++"><span class="icon iconfont icon-cpp"></span>C/C++<!----></a></li><li class="dropdown-item"><a href="/blog/Golang/home.md" class="nav-link" aria-label="Golang"><span class="icon iconfont icon-golang"></span>Golang<!----></a></li><li class="dropdown-item"><a href="/blog/BigData/home.md" class="nav-link" aria-label="BigData"><span class="icon iconfont icon-bigdata"></span>BigData<!----></a></li><li class="dropdown-item"><a href="/blog/Python/home.md" class="nav-link" aria-label="Python"><span class="icon iconfont icon-python"></span>Python<!----></a></li><li class="dropdown-item"><a href="/blog/Interview/home.md" class="nav-link" aria-label="Interview"><span class="icon iconfont icon-interview"></span>Interview<!----></a></li></ul></button></div></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/develop-note" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading active"><span class="icon iconfont icon-sql"></span><span class="title">SQL语言</span><!----></p><ul class="sidebar-links"><li><!--[--><a aria-current="page" href="/blog/Database/sql/sql.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="SQL基础语法及使用"><!---->SQL基础语法及使用<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#一-sql语言基础" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="一 SQL语言基础"><!---->一 SQL语言基础<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#_1-dcl数据控制语言" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. DCL数据控制语言"><!---->1. DCL数据控制语言<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#_2-ddl-库的操作" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. DDL-库的操作"><!---->2. DDL-库的操作<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#_3-ddl-表的操作" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. DDL-表的操作"><!---->3. DDL-表的操作<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#_4-dml-增删改" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. DML-增删改"><!---->4. DML-增删改<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#二-dql单表数据查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="二 DQL单表数据查询"><!---->二 DQL单表数据查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#_1-简单和条件查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. 简单和条件查询"><!---->1. 简单和条件查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#_2-排序和模糊查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. 排序和模糊查询"><!---->2. 排序和模糊查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#_3-去重和起别名" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. 去重和起别名"><!---->3. 去重和起别名<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#_4-常用聚合函数" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. 常用聚合函数"><!---->4. 常用聚合函数<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#_5-分组和分页查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5. 分组和分页查询"><!---->5. 分组和分页查询<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#三-dql多表连接查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="三 DQL多表连接查询"><!---->三 DQL多表连接查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#_0-联合查询union" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="0. 联合查询union"><!---->0. 联合查询union<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#_1-叉联结cross-join" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. 叉联结cross-join"><!---->1. 叉联结cross-join<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#_2-内连接inner-join" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. 内连接inner-join"><!---->2. 内连接inner-join<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#_3-外连接outer-join" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. 外连接outer-join"><!---->3. 外连接outer-join<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#_4-自然连接natural-join" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. 自然连接natural-join"><!---->4. 自然连接natural-join<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#_5-子查询-嵌套查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5. 子查询（嵌套查询）"><!---->5. 子查询（嵌套查询）<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#四-sql数据类型及运算" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="四 SQL数据类型及运算"><!---->四 SQL数据类型及运算<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#_1-sql运算符" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. SQL运算符"><!---->1. SQL运算符<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#_2-常用数据类型" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. 常用数据类型"><!---->2. 常用数据类型<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/Database/sql/sql.html#_3-sql执行顺序" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. SQL执行顺序"><!---->3. SQL执行顺序<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li></ul></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->SQL基础语法及使用</h1><div class="page-info"><span class="author-info" aria-label="作者🖊" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://www.github.com/itdrizzle" target="_blank" rel="noopener noreferrer">csdrizzle</a></span><span property="author" content="csdrizzle"></span></span><!----><!----><!----><!----><span class="reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 21 分钟</span><meta property="timeRequired" content="PT21M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#一-sql语言基础" class="router-link-active router-link-exact-active toc-link level2">一 SQL语言基础</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#_1-dcl数据控制语言" class="router-link-active router-link-exact-active toc-link level3">1. DCL数据控制语言</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#_2-ddl-库的操作" class="router-link-active router-link-exact-active toc-link level3">2. DDL-库的操作</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#_3-ddl-表的操作" class="router-link-active router-link-exact-active toc-link level3">3. DDL-表的操作</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#_4-dml-增删改" class="router-link-active router-link-exact-active toc-link level3">4. DML-增删改</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#二-dql单表数据查询" class="router-link-active router-link-exact-active toc-link level2">二 DQL单表数据查询</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#_1-简单和条件查询" class="router-link-active router-link-exact-active toc-link level3">1. 简单和条件查询</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#_2-排序和模糊查询" class="router-link-active router-link-exact-active toc-link level3">2. 排序和模糊查询</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#_3-去重和起别名" class="router-link-active router-link-exact-active toc-link level3">3. 去重和起别名</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#_4-常用聚合函数" class="router-link-active router-link-exact-active toc-link level3">4. 常用聚合函数</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#_5-分组和分页查询" class="router-link-active router-link-exact-active toc-link level3">5. 分组和分页查询</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#三-dql多表连接查询" class="router-link-active router-link-exact-active toc-link level2">三 DQL多表连接查询</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#_0-联合查询union" class="router-link-active router-link-exact-active toc-link level3">0. 联合查询union</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#_1-叉联结cross-join" class="router-link-active router-link-exact-active toc-link level3">1. 叉联结cross-join</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#_2-内连接inner-join" class="router-link-active router-link-exact-active toc-link level3">2. 内连接inner-join</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#_3-外连接outer-join" class="router-link-active router-link-exact-active toc-link level3">3. 外连接outer-join</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#_4-自然连接natural-join" class="router-link-active router-link-exact-active toc-link level3">4. 自然连接natural-join</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#_5-子查询-嵌套查询" class="router-link-active router-link-exact-active toc-link level3">5. 子查询（嵌套查询）</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#四-sql数据类型及运算" class="router-link-active router-link-exact-active toc-link level2">四 SQL数据类型及运算</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#_1-sql运算符" class="router-link-active router-link-exact-active toc-link level3">1. SQL运算符</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#_2-常用数据类型" class="router-link-active router-link-exact-active toc-link level3">2. 常用数据类型</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/Database/sql/sql.html#_3-sql执行顺序" class="router-link-active router-link-exact-active toc-link level3">3. SQL执行顺序</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="sql基础语法及使用" tabindex="-1"><a class="header-anchor" href="#sql基础语法及使用" aria-hidden="true">#</a> SQL基础语法及使用</h1><h2 id="一-sql语言基础" tabindex="-1"><a class="header-anchor" href="#一-sql语言基础" aria-hidden="true">#</a> 一 SQL语言基础</h2><p><strong>SQL概述和分类</strong>:</p><p>SQL：Structured Query Language（结构化查询语言），是用来操作关系型数据库的一门语言。</p><p>这是一个关系型数据库的通用操作语言，也成为标准SQL，也叫SQL-92。</p><p>SQL 是一种标准化的语言，它允许你在数据库上执行操作，如创建项目，查询内容，更新内容， 并删除条目等操作</p><p><strong>Create, Read, Update, and Delete 通常称为CRUD操作</strong></p><br><p><strong>SQL语句分类</strong>：</p><table><thead><tr><th>分类</th><th>说明</th></tr></thead><tbody><tr><td>DDL（Data Definition Language）</td><td>数据定义语言，用来<strong>定义数据库对象：库、表、列</strong></td></tr><tr><td>DML（Data Manipulation Language）</td><td>数据操作语言，用来定义数据库记录（数据）<strong>增删改</strong></td></tr><tr><td>DQL（Data Query Language）</td><td>数据查询语言，用来 <strong>查询记录（数据）</strong></td></tr><tr><td>DCL（Data Control Language）</td><td>数据控制语言，用来定义<strong>访问权限和安全级别</strong></td></tr></tbody></table><br><h3 id="_1-dcl数据控制语言" tabindex="-1"><a class="header-anchor" href="#_1-dcl数据控制语言" aria-hidden="true">#</a> 1. DCL数据控制语言</h3><p>DCL（Data Control Language）， 数据控制语言，用来定义<strong>访问权限和安全级别</strong> ，下为常用的一些用户管理命令：</p><p>创建、删除用户</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 创建用户</span>
<span class="token keyword">create</span> <span class="token keyword">user</span> 用户名@指定ip identified <span class="token keyword">by</span> 密码<span class="token punctuation">;</span>
<span class="token comment">-- 例：（ % 表示任意IP均可登陆）</span>
<span class="token keyword">create</span> <span class="token keyword">user</span> test123<span class="token variable">@localhost</span> IDENTIFIED <span class="token keyword">by</span> <span class="token string">&#39;123123&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">user</span> test456<span class="token variable">@10.4.10.18</span> IDENTIFIED <span class="token keyword">by</span> <span class="token string">&#39;123123&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">user</span> test789<span class="token variable">@&#39;%&#39;</span> IDENTIFIED <span class="token keyword">by</span> <span class="token string">&#39;123123&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">drop</span> <span class="token keyword">user</span> 用户名<span class="token variable">@IP</span><span class="token punctuation">;</span>         <span class="token comment">-- 删除用户 -- 例：</span>
<span class="token keyword">drop</span> <span class="token keyword">user</span> test123<span class="token variable">@localhost</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h4 id="用户权限设置" tabindex="-1"><a class="header-anchor" href="#用户权限设置" aria-hidden="true">#</a> 用户权限设置</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 用户授权：(给指定用户授予指定指定数据库指定权限)</span>
<span class="token keyword">grant</span> 权限<span class="token number">1</span><span class="token punctuation">,</span>权限<span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">on</span> 数据库名<span class="token punctuation">.</span><span class="token operator">*</span>  <span class="token keyword">to</span>  用户名<span class="token variable">@IP</span><span class="token punctuation">;</span> 
<span class="token comment"># 例：</span>
<span class="token keyword">grant</span> <span class="token keyword">select</span><span class="token punctuation">,</span><span class="token keyword">insert</span><span class="token punctuation">,</span><span class="token keyword">update</span><span class="token punctuation">,</span><span class="token keyword">delete</span><span class="token punctuation">,</span><span class="token keyword">create</span> <span class="token keyword">on</span> student<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">&#39;user1&#39;</span><span class="token variable">@&#39;127.0.0.1&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">grant</span> <span class="token keyword">all</span> <span class="token keyword">on</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">&#39;user2&#39;</span><span class="token variable">@&#39;127.0.0.1&#39;</span><span class="token punctuation">;</span>

<span class="token comment"># 用户权限查询：</span>
<span class="token keyword">show</span> grants <span class="token keyword">for</span> 用户名<span class="token variable">@IP</span><span class="token punctuation">;</span>
<span class="token comment"># 例：</span>
<span class="token keyword">show</span> grants <span class="token keyword">for</span> <span class="token string">&#39;root&#39;</span><span class="token variable">@&#39;%&#39;</span><span class="token punctuation">;</span>

<span class="token comment"># 撤销用户权限：</span>
<span class="token keyword">revoke</span> 权限<span class="token number">1</span><span class="token punctuation">,</span>权限<span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>权限n <span class="token keyword">on</span> 数据库名<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> 用户名<span class="token variable">@IP</span><span class="token punctuation">;</span>
<span class="token comment"># 例：</span>
<span class="token keyword">REVOKE</span> <span class="token keyword">SELECT</span> <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token string">&#39;root&#39;</span><span class="token variable">@&#39;%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="_2-ddl-库的操作" tabindex="-1"><a class="header-anchor" href="#_2-ddl-库的操作" aria-hidden="true">#</a> 2. DDL-库的操作</h3><p>DDL（Data Definition Language），数据定义语言，用来<strong>定义数据库对象：库、表、列</strong></p><h4 id="库的操作" tabindex="-1"><a class="header-anchor" href="#库的操作" aria-hidden="true">#</a> 库的操作</h4><p><strong>创建新的数据库</strong> ：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">database</span> 数据库名 <span class="token keyword">set</span> 编码方式 <span class="token keyword">collate</span> 排序规则
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>​ 注：可以使用 <code>SHOW CHARACTER SET;</code> 查看所有的编码方式</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 创建名为mydb的数据库，并指定字符编码为utf8</span>
<span class="token keyword">create</span> <span class="token keyword">database</span> mydb <span class="token keyword">character</span> <span class="token keyword">set</span> utf8<span class="token punctuation">;</span>

<span class="token comment">-- 创建名为mydb1的数据库，并指定字符编码为gbk, 排序规则为gbk_chinese_ci</span>
<span class="token keyword">create</span> <span class="token keyword">database</span> mydb1 <span class="token keyword">character</span> <span class="token keyword">set</span> gbk <span class="token keyword">collate</span> gbk_chinese_ci<span class="token punctuation">;</span>

<span class="token comment">-- 查看所有的字符编码</span>
<span class="token keyword">show</span> <span class="token keyword">character</span> <span class="token keyword">set</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>字符集和校对规则：符集就是一组字符和编号、校对规则是指字符集内字符的排序规则。</p><p>常见的字符集：utf8、gbk、utf8mb4、latin1（不支持中文）</p><p>与之对应的校对规则：utf8_bin（区分大小写）、utf8_general_ci（不区分大小写的）</p><br><p><strong>查看、切换数据库</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">&#39;character%&#39;</span><span class="token punctuation">;</span>  <span class="token comment">-- 查看数据库字符集相关设置信息</span>

<span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span>                    <span class="token comment">-- 查看当前数据库服务器中的所有数据库</span>

<span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">database</span> mydb1<span class="token punctuation">;</span>        <span class="token comment">-- 查看mydb1数据库的定义信息(字符集)</span>

<span class="token keyword">select</span> <span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">-- 查看当前使用的数据库 </span>

<span class="token keyword">use</span> mydb<span class="token punctuation">;</span>                          <span class="token comment">-- 切换数据库到mydb数据库</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><strong>修改数据库（字符集）</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 将mydb1的字符集修改为utf8mb4，排序规则改为utf8mb4_bin</span>
<span class="token keyword">alter</span> <span class="token keyword">database</span> mydb1 <span class="token keyword">character</span> <span class="token keyword">set</span> utf8mb4 <span class="token keyword">collate</span> utf8mb4_bin<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><br><p><strong>删除数据库</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">database</span> mydb1<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><br><div class="custom-container info"><p class="custom-container-title">小结</p><p>1、修改数据库<strong>只能修改数据库的字符编码</strong></p><p>2、在MySQL中<strong>utf字符编码之间没有横杆</strong>： utf8</p></div><br><h3 id="_3-ddl-表的操作" tabindex="-1"><a class="header-anchor" href="#_3-ddl-表的操作" aria-hidden="true">#</a> 3. DDL-表的操作</h3><p><strong>新建、删除数据表</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token punctuation">[</span><span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span><span class="token punctuation">]</span> <span class="token identifier"><span class="token punctuation">`</span>表名<span class="token punctuation">`</span></span><span class="token punctuation">(</span>
    <span class="token identifier"><span class="token punctuation">`</span>字段名<span class="token punctuation">`</span></span> 数据类型 <span class="token punctuation">[</span><span class="token boolean">null</span><span class="token operator">|</span><span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">default</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">auto_increment</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">comment</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>字段名<span class="token punctuation">`</span></span> 数据类型 …
<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token keyword">engine</span><span class="token operator">=</span>存储引擎<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">charset</span><span class="token operator">=</span>字符编码<span class="token punctuation">]</span>


<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token punctuation">[</span><span class="token keyword">if</span> <span class="token keyword">exists</span><span class="token punctuation">]</span> 表<span class="token number">1</span>，表<span class="token number">2</span><span class="token punctuation">,</span>… 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 1. 新建、删除数据表</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> stu1<span class="token punctuation">(</span>
    id <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">comment</span> <span class="token string">&#39;主键&#39;</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>add<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token string">&#39;地址不详&#39;</span> <span class="token keyword">comment</span> <span class="token string">&#39;地址&#39;</span><span class="token punctuation">,</span>
    score <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;成绩&#39;</span>
<span class="token punctuation">)</span><span class="token keyword">engine</span><span class="token operator">=</span><span class="token keyword">innodb</span> <span class="token keyword">charset</span><span class="token operator">=</span>utf8mb4<span class="token punctuation">;</span>


<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> stu1<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><strong>查看表信息</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 2. 查看表信息</span>
<span class="token comment"># 2.1 显示所有表</span>
<span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>

<span class="token comment"># 2.2 查看表结构</span>
<span class="token keyword">describe</span> stu1<span class="token punctuation">;</span>
<span class="token keyword">desc</span> stu1<span class="token punctuation">;</span>

<span class="token comment"># 2.3 查看表的创建信息</span>
<span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">table</span> stu1<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><strong>修改表信息</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 3.1 增加列： alter table 表名 add 新列名 新的数据类型</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> stu1 <span class="token keyword">add</span> <span class="token identifier"><span class="token punctuation">`</span>age<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">;</span>


<span class="token comment"># 3.2 修改列  modify 只能修改列的类型、 change 可以修改列的类型和名字</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> stu1 <span class="token keyword">modify</span> name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- 仅能修改类型</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> stu1 change <span class="token identifier"><span class="token punctuation">`</span>add<span class="token punctuation">`</span></span> address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment"># 3.3 删除列</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> stu1 <span class="token keyword">drop</span> <span class="token identifier"><span class="token punctuation">`</span>age<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
<span class="token comment">-- 同时删除多列、或同时添加及删除</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token identifier"><span class="token punctuation">`</span>user<span class="token punctuation">`</span></span> <span class="token keyword">drop</span> salary<span class="token punctuation">,</span> <span class="token keyword">drop</span> resume<span class="token punctuation">;</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token identifier"><span class="token punctuation">`</span>uset<span class="token punctuation">`</span></span> <span class="token keyword">add</span> english <span class="token keyword">int</span> <span class="token punctuation">,</span><span class="token keyword">drop</span> job<span class="token punctuation">;</span>


<span class="token comment"># 3.4 修改表名和字符集</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> stu1 <span class="token keyword">rename</span> stu2<span class="token punctuation">;</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> stu2 <span class="token keyword">character</span> <span class="token keyword">set</span> utf8mb4<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="_4-dml-增删改" tabindex="-1"><a class="header-anchor" href="#_4-dml-增删改" aria-hidden="true">#</a> 4. DML-增删改</h3><p>DML（Data Manipulation Language）, 数据操作语言，用来定义数据库记录（数据）<strong>增删改</strong></p><h4 id="新增记录-数据" tabindex="-1"><a class="header-anchor" href="#新增记录-数据" aria-hidden="true">#</a> 新增记录（数据）</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> 表名 <span class="token punctuation">(</span>字段名<span class="token punctuation">,</span> 字段名<span class="token punctuation">,</span>…<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span> 值<span class="token number">1</span><span class="token punctuation">,</span>…<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span> 值<span class="token number">1</span><span class="token punctuation">,</span>…<span class="token punctuation">)</span>  

<span class="token comment"># 如：</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> stu <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token string">&#39;李白&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;四川&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token string">&#39;杜甫&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;湖北&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>插入字段名的顺序和数据表中字段名的顺序可以不一致， 但插入值的个数、顺序必须和插入字段名的个数、顺序一致</p></li><li><p>如果插入的值的顺序和个数与表字段的顺序个数一致，插入字段可以省略</p></li><li><p>default关键字用来插入默认值，null用来插入空值.</p><br></li></ul><h4 id="删除数据" tabindex="-1"><a class="header-anchor" href="#删除数据" aria-hidden="true">#</a> 删除数据</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">delete</span> <span class="token keyword">from</span> 表名 <span class="token punctuation">[</span><span class="token keyword">where</span> 条件<span class="token punctuation">]</span>

<span class="token comment"># 例：</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> stu <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h4 id="更新数据" tabindex="-1"><a class="header-anchor" href="#更新数据" aria-hidden="true">#</a> 更新数据</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">update</span> 表名 <span class="token keyword">set</span> 字段 <span class="token operator">=</span> 值 <span class="token punctuation">[</span><span class="token keyword">where</span> 条件<span class="token punctuation">]</span>      

<span class="token comment"># 如：</span>
<span class="token keyword">update</span> stu <span class="token keyword">set</span> sex<span class="token operator">=</span><span class="token string">&#39;女&#39;</span> <span class="token keyword">where</span> stuname<span class="token operator">=</span><span class="token string">&#39;berry&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h2 id="二-dql单表数据查询" tabindex="-1"><a class="header-anchor" href="#二-dql单表数据查询" aria-hidden="true">#</a> 二 DQL单表数据查询</h2><p>DQL（Data Query Language）, 数据查询语言，用来 <strong>查询记录（数据）</strong></p><h3 id="_1-简单和条件查询" tabindex="-1"><a class="header-anchor" href="#_1-简单和条件查询" aria-hidden="true">#</a> 1. 简单和条件查询</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> 列名 <span class="token punctuation">[</span><span class="token keyword">from</span> 表名<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">where</span> 条件<span class="token punctuation">]</span>  <span class="token punctuation">[</span><span class="token keyword">group</span> <span class="token keyword">by</span> 分组<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">order</span> <span class="token keyword">by</span> 排序<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token keyword">having</span> 条件<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">limit</span> 限制<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>简单查询</strong>:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询所有列</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu<span class="token punctuation">;</span>

<span class="token comment">-- 查询指定列</span>
<span class="token keyword">SELECT</span> sid<span class="token punctuation">,</span> sname<span class="token punctuation">,</span> age <span class="token keyword">FROM</span> stu<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><strong>条件查询</strong>: （查询时给出WHERE子句，在WHERE子句中可以使用运算符）</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 查询性别为女，并且年龄50以内的记录  (and)</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">WHERE</span> gender<span class="token operator">=</span><span class="token string">&#39;female&#39;</span> <span class="token operator">AND</span> age<span class="token operator">&lt;</span><span class="token number">50</span><span class="token punctuation">;</span>

<span class="token comment"># 查询学号为S_1001，或者姓名为liSi的记录 (or)</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">WHERE</span> sid <span class="token operator">=</span><span class="token string">&#39;S_1001&#39;</span> <span class="token operator">OR</span> sname<span class="token operator">=</span><span class="token string">&#39;liSi&#39;</span><span class="token punctuation">;</span>

<span class="token comment"># 查询学号为S_1001，S_1002，S_1003的记录 (in)</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">WHERE</span> sid <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">&#39;S_1001&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;S_1002&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;S_1003&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># 查询学号不是S_1001，S_1002，S_1003的记录 (not in)</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> tab_student <span class="token keyword">WHERE</span> sid <span class="token operator">NOT</span> <span class="token operator">IN</span><span class="token punctuation">(</span><span class="token string">&#39;S1001&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;S1002&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;S_1003&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># 查询年龄为null的记录 (is null)</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">WHERE</span> age <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token comment"># 查询年龄在20到40之间的学生记录 （and）</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">WHERE</span> age<span class="token operator">&gt;=</span><span class="token number">20</span> <span class="token operator">AND</span> age<span class="token operator">&lt;=</span><span class="token number">40</span><span class="token punctuation">;</span>

<span class="token comment"># 查询性别非男的学生记录 （ &lt;&gt; 或 != 或 not）</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">WHERE</span> gender<span class="token operator">!=</span><span class="token string">&#39;male&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">WHERE</span> gender<span class="token operator">&lt;&gt;</span><span class="token string">&#39;male&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">WHERE</span> <span class="token operator">NOT</span> gender<span class="token operator">=</span><span class="token string">&#39;male&#39;</span><span class="token punctuation">;</span>

<span class="token comment">#  查询姓名不为null的学生记录 （is null、is not null ）</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">WHERE</span> <span class="token operator">NOT</span> sname <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">WHERE</span> sname <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="_2-排序和模糊查询" tabindex="-1"><a class="header-anchor" href="#_2-排序和模糊查询" aria-hidden="true">#</a> 2. 排序和模糊查询</h3><p><strong>排序</strong> :（ asc 升序 desc 降序 默认是升序）</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 年龄升序排序 （可以省略 asc ）</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> age <span class="token keyword">ASC</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> age<span class="token punctuation">;</span>

<span class="token comment">-- 多列排序：按月薪降序排序，如果月薪相同时，按编号升序排序</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> sal <span class="token keyword">DESC</span><span class="token punctuation">,</span> empno <span class="token keyword">ASC</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><strong>模糊查询</strong>:</p><p>通配符： _(下划线): 任意一个字符   %：任意0~n个字符</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询姓名由3个字构成的学生记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">WHERE</span> sname <span class="token operator">LIKE</span> <span class="token string">&#39;___&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询姓名由5个字母构成，并且第5个字母为“i”的学生记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">WHERE</span> sname <span class="token operator">LIKE</span> <span class="token string">&#39;____i&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询姓名中包含“a”字母的学生记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">WHERE</span> sname <span class="token operator">LIKE</span> <span class="token string">&#39;%a%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="_3-去重和起别名" tabindex="-1"><a class="header-anchor" href="#_3-去重和起别名" aria-hidden="true">#</a> 3. 去重和起别名</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- distinct 去除重复记录 （查询结果包含多列时，只有所有列的值都相同才算重复）</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> sal <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>

<span class="token comment">-- as 给列名添加别名(给列起别名时，可以省略AS关键字)</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token punctuation">,</span> sal<span class="token operator">+</span>IFNULL<span class="token punctuation">(</span>comm<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> total <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="_4-常用聚合函数" tabindex="-1"><a class="header-anchor" href="#_4-常用聚合函数" aria-hidden="true">#</a> 4. 常用聚合函数</h3><ul><li>COUNT(列名)：统计指定列不为NULL的记录行数；</li><li>MAX(列名)：计算指定列的最大值，如果指定列是字符串类型，那么使用字符串排序运算；</li><li>MIN(列名)：计算指定列的最小值，如果指定列是字符串类型，那么使用字符串排序运算；</li><li>SUM(列名)：计算指定列的数值和，如果指定列类型不是数值类型，那么计算结果为0；</li><li>AVG(列名)：计算指定列的平均值，如果指定列类型不是数值类型，那么计算结果为0；</li></ul><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询emp表中记录数：（count）</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> cnt <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>
<span class="token comment">-- 查询emp表中有佣金的人数：（么只统计comm列非NULL的行数），cnt为别名</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>comm<span class="token punctuation">)</span> cnt <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>

<span class="token comment">-- 统计月薪与佣金之和大于2500元的人数：</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> cnt <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> sal<span class="token operator">+</span>IFNULL<span class="token punctuation">(</span>comm<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2500</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询有佣金的人数，以及有领导的人数：</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>comm<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>mgr<span class="token punctuation">)</span><span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询所有雇员月薪和：（SUM）</span>
<span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>
<span class="token comment">-- 查询所有雇员月薪+佣金和：</span>
<span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span>sal<span class="token operator">+</span>IFNULL<span class="token punctuation">(</span>comm<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>

<span class="token comment">-- 统计所有员工平均工资：（AVG）</span>
<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>

<span class="token comment">-- 查询最高工资和最低工资： （MAX和MIN）</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">MIN</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>聚合函数通常来说是配合分组一起来使用</p><br><h3 id="_5-分组和分页查询" tabindex="-1"><a class="header-anchor" href="#_5-分组和分页查询" aria-hidden="true">#</a> 5. 分组和分页查询</h3><p>分组查询时需要使用GROUP BY子句，<strong>如果查询语句中有分组操作，则select后面能添加的只能是聚合函数和被分组的列名</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询每个部门的部门编号和每个部门的工资和：</span>
<span class="token keyword">SELECT</span> deptno<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> deptno<span class="token punctuation">;</span>

<span class="token comment">-- 查询每个部门的部门编号 以及每个部门的人数：</span>
<span class="token keyword">SELECT</span> deptno<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> deptno<span class="token punctuation">;</span>

<span class="token comment">-- 查询每个部门的部门编号 以及每个部门工资大于1500的人数：</span>
<span class="token keyword">SELECT</span> deptno<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp <span class="token keyword">WHERE</span> sal<span class="token operator">&gt;</span><span class="token number">1500</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> deptno<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p>分组配合 <code>group_concat</code> 函数一起使用示例：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 按照班级进行分组</span>
<span class="token keyword">select</span> clazz<span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">as</span> id<span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">as</span> name <span class="token keyword">from</span> stu <span class="token keyword">group</span> <span class="token keyword">by</span> clazz<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><br><div class="custom-container info"><p class="custom-container-title">HAVING子句（having与where的区别）</p><ul><li><p>having是在分组后对数据进行过滤, where是在分组前对数据进行过滤</p><p>WHERE是对分组前记录的条件，如果某行记录没有满足WHERE子句的条件，那么这行记录不会参加分组；</p><p>而HAVING是对分组后数据的约束</p></li><li><p>having后面可以使用分组函数(统计函数) where后面不可以使用分组函数</p></li></ul><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询工资总和大于9000的部门编号以及工资和：</span>
<span class="token keyword">SELECT</span> deptno<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> deptno
<span class="token keyword">HAVING</span> <span class="token function">SUM</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">9000</span><span class="token punctuation">;</span>

<span class="token comment">-- 统计出stu表中每个班级的男女生各多少人</span>
<span class="token keyword">select</span> gradename<span class="token punctuation">,</span>gender<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> stu <span class="token keyword">group</span> <span class="token keyword">by</span> gradename<span class="token punctuation">,</span>gender
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><br><p><strong>分页：LIMIT</strong> 用来限定查询结果的起始行，以及总行数</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询5行记录，起始行从0开始 （从0开始时，0可以省略）</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">LIMIT</span> <span class="token number">5</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询10行记录，起始行从5开始</span>
<span class="token keyword">SELECT</span><span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">LIMIT</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token comment">-- 分页查询通用写法：（pageIndex表示页数 pageSize表示每页显示条数）</span>
<span class="token keyword">limit</span> <span class="token punctuation">(</span>pageindex<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>pagesize<span class="token punctuation">,</span> pagesize<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><div class="custom-container warning"><p class="custom-container-title">总结：SQL书写顺序和执行顺序</p><p>查询语句书写顺序：<code>select –&gt; from –&gt; where –&gt; group by –&gt; having –&gt; order by –&gt; limit </code></p><p>查询语句执行顺序：<code>from –&gt; where –&gt; group by –&gt; having –&gt; select –&gt; order by –&gt; limit</code></p></div><br><h2 id="三-dql多表连接查询" tabindex="-1"><a class="header-anchor" href="#三-dql多表连接查询" aria-hidden="true">#</a> 三 DQL多表连接查询</h2><h3 id="_0-联合查询union" tabindex="-1"><a class="header-anchor" href="#_0-联合查询union" aria-hidden="true">#</a> 0. 联合查询union</h3><p>合并结果集 的两种方式：<code>UNION（去重） 、 UNION ALL（不去重）</code></p><p>合并结果集就是把两个select语句的查询结果（行）合并到一起，</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t1 <span class="token keyword">UNION</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t2；
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>-- 联合查询要求上下的两个SQL语句的结果的结构是一样的。 -- 联合查询通常情况下可以使用in查询来替代，但是也有自己独特的场景。（当in查询效率很慢的时候，我们可以考虑使用联合查询）。</p><br><h3 id="_1-叉联结cross-join" tabindex="-1"><a class="header-anchor" href="#_1-叉联结cross-join" aria-hidden="true">#</a> 1. 叉联结cross-join</h3><blockquote><p><em>笛卡尔积</em> ：假设集合A={a,b}，集合B={0,1,2}，则两个集合的笛卡尔积为</p><p>{</p><p>​ (a,0), (a,1), (a,2),</p><p>​ (b,0), (b,1), (b,2)</p><p>}</p></blockquote><p>返回笛卡儿积的联结，也称 叉联结（cross join）交叉连接没有实际的意义。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 交叉连接</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> province <span class="token keyword">cross</span> <span class="token keyword">join</span> city<span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> privince<span class="token punctuation">,</span>city<span class="token punctuation">;</span>               <span class="token comment"># ANSI SQL 89语法  , 两者等效</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="_2-内连接inner-join" tabindex="-1"><a class="header-anchor" href="#_2-内连接inner-join" aria-hidden="true">#</a> 2. 内连接inner-join</h3><p>内连接查询的结果是在交叉连接的基础之上，通过连接的条件进行筛选出来的结果</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 显式内连接</span>
<span class="token keyword">select</span> 列名
<span class="token keyword">from</span> 表<span class="token number">1</span>
<span class="token keyword">inner</span> <span class="token keyword">join</span> 表<span class="token number">2</span>
<span class="token keyword">on</span> 表<span class="token number">1.</span>列名<span class="token operator">=</span>表<span class="token number">2.</span>列名  <span class="token comment">//外键列的关系</span>
<span class="token keyword">where</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">-- 等价于：(隐式内连接: 和显式内连接的结果是完全一致的。只有写法上有区别)</span>
<span class="token keyword">select</span> 列名
<span class="token keyword">from</span> 表<span class="token number">1</span><span class="token punctuation">,</span>表<span class="token number">2</span>
<span class="token keyword">where</span> 表<span class="token number">1.</span>列名<span class="token operator">=</span>表<span class="token number">2.</span>列名 <span class="token operator">and</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">(</span>其他条件<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div> <br><h3 id="_3-外连接outer-join" tabindex="-1"><a class="header-anchor" href="#_3-外连接outer-join" aria-hidden="true">#</a> 3. 外连接outer-join</h3><p>外连接的结果是在内连接结果集之上去和左边（或者右边）的表做 <strong>并集</strong>。</p><p>主表数据全部显示，次表数据匹配显示，能匹配到的显示数据，匹配不成功的显示null，如：</p><ul><li><p><strong>左外连接</strong> <code>LEFT [OUTER] JOIN</code></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> 列名 <span class="token keyword">from</span> 主表 <span class="token keyword">left</span> <span class="token keyword">join</span> 次表 <span class="token keyword">on</span> 主表<span class="token punctuation">.</span>列名<span class="token operator">=</span>次表<span class="token punctuation">.</span>列名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><strong>右外连接</strong> <code>RIGHT [OUTER] JOIN</code></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> 列名 <span class="token keyword">from</span> 次表 <span class="token keyword">right</span> <span class="token keyword">join</span> 主表 <span class="token keyword">on</span> 主表<span class="token punctuation">.</span>列名<span class="token operator">=</span>次表<span class="token punctuation">.</span>列名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>全外连接 <code>FULL JOIN</code>（MySQL不支持）</p></li></ul><br><h3 id="_4-自然连接natural-join" tabindex="-1"><a class="header-anchor" href="#_4-自然连接natural-join" aria-hidden="true">#</a> 4. 自然连接natural-join</h3><p>自然连接 <code>NATURAL JOIN</code> ： 一种特殊的等值连接</p><p>将两个表中具有相同名称的列进行匹配</p><p>要求两个关系表中进行连接的必须是相同的属性列（名字相同），无须添加连接条件，并且在结果中消除重复的属性列</p><br><h3 id="_5-子查询-嵌套查询" tabindex="-1"><a class="header-anchor" href="#_5-子查询-嵌套查询" aria-hidden="true">#</a> 5. 子查询（嵌套查询）</h3><p>子查询就是嵌套查询, 一个select语句中包含另一个完整的select语句</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employee <span class="token keyword">where</span> dep_id<span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> department d <span class="token keyword">where</span> d<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">&#39;研发部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><br><h2 id="四-sql数据类型及运算" tabindex="-1"><a class="header-anchor" href="#四-sql数据类型及运算" aria-hidden="true">#</a> 四 SQL数据类型及运算</h2><h3 id="_1-sql运算符" tabindex="-1"><a class="header-anchor" href="#_1-sql运算符" aria-hidden="true">#</a> 1. SQL运算符</h3><p><strong>算术运算符</strong>：MySQL 支持的算术运算符包括:</p><table><thead><tr><th style="text-align:center;">运算符</th><th style="text-align:left;">作用</th></tr></thead><tbody><tr><td style="text-align:center;">+</td><td style="text-align:left;">加法</td></tr><tr><td style="text-align:center;">-</td><td style="text-align:left;">减法</td></tr><tr><td style="text-align:center;">*</td><td style="text-align:left;">乘法</td></tr><tr><td style="text-align:center;">/ 或 DIV</td><td style="text-align:left;">除法（如果除数为0，返回NULL）</td></tr><tr><td style="text-align:center;">% 或 MOD</td><td style="text-align:left;">取余</td></tr></tbody></table><br><p><strong>比较运算符</strong>：通过比较运算符，可以判断表中的哪些记录是符合条件的</p><table><thead><tr><th style="text-align:center;">比较运算符</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:center;">=</td><td style="text-align:left;">等于</td></tr><tr><td style="text-align:center;">&lt;&gt;, !=</td><td style="text-align:left;">不等于</td></tr><tr><td style="text-align:center;">&gt;</td><td style="text-align:left;">大于</td></tr><tr><td style="text-align:center;">&lt;</td><td style="text-align:left;">小于</td></tr><tr><td style="text-align:center;">&lt;=</td><td style="text-align:left;">小于等于</td></tr><tr><td style="text-align:center;">&gt;=</td><td style="text-align:left;">大于等于</td></tr><tr><td style="text-align:center;">BETWEEN</td><td style="text-align:left;">在两值之间（小于等于且大于等于）</td></tr><tr><td style="text-align:center;">NOT BETWEEN</td><td style="text-align:left;">不在两值之间</td></tr><tr><td style="text-align:center;">IN</td><td style="text-align:left;">在集合中</td></tr><tr><td style="text-align:center;">NOT IN</td><td style="text-align:left;">不在集合中</td></tr><tr><td style="text-align:center;">&lt;=&gt;</td><td style="text-align:left;">严格比较两个NULL值是否相等</td></tr><tr><td style="text-align:center;">LIKE</td><td style="text-align:left;">模糊匹配</td></tr><tr><td style="text-align:center;">REGEXP 或 RLIKE</td><td style="text-align:left;">正则式匹配</td></tr><tr><td style="text-align:center;">IS NULL</td><td style="text-align:left;">为空</td></tr><tr><td style="text-align:center;">IS NOT NULL</td><td style="text-align:left;">不为空</td></tr></tbody></table><br><p><strong>逻辑运算符</strong>：用来判断表达式的真假，真返回 1，假返回 0</p><table><thead><tr><th style="text-align:left;">运算符号</th><th style="text-align:left;">作用</th></tr></thead><tbody><tr><td style="text-align:left;">NOT 或 !</td><td style="text-align:left;">逻辑非</td></tr><tr><td style="text-align:left;">AND</td><td style="text-align:left;">逻辑与</td></tr><tr><td style="text-align:left;">OR</td><td style="text-align:left;">逻辑或</td></tr><tr><td style="text-align:left;">XOR</td><td style="text-align:left;">逻辑异或</td></tr></tbody></table><br><h3 id="_2-常用数据类型" tabindex="-1"><a class="header-anchor" href="#_2-常用数据类型" aria-hidden="true">#</a> 2. 常用数据类型</h3><table><thead><tr><th style="text-align:center;">常用数据类型</th><th style="text-align:center;">大小（bytes）</th><th>说明</th></tr></thead><tbody><tr><td style="text-align:center;">int</td><td style="text-align:center;">4</td><td>整型 （-2 147 483 648，2 147 483 647）±21亿</td></tr><tr><td style="text-align:center;">double</td><td style="text-align:center;">8</td><td>浮点型，例如double(5,2)表示最多5位，其中必须有2位小数，即最大值为 999.99</td></tr><tr><td style="text-align:center;">char</td><td style="text-align:center;">0-255</td><td>固定长度字符串类型； <code>char(10) &#39;aaa&#39; </code> 占10个字符的位置</td></tr><tr><td style="text-align:center;">varchar</td><td style="text-align:center;">0-65535</td><td>可变长度字符串类型； <code>varchar(10) &#39;aaa&#39;</code>占3字符</td></tr><tr><td style="text-align:center;">text</td><td style="text-align:center;">0-65535</td><td>字符串类型，比如小说信息</td></tr><tr><td style="text-align:center;">blob</td><td style="text-align:center;">0-65535</td><td>字节类型，保存文件信息(视频，音频，图片)</td></tr><tr><td style="text-align:center;">date</td><td style="text-align:center;">3</td><td>日期类型，格式为：yyyy-MM-dd</td></tr><tr><td style="text-align:center;">time</td><td style="text-align:center;">3</td><td>时间类型，格式为：hh:mm:ss</td></tr><tr><td style="text-align:center;">timestamp</td><td style="text-align:center;">4</td><td>时间戳类型 yyyy-MM-dd hh:mm:ss 会自动赋值</td></tr><tr><td style="text-align:center;">datetime</td><td style="text-align:center;">8</td><td>日期时间类型 yyyy-MM-dd hh:mm:ss</td></tr></tbody></table><br><p>MySQL支持的数据类型非常多，选择正确的数据类型对于获得高性能至关重要。</p><p>不管存储哪种类型的数据，下面几个简单的原则都有助于做出更好的选择。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token number">1.</span> 更小的通常更好。
一般情况下，应该尽量使用可以正确存储数据的最小数据类型<span class="token punctuation">.</span> 
更小的数据类型通常更快，因为它们占用更少的磁盘、内存和CPU缓存，并且处理时需要的CPU周期也更少。
<span class="token punctuation">(</span>如果无法确定哪个数据类型是最好的，就选择你认为不会超过范围的最小类型。<span class="token punctuation">)</span>

<span class="token number">2.</span> 简单就好
简单数据类型的操作通常需要更少的CPU周期。
例如，整型比字符操作代价更低，因为字符集和校对规则（排序规则）使字符比较比整型比较更复杂。
这里有两个例子：
一个是应该使用MySQL内建的类型而不是字符串来存储日期和时间，
另外一个是应该用整型存储IP地址

<span class="token number">3.</span> 尽量避免<span class="token boolean">NULL</span>
很多表都包含可为<span class="token boolean">NULL</span> （空值）的列，即使应用程序并不需要保存<span class="token boolean">NULL</span> 也是如此，这是因为可为<span class="token boolean">NULL</span> 是列的默认属性 。
通常情况下最好指定列为 <span class="token operator">NOT</span> <span class="token boolean">NULL</span> ，除非真的需要存储<span class="token boolean">NULL</span> 值。
通常把可为<span class="token boolean">NULL</span> 的列改为<span class="token operator">NOT</span> <span class="token boolean">NULL</span> 带来的性能提升比较小，所以（调优时）没有必要首先在现有<span class="token keyword">schema</span>中查找并修改掉这种情
况，除非确定这会导致问题。但是，如果计划在列上建索引，就应该尽量避免设计成可为<span class="token boolean">NULL</span>的列。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>DATETIME 和TIMESAMP 列都可以存储相同类型的数据：时间和日期，精确到秒。
然而TIMESTAMP 只使用DATETIME 一半的存储空间，并且会根据时区变化，具有特殊的自动更新能力。
另一方面，TIMESTAMP 允许的时间范围要小得多，有时候它的特殊能力会成为障碍。

MySQL为了兼容性支持很多别名，例如INTEGER、BOOL ，以及NUMERIC 。
它们都只是别名。这些别名可能令人不解，但不会影响性能。
如果建表时采用数据类型的别名，然后用SHOW CREATE TABLE 检查，会发现MySQL报告的是基本类型，而不是别名。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h4 id="_1-数字类型" tabindex="-1"><a class="header-anchor" href="#_1-数字类型" aria-hidden="true">#</a> 1) 数字类型</h4><p>有两种类型的数字：整数（whole number）和实数（real number）</p><br><p><strong>整数类型</strong>：TINYINT，SMALLINT，MEDIUMINT，INT，BIGINT 。分别使用 8，16，24，32，64位存储空间</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>整数类型有可选的<span class="token keyword">UNSIGNED</span> 属性，表示不允许负值，这大致可以使正数的上限提高一倍。
例如 <span class="token keyword">TINYINT</span> <span class="token keyword">UNSIGNED</span> 可以存储的范围是<span class="token number">0</span>～<span class="token number">255</span>，而 <span class="token keyword">TINYINT</span> 的存储范围是 −<span class="token number">128</span>～<span class="token number">127</span>。

有符号和无符号类型使用相同的存储空间，并具有相同的性能，因此可以根据实际情况选择合适的类型

你的选择可以决定MySQL是怎么在内存和磁盘中保存数据的。
然而，整数计算一般使用<span class="token number">64</span>位的<span class="token keyword">BIGINT</span> 整数，即使在<span class="token number">32</span>位环境也是如此（一些聚合函数是例外，它们使用 <span class="token keyword">DECIMAL</span> 或 <span class="token keyword">DOUBLE</span> 进行计算）


MySQL可以为整数类型指定宽度，例如<span class="token keyword">INT</span>（<span class="token number">11</span>） ，对大多数应用这是没有意义的：
它不会限制值的合法范围，只是规定了MySQL的一些交互工具（例如MySQL命令行客户端）用来显示字符的个数。
对于存储和计算来说，<span class="token keyword">INT</span>（<span class="token number">1</span>） 和<span class="token keyword">INT</span>（<span class="token number">20</span>） 是相同的。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><strong>实数类型</strong>：实数是带有小数部分的数字。</p><p>然而，它们不只是为了存储小数部分；也可以使用DECIMAL 存储比BIGINT 还大的整数。MySQL既支持精确类型，也支持不精确类型。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">FLOAT</span> 和 <span class="token keyword">DOUBLE</span> 类型支持使用标准的浮点运算进行近似计算。
<span class="token comment">-- 如果需要知道浮点运算是怎么计算的，则需要研究所使用的平台的浮点数的具体实现。</span>

<span class="token keyword">DECIMAL</span> 类型用于存储精确的小数。在MySQL <span class="token number">5.0</span>和更高版本，<span class="token keyword">DECIMAL</span> 类型支持精确计算。
<span class="token comment">-- MySQL 4.1以及更早版本则使用浮点运算来实现DECIAML 的计算，这样做会因为精度损失导致一些奇怪的结果。</span>
<span class="token comment">-- 在这些版本的MySQL中，DECIMAL 只是一个“存储类型”。</span>

因为CPU不支持对<span class="token keyword">DECIMAL</span> 的直接计算，所以在MySQL <span class="token number">5.0</span>以及更高版本中，MySQL服务器自身实现了<span class="token keyword">DECIMAL</span> 的高精度计算。
相对而言，CPU直接支持原生浮点计算，所以浮点运算明显更快。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>有多种方法可以指定浮点列所需要的精度，这会使得MySQL悄悄选择不同的数据类型，或者在存储时对值进行取舍。
这些精度定义是非标准的，所以我们建议只指定数据类型，不指定精度。

浮点类型在存储同样范围的值时，通常比<span class="token keyword">DECIMAL</span> 使用更少的空间。
<span class="token keyword">FLOAT</span> 使用<span class="token number">4</span>个字节存储。<span class="token keyword">DOUBLE</span> 占用<span class="token number">8</span>个字节，相比<span class="token keyword">FLOAT</span>有更高的精度和更大的范围。和整数类型一样，能选择的只是存储类型；


MySQL使用 <span class="token keyword">DOUBLE</span> 作为内部浮点计算的类型。
因为需要额外的空间和计算开销，所以应该尽量只在对小数进行精确计算时才使用 <span class="token keyword">DECIMAL</span> <span class="token comment">-- 例如存储财务数据。</span>

但在数据量比较大的时候，可以考虑使用 <span class="token keyword">BIGINT</span> 代替 <span class="token keyword">DECIMAL</span> ，将需要存储的货币单位根据小数的位数乘以相应的倍数即可。
<span class="token comment">-- 假设要存储财务数据精确到万分之一分，则可以把所有金额乘以一百万，然后将结果存储在 BIGINT 里，</span>
<span class="token comment">-- 这样可以同时避免 浮点存储计算不精确 和 DECIMAL 精确计算代价高 的问题。</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h4 id="_2-字符串类型" tabindex="-1"><a class="header-anchor" href="#_2-字符串类型" aria-hidden="true">#</a> 2) 字符串类型</h4><p>VARCHAR 和 CHAR 是两种最主要的字符串类型。</p><p>不幸的是，很难精确地解释这些值是怎么存储在磁盘和内存中的，因为这跟存储引擎的具体实现有关。</p><br><p>先看看 InnoDB 或者MyISAM 通常 怎么存储 VARCHAR 和 CHAR 值在磁盘上 ：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">VARCHAR</span> 类型用于存储可变长字符串，是最常见的字符串数据类型。
它比定长类型更节省空间，因为它仅使用必要的空间（例如，越短的字符串使用越少的空间）。
<span class="token comment">-- 有一种情况例外，如果MySQL表使用ROW_FORMAT=FIXED 创建的话，每一行都会使用定长存储，这会很浪费空间。</span>

<span class="token keyword">VARCHAR</span> 需要使用<span class="token number">1</span>或<span class="token number">2</span>个额外字节记录字符串的长度：
<span class="token comment">-- 如果列的最大长度小于或等于255字节，则只使用1个字节表示，否则使用2个字节。</span>
<span class="token comment">-- 假设采用latin1字符集，一个VARCHAR（10） 的列需要11个字节的存储空间。</span>
<span class="token comment">-- VARCHAR（1000） 的列则需要1002个字节，因为需要2个字节存储长度信息。</span>


<span class="token keyword">VARCHAR</span> 节省了存储空间，所以对性能也有帮助。
但是，由于行是变长的，在<span class="token keyword">UPDATE</span> 时可能使行变得比原来更长，这就导致需要做额外的工作。
如果一个行占用的空间增长，并且在页内没有更多的空间可以存储，在这种情况下，不同的存储引擎的处理方式是不一样的。
例如，MyISAM会将行拆成不同的片段存储，<span class="token keyword">InnoDB</span>则需要分裂页来使行可以放进页内。其他一些存储引擎也许从不在原数据位置更新数据


下面这些情况下使用 <span class="token keyword">VARCHAR</span> 是合适的：
<span class="token number">1.</span> 字符串列的最大长度比平均长度大很多；
<span class="token number">2.</span> 列的更新很少，所以碎片不是问题；
<span class="token number">3.</span> 使用了像 UTF<span class="token operator">-</span><span class="token number">8</span> 这样复杂的字符集，每个字符都使用不同的字节数进行存储。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><div class="language-SQL ext-SQL line-numbers-mode"><pre class="language-SQL"><code>CHAR 类型是定长的：MySQL总是根据定义的字符串长度分配足够的空间。当存储CHAR 值时，MySQL会删除所有的末尾空格

CHAR 适合存储很短的字符串，或者所有值都接近同一个长度。例如，
-- 1. CHAR 非常适合存储密码的MD5 值，因为这是一个定长的值。
-- 2. 对于经常变更的数据，CHAR 也比VARCHAR 更好，因为定长的CHAR 类型不容易产生碎片。
-- 3. 对于非常短的列，CHAR 比VARCHAR 在存储空间上也更有效率。
--    例如用CHAR（1） 来存储只有Y和N的值，如果采用单字节字符集只需要一个字节，
--    但是VARCHAR（1） 却需要两个字节，因为还有一个记录长度的额外字节。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h4 id="_3-enum-set" tabindex="-1"><a class="header-anchor" href="#_3-enum-set" aria-hidden="true">#</a> 3) enum&amp;set</h4><br><h4 id="_4-时间和日期" tabindex="-1"><a class="header-anchor" href="#_4-时间和日期" aria-hidden="true">#</a> 4) 时间和日期</h4><br><h3 id="_3-sql执行顺序" tabindex="-1"><a class="header-anchor" href="#_3-sql执行顺序" aria-hidden="true">#</a> 3. SQL执行顺序</h3><p>单表查询时的执行顺序：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">SELECT</span> column_name<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> table_name<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token keyword">WHERE</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> 
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> 
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token keyword">HAVING</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> 
<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token keyword">LIMIT</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从上面可以得知，我们的SQL语句的书写顺序是按照上述顺序来写各个关键字，如果顺序不对，那么会存在语法错误。</p><p>执行的顺序大致是按照上述的编号（1）、（2）…来执行的，</p><p>只有（5）这个顺序有和MySQL内部的优化器相关，优化器会影响MySQL执行SQL的性能。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> class<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> c <span class="token keyword">from</span> t_students <span class="token keyword">group</span> <span class="token keyword">by</span> class <span class="token keyword">having</span> c<span class="token operator">&gt;</span><span class="token number">1</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><br></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/develop-note/edit/main/demo/src/Database/sql/sql.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><!----><!----></footer><!----><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">Drizzle</div><div class="copyright">Copyright © 2022 csdrizzle</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/blog/assets/app.9c585e1a.js" defer></script>
  </body>
</html>
